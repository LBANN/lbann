<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>LBANN: lbann::lbann_callback_checkpoint Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">LBANN
   &#160;<span id="projectnumber">@LBANN_MAJOR_VERSION@.@LBANN_MINOR_VERSION@</span>
   </div>
   <div id="projectbrief">LivermoreBigArtificialNeuralNetworkToolkit</div>
  </td>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('classlbann_1_1lbann__callback__checkpoint.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pro-attribs">Protected Attributes</a> &#124;
<a href="classlbann_1_1lbann__callback__checkpoint-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">lbann::lbann_callback_checkpoint Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="callback__checkpoint_8hpp_source.html">callback_checkpoint.hpp</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for lbann::lbann_callback_checkpoint:</div>
<div class="dyncontent">
<div class="center"><img src="classlbann_1_1lbann__callback__checkpoint__inherit__graph.png" border="0" usemap="#lbann_1_1lbann__callback__checkpoint_inherit__map" alt="Inheritance graph"/></div>
<map name="lbann_1_1lbann__callback__checkpoint_inherit__map" id="lbann_1_1lbann__callback__checkpoint_inherit__map">
<area shape="rect" id="node2" href="classlbann_1_1lbann__callback.html" title="lbann::lbann_callback" alt="" coords="5,5,155,31"/>
</map>
<center><span class="legend">[<a target="top" href="graph_legend.html">legend</a>]</span></center></div>
<div class="dynheader">
Collaboration diagram for lbann::lbann_callback_checkpoint:</div>
<div class="dyncontent">
<div class="center"><img src="classlbann_1_1lbann__callback__checkpoint__coll__graph.png" border="0" usemap="#lbann_1_1lbann__callback__checkpoint_coll__map" alt="Collaboration graph"/></div>
<map name="lbann_1_1lbann__callback__checkpoint_coll__map" id="lbann_1_1lbann__callback__checkpoint_coll__map">
<area shape="rect" id="node2" href="classlbann_1_1lbann__callback.html" title="lbann::lbann_callback" alt="" coords="9,92,158,117"/>
<area shape="rect" id="node3" href="classlbann_1_1lbann__summary.html" title="lbann::lbann_summary" alt="" coords="5,5,162,31"/>
</map>
<center><span class="legend">[<a target="top" href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a865e633d1f041e3f2e5465b1d05f3603"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1lbann__callback__checkpoint.html#a865e633d1f041e3f2e5465b1d05f3603">lbann_callback_checkpoint</a> (std::string checkpoint_dir, int checkpoint_epochs, int checkpoint_steps, int checkpoint_secs, bool checkpoint_per_rank)</td></tr>
<tr class="separator:a865e633d1f041e3f2e5465b1d05f3603"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a954c1b3f33fc293151d5bf37a8053628"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1lbann__callback__checkpoint.html#a954c1b3f33fc293151d5bf37a8053628">lbann_callback_checkpoint</a> (const <a class="el" href="classlbann_1_1lbann__callback__checkpoint.html">lbann_callback_checkpoint</a> &amp;)=default</td></tr>
<tr class="separator:a954c1b3f33fc293151d5bf37a8053628"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aab65cb67b53e6af00142a9dc665f9ce8"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classlbann_1_1lbann__callback__checkpoint.html">lbann_callback_checkpoint</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1lbann__callback__checkpoint.html#aab65cb67b53e6af00142a9dc665f9ce8">operator=</a> (const <a class="el" href="classlbann_1_1lbann__callback__checkpoint.html">lbann_callback_checkpoint</a> &amp;)=default</td></tr>
<tr class="separator:aab65cb67b53e6af00142a9dc665f9ce8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a63dc49f38f063f9b85d9abdf8b2855aa"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classlbann_1_1lbann__callback__checkpoint.html">lbann_callback_checkpoint</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1lbann__callback__checkpoint.html#a63dc49f38f063f9b85d9abdf8b2855aa">copy</a> () const override</td></tr>
<tr class="separator:a63dc49f38f063f9b85d9abdf8b2855aa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a383654a7bb70672dfc9fef679f4b509f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1lbann__callback__checkpoint.html#a383654a7bb70672dfc9fef679f4b509f">setup</a> (<a class="el" href="classlbann_1_1model.html">model</a> *m) override</td></tr>
<tr class="separator:a383654a7bb70672dfc9fef679f4b509f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a406bfba673e503e94ae6eb57aff6a78e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1lbann__callback__checkpoint.html#a406bfba673e503e94ae6eb57aff6a78e">on_epoch_end</a> (<a class="el" href="classlbann_1_1model.html">model</a> *m) override</td></tr>
<tr class="separator:a406bfba673e503e94ae6eb57aff6a78e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a476527e2b7b44dd3623e01f63ddb5f78"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1lbann__callback__checkpoint.html#a476527e2b7b44dd3623e01f63ddb5f78">on_batch_end</a> (<a class="el" href="classlbann_1_1model.html">model</a> *m) override</td></tr>
<tr class="separator:a476527e2b7b44dd3623e01f63ddb5f78"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5fb4288c03b1ce14681b72562e9471b2"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1lbann__callback__checkpoint.html#a5fb4288c03b1ce14681b72562e9471b2">on_validation_end</a> (<a class="el" href="classlbann_1_1model.html">model</a> *m) override</td></tr>
<tr class="separator:a5fb4288c03b1ce14681b72562e9471b2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adc9b6a01e100893c2dd0cfc7090c4079"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1lbann__callback__checkpoint.html#adc9b6a01e100893c2dd0cfc7090c4079">set_checkpoint_dir</a> (std::string dir)</td></tr>
<tr class="separator:adc9b6a01e100893c2dd0cfc7090c4079"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a718cf388085e51253a84c494511d1fb7"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1lbann__callback__checkpoint.html#a718cf388085e51253a84c494511d1fb7">set_checkpoint_epochs</a> (int epochs)</td></tr>
<tr class="separator:a718cf388085e51253a84c494511d1fb7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa385a1dda770ddf7a801134b96d3fcfd"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1lbann__callback__checkpoint.html#aa385a1dda770ddf7a801134b96d3fcfd">set_checkpoint_steps</a> (int steps)</td></tr>
<tr class="separator:aa385a1dda770ddf7a801134b96d3fcfd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a91a0e5627986654d719930ba5eeebc9e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1lbann__callback__checkpoint.html#a91a0e5627986654d719930ba5eeebc9e">set_checkpoint_secs</a> (<a class="el" href="base_8hpp.html#a3266f5ac18504bbadea983c109566867">EvalType</a> secs)</td></tr>
<tr class="separator:a91a0e5627986654d719930ba5eeebc9e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac3a0bb250a679b28924910c0dc617809"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1lbann__callback__checkpoint.html#ac3a0bb250a679b28924910c0dc617809">set_checkpoint_per_rank</a> (bool per_rank)</td></tr>
<tr class="separator:ac3a0bb250a679b28924910c0dc617809"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2e5f396667ccc45f7203263b06c5e216"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1lbann__callback__checkpoint.html#a2e5f396667ccc45f7203263b06c5e216">need_checkpoint</a> (<a class="el" href="classlbann_1_1model.html">model</a> *m)</td></tr>
<tr class="separator:a2e5f396667ccc45f7203263b06c5e216"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a23b6f5abb924b2c4d0694e98c7d6f4d5"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1lbann__callback__checkpoint.html#a23b6f5abb924b2c4d0694e98c7d6f4d5">checkpointShared</a> (<a class="el" href="classlbann_1_1model.html">model</a> *m)</td></tr>
<tr class="separator:a23b6f5abb924b2c4d0694e98c7d6f4d5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a40d369278bc5963ba2f3cca1750ba004"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1lbann__callback__checkpoint.html#a40d369278bc5963ba2f3cca1750ba004">restartShared</a> (<a class="el" href="classlbann_1_1model.html">model</a> *m)</td></tr>
<tr class="separator:a40d369278bc5963ba2f3cca1750ba004"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa1afa81c9638bf76fb6ecfe91d07a88e"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1lbann__callback__checkpoint.html#aa1afa81c9638bf76fb6ecfe91d07a88e">name</a> () const override</td></tr>
<tr class="separator:aa1afa81c9638bf76fb6ecfe91d07a88e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_classlbann_1_1lbann__callback"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_classlbann_1_1lbann__callback')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="classlbann_1_1lbann__callback.html">lbann::lbann_callback</a></td></tr>
<tr class="memitem:a679057298a41ddd47f08c157f756c584 inherit pub_methods_classlbann_1_1lbann__callback"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1lbann__callback.html#a679057298a41ddd47f08c157f756c584">lbann_callback</a> (int batch_interval=1, <a class="el" href="classlbann_1_1lbann__summary.html">lbann_summary</a> *summarizer=nullptr)</td></tr>
<tr class="separator:a679057298a41ddd47f08c157f756c584 inherit pub_methods_classlbann_1_1lbann__callback"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a91d994616b8bf98685ac32939228f96a inherit pub_methods_classlbann_1_1lbann__callback"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1lbann__callback.html#a91d994616b8bf98685ac32939228f96a">lbann_callback</a> (const <a class="el" href="classlbann_1_1lbann__callback.html">lbann_callback</a> &amp;)=default</td></tr>
<tr class="separator:a91d994616b8bf98685ac32939228f96a inherit pub_methods_classlbann_1_1lbann__callback"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a66b0a8c00a273669fa782ece59e8898b inherit pub_methods_classlbann_1_1lbann__callback"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classlbann_1_1lbann__callback.html">lbann_callback</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1lbann__callback.html#a66b0a8c00a273669fa782ece59e8898b">operator=</a> (const <a class="el" href="classlbann_1_1lbann__callback.html">lbann_callback</a> &amp;)=default</td></tr>
<tr class="separator:a66b0a8c00a273669fa782ece59e8898b inherit pub_methods_classlbann_1_1lbann__callback"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac91abaec389f8d2547512c45ae587304 inherit pub_methods_classlbann_1_1lbann__callback"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1lbann__callback.html#ac91abaec389f8d2547512c45ae587304">~lbann_callback</a> ()</td></tr>
<tr class="separator:ac91abaec389f8d2547512c45ae587304 inherit pub_methods_classlbann_1_1lbann__callback"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a02d924df2f8ca851578dc76d9015e48d inherit pub_methods_classlbann_1_1lbann__callback"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1lbann__callback.html#a02d924df2f8ca851578dc76d9015e48d">set_summarizer</a> (<a class="el" href="classlbann_1_1lbann__summary.html">lbann_summary</a> *summarizer)</td></tr>
<tr class="separator:a02d924df2f8ca851578dc76d9015e48d inherit pub_methods_classlbann_1_1lbann__callback"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7c8f0d211967ccc5219144e92571ab26 inherit pub_methods_classlbann_1_1lbann__callback"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1lbann__callback.html#a7c8f0d211967ccc5219144e92571ab26">on_train_begin</a> (<a class="el" href="classlbann_1_1model.html">model</a> *m)</td></tr>
<tr class="separator:a7c8f0d211967ccc5219144e92571ab26 inherit pub_methods_classlbann_1_1lbann__callback"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af28078b0ddaef45124465bef01eefedf inherit pub_methods_classlbann_1_1lbann__callback"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1lbann__callback.html#af28078b0ddaef45124465bef01eefedf">on_train_end</a> (<a class="el" href="classlbann_1_1model.html">model</a> *m)</td></tr>
<tr class="separator:af28078b0ddaef45124465bef01eefedf inherit pub_methods_classlbann_1_1lbann__callback"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ace7452239c9ad7aa6247e9496adbcffe inherit pub_methods_classlbann_1_1lbann__callback"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1lbann__callback.html#ace7452239c9ad7aa6247e9496adbcffe">on_phase_end</a> (<a class="el" href="classlbann_1_1model.html">model</a> *m)</td></tr>
<tr class="separator:ace7452239c9ad7aa6247e9496adbcffe inherit pub_methods_classlbann_1_1lbann__callback"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4ed9498763412a55953fff71ee3a9456 inherit pub_methods_classlbann_1_1lbann__callback"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1lbann__callback.html#a4ed9498763412a55953fff71ee3a9456">on_epoch_begin</a> (<a class="el" href="classlbann_1_1model.html">model</a> *m)</td></tr>
<tr class="separator:a4ed9498763412a55953fff71ee3a9456 inherit pub_methods_classlbann_1_1lbann__callback"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9ecf4e44cd4021cdd687de14c850cc83 inherit pub_methods_classlbann_1_1lbann__callback"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1lbann__callback.html#a9ecf4e44cd4021cdd687de14c850cc83">on_batch_begin</a> (<a class="el" href="classlbann_1_1model.html">model</a> *m)</td></tr>
<tr class="separator:a9ecf4e44cd4021cdd687de14c850cc83 inherit pub_methods_classlbann_1_1lbann__callback"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a716bff45bdc5a88eed09c2231f5bc93a inherit pub_methods_classlbann_1_1lbann__callback"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1lbann__callback.html#a716bff45bdc5a88eed09c2231f5bc93a">on_test_begin</a> (<a class="el" href="classlbann_1_1model.html">model</a> *m)</td></tr>
<tr class="separator:a716bff45bdc5a88eed09c2231f5bc93a inherit pub_methods_classlbann_1_1lbann__callback"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:accbad4dd004c1ced33642db6398b2efe inherit pub_methods_classlbann_1_1lbann__callback"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1lbann__callback.html#accbad4dd004c1ced33642db6398b2efe">on_test_end</a> (<a class="el" href="classlbann_1_1model.html">model</a> *m)</td></tr>
<tr class="separator:accbad4dd004c1ced33642db6398b2efe inherit pub_methods_classlbann_1_1lbann__callback"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2bde303671110519388d9962bc3e5583 inherit pub_methods_classlbann_1_1lbann__callback"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1lbann__callback.html#a2bde303671110519388d9962bc3e5583">on_validation_begin</a> (<a class="el" href="classlbann_1_1model.html">model</a> *m)</td></tr>
<tr class="separator:a2bde303671110519388d9962bc3e5583 inherit pub_methods_classlbann_1_1lbann__callback"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a22ed977371173105b4aad3a20b9c59dc inherit pub_methods_classlbann_1_1lbann__callback"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1lbann__callback.html#a22ed977371173105b4aad3a20b9c59dc">on_forward_prop_begin</a> (<a class="el" href="classlbann_1_1model.html">model</a> *m)</td></tr>
<tr class="separator:a22ed977371173105b4aad3a20b9c59dc inherit pub_methods_classlbann_1_1lbann__callback"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab96adb1d77180e00fdd668cd381323fd inherit pub_methods_classlbann_1_1lbann__callback"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1lbann__callback.html#ab96adb1d77180e00fdd668cd381323fd">on_forward_prop_begin</a> (<a class="el" href="classlbann_1_1model.html">model</a> *m, <a class="el" href="classlbann_1_1Layer.html">Layer</a> *l)</td></tr>
<tr class="separator:ab96adb1d77180e00fdd668cd381323fd inherit pub_methods_classlbann_1_1lbann__callback"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a79a0bb407852d7b330b74373647ffe46 inherit pub_methods_classlbann_1_1lbann__callback"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1lbann__callback.html#a79a0bb407852d7b330b74373647ffe46">on_forward_prop_end</a> (<a class="el" href="classlbann_1_1model.html">model</a> *m)</td></tr>
<tr class="separator:a79a0bb407852d7b330b74373647ffe46 inherit pub_methods_classlbann_1_1lbann__callback"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5eff0a59fbce98a981d9cdd0547a3ad5 inherit pub_methods_classlbann_1_1lbann__callback"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1lbann__callback.html#a5eff0a59fbce98a981d9cdd0547a3ad5">on_forward_prop_end</a> (<a class="el" href="classlbann_1_1model.html">model</a> *m, <a class="el" href="classlbann_1_1Layer.html">Layer</a> *l)</td></tr>
<tr class="separator:a5eff0a59fbce98a981d9cdd0547a3ad5 inherit pub_methods_classlbann_1_1lbann__callback"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2c0709a26179d115ff85b7561786ee27 inherit pub_methods_classlbann_1_1lbann__callback"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1lbann__callback.html#a2c0709a26179d115ff85b7561786ee27">on_backward_prop_begin</a> (<a class="el" href="classlbann_1_1model.html">model</a> *m)</td></tr>
<tr class="separator:a2c0709a26179d115ff85b7561786ee27 inherit pub_methods_classlbann_1_1lbann__callback"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abeb1e486e259fd358332abf1e952f630 inherit pub_methods_classlbann_1_1lbann__callback"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1lbann__callback.html#abeb1e486e259fd358332abf1e952f630">on_backward_prop_begin</a> (<a class="el" href="classlbann_1_1model.html">model</a> *m, <a class="el" href="classlbann_1_1Layer.html">Layer</a> *l)</td></tr>
<tr class="separator:abeb1e486e259fd358332abf1e952f630 inherit pub_methods_classlbann_1_1lbann__callback"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af183624e63ba65e0003fa988f53dee0c inherit pub_methods_classlbann_1_1lbann__callback"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1lbann__callback.html#af183624e63ba65e0003fa988f53dee0c">on_backward_prop_end</a> (<a class="el" href="classlbann_1_1model.html">model</a> *m)</td></tr>
<tr class="separator:af183624e63ba65e0003fa988f53dee0c inherit pub_methods_classlbann_1_1lbann__callback"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aba03b59c056ace8094095c08e39b9ac4 inherit pub_methods_classlbann_1_1lbann__callback"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1lbann__callback.html#aba03b59c056ace8094095c08e39b9ac4">on_backward_prop_end</a> (<a class="el" href="classlbann_1_1model.html">model</a> *m, <a class="el" href="classlbann_1_1Layer.html">Layer</a> *l)</td></tr>
<tr class="separator:aba03b59c056ace8094095c08e39b9ac4 inherit pub_methods_classlbann_1_1lbann__callback"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1a9248b305f06419889c1b3b0f0893d8 inherit pub_methods_classlbann_1_1lbann__callback"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1lbann__callback.html#a1a9248b305f06419889c1b3b0f0893d8">on_optimize_begin</a> (<a class="el" href="classlbann_1_1model.html">model</a> *m)</td></tr>
<tr class="separator:a1a9248b305f06419889c1b3b0f0893d8 inherit pub_methods_classlbann_1_1lbann__callback"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a497e750da160e0071ce8864ccc3a1344 inherit pub_methods_classlbann_1_1lbann__callback"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1lbann__callback.html#a497e750da160e0071ce8864ccc3a1344">on_optimize_begin</a> (<a class="el" href="classlbann_1_1model.html">model</a> *m, <a class="el" href="classlbann_1_1weights.html">weights</a> *w)</td></tr>
<tr class="separator:a497e750da160e0071ce8864ccc3a1344 inherit pub_methods_classlbann_1_1lbann__callback"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a235195d5fa4461835b861a03a5c0278f inherit pub_methods_classlbann_1_1lbann__callback"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1lbann__callback.html#a235195d5fa4461835b861a03a5c0278f">on_optimize_end</a> (<a class="el" href="classlbann_1_1model.html">model</a> *m)</td></tr>
<tr class="separator:a235195d5fa4461835b861a03a5c0278f inherit pub_methods_classlbann_1_1lbann__callback"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4653e2903bfd3903709a81eaf7eabc1a inherit pub_methods_classlbann_1_1lbann__callback"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1lbann__callback.html#a4653e2903bfd3903709a81eaf7eabc1a">on_optimize_end</a> (<a class="el" href="classlbann_1_1model.html">model</a> *m, <a class="el" href="classlbann_1_1weights.html">weights</a> *w)</td></tr>
<tr class="separator:a4653e2903bfd3903709a81eaf7eabc1a inherit pub_methods_classlbann_1_1lbann__callback"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3462e54126adbd0082c22c98d8de5468 inherit pub_methods_classlbann_1_1lbann__callback"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1lbann__callback.html#a3462e54126adbd0082c22c98d8de5468">on_batch_evaluate_begin</a> (<a class="el" href="classlbann_1_1model.html">model</a> *m)</td></tr>
<tr class="separator:a3462e54126adbd0082c22c98d8de5468 inherit pub_methods_classlbann_1_1lbann__callback"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad10891b8ab3de74ee1a70e6255e7d58a inherit pub_methods_classlbann_1_1lbann__callback"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1lbann__callback.html#ad10891b8ab3de74ee1a70e6255e7d58a">on_batch_evaluate_end</a> (<a class="el" href="classlbann_1_1model.html">model</a> *m)</td></tr>
<tr class="separator:ad10891b8ab3de74ee1a70e6255e7d58a inherit pub_methods_classlbann_1_1lbann__callback"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4a2cff48a688bb56ed14b8b53344f945 inherit pub_methods_classlbann_1_1lbann__callback"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1lbann__callback.html#a4a2cff48a688bb56ed14b8b53344f945">on_evaluate_forward_prop_begin</a> (<a class="el" href="classlbann_1_1model.html">model</a> *m)</td></tr>
<tr class="separator:a4a2cff48a688bb56ed14b8b53344f945 inherit pub_methods_classlbann_1_1lbann__callback"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a044174864e4981a1dac093d58e8c4d6c inherit pub_methods_classlbann_1_1lbann__callback"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1lbann__callback.html#a044174864e4981a1dac093d58e8c4d6c">on_evaluate_forward_prop_begin</a> (<a class="el" href="classlbann_1_1model.html">model</a> *m, <a class="el" href="classlbann_1_1Layer.html">Layer</a> *l)</td></tr>
<tr class="separator:a044174864e4981a1dac093d58e8c4d6c inherit pub_methods_classlbann_1_1lbann__callback"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0794f3fb88db6fef53f0e2f235f94424 inherit pub_methods_classlbann_1_1lbann__callback"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1lbann__callback.html#a0794f3fb88db6fef53f0e2f235f94424">on_evaluate_forward_prop_end</a> (<a class="el" href="classlbann_1_1model.html">model</a> *m)</td></tr>
<tr class="separator:a0794f3fb88db6fef53f0e2f235f94424 inherit pub_methods_classlbann_1_1lbann__callback"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae23c5a61b81dbdfbd79736ac2b6035aa inherit pub_methods_classlbann_1_1lbann__callback"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1lbann__callback.html#ae23c5a61b81dbdfbd79736ac2b6035aa">on_evaluate_forward_prop_end</a> (<a class="el" href="classlbann_1_1model.html">model</a> *m, <a class="el" href="classlbann_1_1Layer.html">Layer</a> *l)</td></tr>
<tr class="separator:ae23c5a61b81dbdfbd79736ac2b6035aa inherit pub_methods_classlbann_1_1lbann__callback"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acec888932129f93ba2a0077192467c9e inherit pub_methods_classlbann_1_1lbann__callback"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1lbann__callback.html#acec888932129f93ba2a0077192467c9e">get_batch_interval</a> () const</td></tr>
<tr class="separator:acec888932129f93ba2a0077192467c9e inherit pub_methods_classlbann_1_1lbann__callback"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr class="memitem:ac89386fda60744e6399f97003fea3711"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1lbann__callback__checkpoint.html#ac89386fda60744e6399f97003fea3711">m_checkpoint_dir</a></td></tr>
<tr class="separator:ac89386fda60744e6399f97003fea3711"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad6f4399effadedb26e33fc39a3c6915e"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1lbann__callback__checkpoint.html#ad6f4399effadedb26e33fc39a3c6915e">m_checkpoint_epochs</a></td></tr>
<tr class="separator:ad6f4399effadedb26e33fc39a3c6915e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad6debea7d9bbebd3ee0323acec11516f"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1lbann__callback__checkpoint.html#ad6debea7d9bbebd3ee0323acec11516f">m_checkpoint_steps</a></td></tr>
<tr class="separator:ad6debea7d9bbebd3ee0323acec11516f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a285658a96f8546952c9016ef4cc12161"><td class="memItemLeft" align="right" valign="top"><a class="el" href="base_8hpp.html#a3266f5ac18504bbadea983c109566867">EvalType</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1lbann__callback__checkpoint.html#a285658a96f8546952c9016ef4cc12161">m_checkpoint_secs</a></td></tr>
<tr class="separator:a285658a96f8546952c9016ef4cc12161"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a36af7331ddf213339fe7282cb53ffedc"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1lbann__callback__checkpoint.html#a36af7331ddf213339fe7282cb53ffedc">m_checkpoint_per_rank</a></td></tr>
<tr class="separator:a36af7331ddf213339fe7282cb53ffedc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a842304929c265ffa9d285e635fbbbbd7"><td class="memItemLeft" align="right" valign="top"><a class="el" href="base_8hpp.html#a3266f5ac18504bbadea983c109566867">EvalType</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1lbann__callback__checkpoint.html#a842304929c265ffa9d285e635fbbbbd7">m_checkpoint_last</a></td></tr>
<tr class="separator:a842304929c265ffa9d285e635fbbbbd7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9632d5f0078d3ff2015e96dba789e15c"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1lbann__callback__checkpoint.html#a9632d5f0078d3ff2015e96dba789e15c">m_epoch_end</a></td></tr>
<tr class="separator:a9632d5f0078d3ff2015e96dba789e15c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3827e5bb569f80d790c3ac856a7c39b5"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1lbann__callback__checkpoint.html#a3827e5bb569f80d790c3ac856a7c39b5">m_val_end</a></td></tr>
<tr class="separator:a3827e5bb569f80d790c3ac856a7c39b5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pro_attribs_classlbann_1_1lbann__callback"><td colspan="2" onclick="javascript:toggleInherit('pro_attribs_classlbann_1_1lbann__callback')"><img src="closed.png" alt="-"/>&#160;Protected Attributes inherited from <a class="el" href="classlbann_1_1lbann__callback.html">lbann::lbann_callback</a></td></tr>
<tr class="memitem:a6126e310e9924398c18ccf76bb91c705 inherit pro_attribs_classlbann_1_1lbann__callback"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1lbann__callback.html#a6126e310e9924398c18ccf76bb91c705">m_batch_interval</a></td></tr>
<tr class="separator:a6126e310e9924398c18ccf76bb91c705 inherit pro_attribs_classlbann_1_1lbann__callback"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a277d46138184f85f161a8263b8322c76 inherit pro_attribs_classlbann_1_1lbann__callback"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classlbann_1_1lbann__summary.html">lbann_summary</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1lbann__callback.html#a277d46138184f85f161a8263b8322c76">m_summarizer</a></td></tr>
<tr class="separator:a277d46138184f85f161a8263b8322c76 inherit pro_attribs_classlbann_1_1lbann__callback"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><ul>
<li>Checkpoint at given interval in given directory </li>
</ul>

<p class="definition">Definition at line <a class="el" href="callback__checkpoint_8hpp_source.html#l00039">39</a> of file <a class="el" href="callback__checkpoint_8hpp_source.html">callback_checkpoint.hpp</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a865e633d1f041e3f2e5465b1d05f3603"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a865e633d1f041e3f2e5465b1d05f3603">&#9670;&nbsp;</a></span>lbann_callback_checkpoint() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">lbann::lbann_callback_checkpoint::lbann_callback_checkpoint </td>
          <td>(</td>
          <td class="paramtype">std::string&#160;</td>
          <td class="paramname"><em>checkpoint_dir</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>checkpoint_epochs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>checkpoint_steps</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>checkpoint_secs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>checkpoint_per_rank</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">checkpoint_dir</td><td>directory to save checkpoint files </td></tr>
    <tr><td class="paramname">checkpoint_epochs</td><td>interval to checkpoint </td></tr>
    <tr><td class="paramname">checkpoint_steps</td><td>interval to checkpoint </td></tr>
    <tr><td class="paramname">checkpoint_secs</td><td>interval to checkpoint </td></tr>
    <tr><td class="paramname">checkpoint_per_rank</td><td>true to save/load a file per mpi rank </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="callback__checkpoint_8hpp_source.html#l00049">49</a> of file <a class="el" href="callback__checkpoint_8hpp_source.html">callback_checkpoint.hpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;                                                                                                                                                  : </div><div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;    <a class="code" href="classlbann_1_1lbann__callback.html#a679057298a41ddd47f08c157f756c584">lbann_callback</a>(), <a class="code" href="classlbann_1_1lbann__callback__checkpoint.html#ac89386fda60744e6399f97003fea3711">m_checkpoint_dir</a>(checkpoint_dir), <a class="code" href="classlbann_1_1lbann__callback__checkpoint.html#ad6f4399effadedb26e33fc39a3c6915e">m_checkpoint_epochs</a>(checkpoint_epochs), <a class="code" href="classlbann_1_1lbann__callback__checkpoint.html#ad6debea7d9bbebd3ee0323acec11516f">m_checkpoint_steps</a>(checkpoint_steps), <a class="code" href="classlbann_1_1lbann__callback__checkpoint.html#a285658a96f8546952c9016ef4cc12161">m_checkpoint_secs</a>(checkpoint_secs), <a class="code" href="classlbann_1_1lbann__callback__checkpoint.html#a36af7331ddf213339fe7282cb53ffedc">m_checkpoint_per_rank</a>(checkpoint_per_rank) {}</div><div class="ttc" id="classlbann_1_1lbann__callback__checkpoint_html_a285658a96f8546952c9016ef4cc12161"><div class="ttname"><a href="classlbann_1_1lbann__callback__checkpoint.html#a285658a96f8546952c9016ef4cc12161">lbann::lbann_callback_checkpoint::m_checkpoint_secs</a></div><div class="ttdeci">EvalType m_checkpoint_secs</div><div class="ttdef"><b>Definition:</b> <a href="callback__checkpoint_8hpp_source.html#l00087">callback_checkpoint.hpp:87</a></div></div>
<div class="ttc" id="classlbann_1_1lbann__callback__checkpoint_html_a36af7331ddf213339fe7282cb53ffedc"><div class="ttname"><a href="classlbann_1_1lbann__callback__checkpoint.html#a36af7331ddf213339fe7282cb53ffedc">lbann::lbann_callback_checkpoint::m_checkpoint_per_rank</a></div><div class="ttdeci">bool m_checkpoint_per_rank</div><div class="ttdef"><b>Definition:</b> <a href="callback__checkpoint_8hpp_source.html#l00088">callback_checkpoint.hpp:88</a></div></div>
<div class="ttc" id="classlbann_1_1lbann__callback__checkpoint_html_ad6debea7d9bbebd3ee0323acec11516f"><div class="ttname"><a href="classlbann_1_1lbann__callback__checkpoint.html#ad6debea7d9bbebd3ee0323acec11516f">lbann::lbann_callback_checkpoint::m_checkpoint_steps</a></div><div class="ttdeci">int m_checkpoint_steps</div><div class="ttdef"><b>Definition:</b> <a href="callback__checkpoint_8hpp_source.html#l00086">callback_checkpoint.hpp:86</a></div></div>
<div class="ttc" id="classlbann_1_1lbann__callback__checkpoint_html_ac89386fda60744e6399f97003fea3711"><div class="ttname"><a href="classlbann_1_1lbann__callback__checkpoint.html#ac89386fda60744e6399f97003fea3711">lbann::lbann_callback_checkpoint::m_checkpoint_dir</a></div><div class="ttdeci">std::string m_checkpoint_dir</div><div class="ttdef"><b>Definition:</b> <a href="callback__checkpoint_8hpp_source.html#l00084">callback_checkpoint.hpp:84</a></div></div>
<div class="ttc" id="classlbann_1_1lbann__callback_html_a679057298a41ddd47f08c157f756c584"><div class="ttname"><a href="classlbann_1_1lbann__callback.html#a679057298a41ddd47f08c157f756c584">lbann::lbann_callback::lbann_callback</a></div><div class="ttdeci">lbann_callback(int batch_interval=1, lbann_summary *summarizer=nullptr)</div><div class="ttdef"><b>Definition:</b> <a href="callback_8hpp_source.html#l00049">callback.hpp:49</a></div></div>
<div class="ttc" id="classlbann_1_1lbann__callback__checkpoint_html_ad6f4399effadedb26e33fc39a3c6915e"><div class="ttname"><a href="classlbann_1_1lbann__callback__checkpoint.html#ad6f4399effadedb26e33fc39a3c6915e">lbann::lbann_callback_checkpoint::m_checkpoint_epochs</a></div><div class="ttdeci">int m_checkpoint_epochs</div><div class="ttdef"><b>Definition:</b> <a href="callback__checkpoint_8hpp_source.html#l00085">callback_checkpoint.hpp:85</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classlbann_1_1lbann__callback__checkpoint_a865e633d1f041e3f2e5465b1d05f3603_cgraph.png" border="0" usemap="#classlbann_1_1lbann__callback__checkpoint_a865e633d1f041e3f2e5465b1d05f3603_cgraph" alt=""/></div>
<map name="classlbann_1_1lbann__callback__checkpoint_a865e633d1f041e3f2e5465b1d05f3603_cgraph" id="classlbann_1_1lbann__callback__checkpoint_a865e633d1f041e3f2e5465b1d05f3603_cgraph">
<area shape="rect" id="node2" href="classlbann_1_1lbann__callback__checkpoint.html#aab65cb67b53e6af00142a9dc665f9ce8" title="lbann::lbann_callback\l_checkpoint::operator=" alt="" coords="241,12,399,51"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classlbann_1_1lbann__callback__checkpoint_a865e633d1f041e3f2e5465b1d05f3603_icgraph.png" border="0" usemap="#classlbann_1_1lbann__callback__checkpoint_a865e633d1f041e3f2e5465b1d05f3603_icgraph" alt=""/></div>
<map name="classlbann_1_1lbann__callback__checkpoint_a865e633d1f041e3f2e5465b1d05f3603_icgraph" id="classlbann_1_1lbann__callback__checkpoint_a865e633d1f041e3f2e5465b1d05f3603_icgraph">
<area shape="rect" id="node2" href="classlbann_1_1lbann__callback__checkpoint.html#a63dc49f38f063f9b85d9abdf8b2855aa" title="lbann::lbann_callback\l_checkpoint::copy" alt="" coords="241,12,391,51"/>
</map>
</div>

</div>
</div>
<a id="a954c1b3f33fc293151d5bf37a8053628"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a954c1b3f33fc293151d5bf37a8053628">&#9670;&nbsp;</a></span>lbann_callback_checkpoint() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">lbann::lbann_callback_checkpoint::lbann_callback_checkpoint </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classlbann_1_1lbann__callback__checkpoint.html">lbann_callback_checkpoint</a> &amp;&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">default</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a23b6f5abb924b2c4d0694e98c7d6f4d5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a23b6f5abb924b2c4d0694e98c7d6f4d5">&#9670;&nbsp;</a></span>checkpointShared()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool lbann::lbann_callback_checkpoint::checkpointShared </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classlbann_1_1model.html">model</a> *&#160;</td>
          <td class="paramname"><em>m</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="callback__checkpoint_8cpp_source.html#l00145">145</a> of file <a class="el" href="callback__checkpoint_8cpp_source.html">callback_checkpoint.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;                                                         {</div><div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;  <span class="comment">// if the checkpoint directory is not defined, bail</span></div><div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classlbann_1_1lbann__callback__checkpoint.html#ac89386fda60744e6399f97003fea3711">m_checkpoint_dir</a>.length() == 0) {</div><div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;  }</div><div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;  <span class="comment">// time how long this takes</span></div><div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;  El::Timer timer;</div><div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;  lbann_comm *<a class="code" href="file__io_8cpp.html#ab048c6f9fcbcfaa57ce68b00263dbebe">comm</a> = m-&gt;get_comm();</div><div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;  <span class="comment">// get checkpoint directory</span></div><div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">char</span> *dir = <a class="code" href="classlbann_1_1lbann__callback__checkpoint.html#ac89386fda60744e6399f97003fea3711">m_checkpoint_dir</a>.c_str();</div><div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;  <span class="comment">// read current epoch and step counters from model</span></div><div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;  <span class="keywordtype">int</span> epoch = m-&gt;get_cur_epoch();</div><div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;  <span class="keywordtype">int</span> step  = m-&gt;get_cur_step();</div><div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;  <span class="comment">// let user know we&#39;re saving a checkpoint</span></div><div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;  MPI_Barrier(MPI_COMM_WORLD);</div><div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;  <span class="keywordflow">if</span> (comm-&gt;am_world_master()) {</div><div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;    timer.Start();</div><div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;    printf(<span class="stringliteral">&quot;Checkpoint: epoch %d step %d ...\n&quot;</span>, epoch, step);</div><div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;    fflush(stdout);</div><div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;  }</div><div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;  <span class="comment">// create top level directory</span></div><div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;  <span class="comment">//const char* dir = trainParams.ParameterDir.c_str();</span></div><div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;  <a class="code" href="namespacelbann.html#a8830dea8eef0ab5b93d68e2358ceeb1a">makedir</a>(dir);</div><div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;  <span class="comment">// create subdirectory for this epoch</span></div><div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;  <span class="keywordtype">char</span> epochdir[1024];</div><div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;  snprintf(epochdir, <span class="keyword">sizeof</span>(epochdir), <span class="stringliteral">&quot;%s/shared.epoch.%d.step.%d&quot;</span>, dir, epoch, step);</div><div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;  <span class="comment">// start our checkpoint</span></div><div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;  persist p;</div><div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;  p.open_checkpoint(epochdir,<a class="code" href="classlbann_1_1lbann__callback__checkpoint.html#a36af7331ddf213339fe7282cb53ffedc">m_checkpoint_per_rank</a>, <a class="code" href="classlbann_1_1lbann__callback__checkpoint.html#a3827e5bb569f80d790c3ac856a7c39b5">m_val_end</a>);</div><div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;  <span class="comment">// call virtual function to checkpoint model state</span></div><div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;  <span class="comment">//if(m_epoch_end){</span></div><div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;</div><div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;  m-&gt;save_to_checkpoint_shared(p,<a class="code" href="classlbann_1_1lbann__callback__checkpoint.html#a3827e5bb569f80d790c3ac856a7c39b5">m_val_end</a>);</div><div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;  <span class="comment">// close our checkpoint</span></div><div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;  p.close_checkpoint();</div><div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;  uint64_t bytes_count = p.get_bytes();</div><div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;  <span class="comment">// write epoch number to current file, we do this at the end so as to only update</span></div><div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;  <span class="comment">// this file when we know we have a new valid checkpoint</span></div><div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;  <span class="keywordflow">if</span> (comm-&gt;am_world_master()) {</div><div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;    <a class="code" href="namespacelbann.html#a35a39e949cfd1d7f8c15f94e4d44ecff">write_latest</a>(dir, <span class="stringliteral">&quot;last.shared.checkpoint&quot;</span>, epoch, step);</div><div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;  }</div><div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;  <span class="comment">// stop timer and report cost</span></div><div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;  MPI_Barrier(MPI_COMM_WORLD);</div><div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;  <span class="keywordflow">if</span> (comm-&gt;am_world_master()) {</div><div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;    <a class="code" href="base_8hpp.html#a3266f5ac18504bbadea983c109566867">EvalType</a> secs = timer.Stop();</div><div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;    <a class="code" href="base_8hpp.html#a3266f5ac18504bbadea983c109566867">EvalType</a> bw = 0;</div><div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;    <span class="keywordflow">if</span> (secs &gt; 0.0) {</div><div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;      bw = <a class="code" href="base_8hpp.html#a3266f5ac18504bbadea983c109566867">EvalType</a>(bytes_count) / (secs * 1024.0 * 1024.0);</div><div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;    }</div><div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;    printf(<span class="stringliteral">&quot;Checkpoint complete: Epoch=%d Step=%d (%f secs, %llu bytes, %f MB/sec)\n&quot;</span>,</div><div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;           epoch, step, secs, (<span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <span class="keywordtype">long</span>) bytes_count, bw</div><div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;          );</div><div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;    fflush(stdout);</div><div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;  }</div><div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;  <span class="comment">// saved a checkpoint, update our last checkpoint time</span></div><div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;  <a class="code" href="classlbann_1_1lbann__callback__checkpoint.html#a842304929c265ffa9d285e635fbbbbd7">m_checkpoint_last</a> = MPI_Wtime();</div><div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;}</div><div class="ttc" id="base_8hpp_html_a3266f5ac18504bbadea983c109566867"><div class="ttname"><a href="base_8hpp.html#a3266f5ac18504bbadea983c109566867">EvalType</a></div><div class="ttdeci">double EvalType</div><div class="ttdef"><b>Definition:</b> <a href="base_8hpp_source.html#l00063">base.hpp:63</a></div></div>
<div class="ttc" id="classlbann_1_1lbann__callback__checkpoint_html_a842304929c265ffa9d285e635fbbbbd7"><div class="ttname"><a href="classlbann_1_1lbann__callback__checkpoint.html#a842304929c265ffa9d285e635fbbbbd7">lbann::lbann_callback_checkpoint::m_checkpoint_last</a></div><div class="ttdeci">EvalType m_checkpoint_last</div><div class="ttdef"><b>Definition:</b> <a href="callback__checkpoint_8hpp_source.html#l00089">callback_checkpoint.hpp:89</a></div></div>
<div class="ttc" id="classlbann_1_1lbann__callback__checkpoint_html_a36af7331ddf213339fe7282cb53ffedc"><div class="ttname"><a href="classlbann_1_1lbann__callback__checkpoint.html#a36af7331ddf213339fe7282cb53ffedc">lbann::lbann_callback_checkpoint::m_checkpoint_per_rank</a></div><div class="ttdeci">bool m_checkpoint_per_rank</div><div class="ttdef"><b>Definition:</b> <a href="callback__checkpoint_8hpp_source.html#l00088">callback_checkpoint.hpp:88</a></div></div>
<div class="ttc" id="file__io_8cpp_html_ab048c6f9fcbcfaa57ce68b00263dbebe"><div class="ttname"><a href="file__io_8cpp.html#ab048c6f9fcbcfaa57ce68b00263dbebe">comm</a></div><div class="ttdeci">static MPI_Comm comm</div><div class="ttdef"><b>Definition:</b> <a href="file__io_8cpp_source.html#l00044">file_io.cpp:44</a></div></div>
<div class="ttc" id="classlbann_1_1lbann__callback__checkpoint_html_a3827e5bb569f80d790c3ac856a7c39b5"><div class="ttname"><a href="classlbann_1_1lbann__callback__checkpoint.html#a3827e5bb569f80d790c3ac856a7c39b5">lbann::lbann_callback_checkpoint::m_val_end</a></div><div class="ttdeci">bool m_val_end</div><div class="ttdef"><b>Definition:</b> <a href="callback__checkpoint_8hpp_source.html#l00091">callback_checkpoint.hpp:91</a></div></div>
<div class="ttc" id="namespacelbann_html_a35a39e949cfd1d7f8c15f94e4d44ecff"><div class="ttname"><a href="namespacelbann.html#a35a39e949cfd1d7f8c15f94e4d44ecff">lbann::write_latest</a></div><div class="ttdeci">static bool write_latest(const char *dir, const char *name, int epoch, int train)</div><div class="ttdef"><b>Definition:</b> <a href="callback__checkpoint_8cpp_source.html#l00108">callback_checkpoint.cpp:108</a></div></div>
<div class="ttc" id="namespacelbann_html_a8830dea8eef0ab5b93d68e2358ceeb1a"><div class="ttname"><a href="namespacelbann.html#a8830dea8eef0ab5b93d68e2358ceeb1a">lbann::makedir</a></div><div class="ttdeci">int makedir(const char *dirname)</div><div class="ttdef"><b>Definition:</b> <a href="file__io_8cpp_source.html#l00049">file_io.cpp:49</a></div></div>
<div class="ttc" id="classlbann_1_1lbann__callback__checkpoint_html_ac89386fda60744e6399f97003fea3711"><div class="ttname"><a href="classlbann_1_1lbann__callback__checkpoint.html#ac89386fda60744e6399f97003fea3711">lbann::lbann_callback_checkpoint::m_checkpoint_dir</a></div><div class="ttdeci">std::string m_checkpoint_dir</div><div class="ttdef"><b>Definition:</b> <a href="callback__checkpoint_8hpp_source.html#l00084">callback_checkpoint.hpp:84</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classlbann_1_1lbann__callback__checkpoint_a23b6f5abb924b2c4d0694e98c7d6f4d5_cgraph.png" border="0" usemap="#classlbann_1_1lbann__callback__checkpoint_a23b6f5abb924b2c4d0694e98c7d6f4d5_cgraph" alt=""/></div>
<map name="classlbann_1_1lbann__callback__checkpoint_a23b6f5abb924b2c4d0694e98c7d6f4d5_cgraph" id="classlbann_1_1lbann__callback__checkpoint_a23b6f5abb924b2c4d0694e98c7d6f4d5_cgraph">
<area shape="rect" id="node2" href="classlbann_1_1model.html#a9e1cfe449d2f4858a32994f6be0042fb" title="lbann::model::get_comm" alt="" coords="267,5,435,31"/>
<area shape="rect" id="node3" href="classlbann_1_1model.html#a1cf70e098524cc5013bce56edd96dfe7" title="lbann::model::get_cur\l_epoch" alt="" coords="276,55,426,93"/>
<area shape="rect" id="node4" href="classlbann_1_1model.html#ad0cdcba177434b52dc9c4a97be183a92" title="lbann::model::get_cur_step" alt="" coords="260,117,442,143"/>
<area shape="rect" id="node5" href="classlbann_1_1lbann__comm.html#a1ef526486183a29feadca9bef096a534" title="lbann::lbann_comm::\lam_world_master" alt="" coords="279,167,424,205"/>
<area shape="rect" id="node6" href="namespacelbann.html#a8830dea8eef0ab5b93d68e2358ceeb1a" title="lbann::makedir" alt="" coords="519,235,628,260"/>
<area shape="rect" id="node7" href="classlbann_1_1persist.html#a32a8f71995b674a62b21087ec4be9575" title="lbann::persist::open\l_checkpoint" alt="" coords="282,281,420,320"/>
<area shape="rect" id="node9" href="classlbann_1_1model.html#a3d589d2e46ad35d0a1221e25bef70fa4" title="lbann::model::save\l_to_checkpoint_shared" alt="" coords="271,456,431,495"/>
<area shape="rect" id="node15" href="classlbann_1_1persist.html#ab099939d0d91101fbfaf2b85e78be032" title="lbann::persist::close\l_checkpoint" alt="" coords="281,393,421,432"/>
<area shape="rect" id="node17" href="classlbann_1_1persist.html#ad759657d69e88a491729ce8e4bf9510e" title="lbann::persist::get\l_bytes" alt="" coords="288,1025,414,1064"/>
<area shape="rect" id="node36" href="namespacelbann.html#a35a39e949cfd1d7f8c15f94e4d44ecff" title="lbann::write_latest" alt="" coords="287,344,415,369"/>
<area shape="rect" id="node8" href="namespacelbann.html#af596e6d2be603e9cf808c98f5412490a" title="lbann::openwrite" alt="" coords="514,289,633,315"/>
<area shape="rect" id="node10" href="classlbann_1_1persist.html#a34eb918a890ab49dcbeedddf27ec1616" title="lbann::persist::get_rank" alt="" coords="494,453,654,479"/>
<area shape="rect" id="node11" href="classlbann_1_1persist.html#a742334568de0aca958dbaf7bbabd3cba" title="lbann::persist::write\l_uint32" alt="" coords="506,615,642,653"/>
<area shape="rect" id="node13" href="classlbann_1_1persist.html#aced95e3bc711276b072af97b65ef9fc1" title="lbann::persist::write\l_uint64" alt="" coords="506,552,642,591"/>
<area shape="rect" id="node14" href="namespacelbann.html#af68acf5b249e5360289d4c6a7bfa8985" title="lbann::save_rng_to\l_checkpoint_shared" alt="" coords="504,391,644,429"/>
<area shape="rect" id="node12" href="namespacelbann.html#aed95061796f19fa1648dcc99dc335abd" title="lbann::write_bytes" alt="" coords="706,801,834,827"/>
<area shape="rect" id="node16" href="namespacelbann.html#aceeccedbbafccfa071b21ee99be794a5" title="lbann::closewrite" alt="" coords="514,341,634,367"/>
<area shape="rect" id="node18" href="namespacelbann.html#aa7b4e710f444588dfcf4188b84b33420" title="lbann::write_distmat" alt="" coords="504,927,644,952"/>
<area shape="rect" id="node19" href="namespacelbann.html#a0306ed35d6d90cf4fbdce7a72ad62ca7" title="lbann::read_distmat" alt="" coords="505,1387,643,1412"/>
<area shape="rect" id="node21" href="namespacelbann.html#a85385e2a9e058b6720300b4cbdd2b1d0" title="lbann::read_bytes" alt="" coords="706,1215,834,1240"/>
<area shape="rect" id="node22" href="namespacelbann.html#a3a801c9f48655f81b886af4bff083f27" title="lbann::write_uint32" alt="" coords="507,877,640,903"/>
<area shape="rect" id="node23" href="namespacelbann.html#aedcde4d93c4feb5090c927de1c45b90d" title="lbann::read_uint32" alt="" coords="508,1189,640,1215"/>
<area shape="rect" id="node24" href="namespacelbann.html#a234f8c7b9bbc2d9310d3e40314eb497c" title="lbann::write_uint64" alt="" coords="507,976,640,1001"/>
<area shape="rect" id="node25" href="namespacelbann.html#a7ca20ac4f0ec9feaa2f6d5b6ef3c8865" title="lbann::read_uint64" alt="" coords="508,1239,640,1264"/>
<area shape="rect" id="node26" href="namespacelbann.html#a917727ad7e4f0dfd6d5a609cdc6dd9e2" title="lbann::write_int32\l_contig" alt="" coords="511,1025,637,1064"/>
<area shape="rect" id="node27" href="namespacelbann.html#acb5b0f1b30c9ab2fba700bb953515810" title="lbann::read_int32_contig" alt="" coords="490,1288,658,1313"/>
<area shape="rect" id="node28" href="namespacelbann.html#a73339e4587f8ce7f653be03a3a6cbcd0" title="lbann::write_float" alt="" coords="513,677,635,703"/>
<area shape="rect" id="node29" href="namespacelbann.html#acd0595f8c31773a3a46f477a83e4c0f3" title="lbann::read_float" alt="" coords="514,1337,634,1363"/>
<area shape="rect" id="node30" href="namespacelbann.html#add2807d7303bd96d2804f0b14e894c68" title="lbann::write_string" alt="" coords="509,503,639,528"/>
<area shape="rect" id="node31" href="namespacelbann.html#a784843ebce0e596dba31c1d981a7f087" title="lbann::read_string" alt="" coords="510,1436,638,1461"/>
<area shape="rect" id="node32" href="namespacelbann.html#a827b050911630a21f248b128e3859044" title="lbann::write_double" alt="" coords="505,776,642,801"/>
<area shape="rect" id="node33" href="namespacelbann.html#a66f98f36cf54dca622f1186309961dd4" title="lbann::read_double" alt="" coords="506,1088,642,1113"/>
<area shape="rect" id="node34" href="namespacelbann.html#af640a9302803636e0b5deb110c1aee57" title="Given an open file descriptor, file name, and a matrix, write the matrix to the file descriptor..." alt="" coords="518,1485,630,1511"/>
<area shape="rect" id="node35" href="namespacelbann.html#ab2c2ad3c98b9991a6307b123617dbfb2" title="Given an open file descriptor, file name, and a matrix, read the matrix from the file descriptor..." alt="" coords="518,727,629,752"/>
<area shape="rect" id="node20" href="namespacelbann.html#aefae2a9fc9d742ece0fa8ca7ed9ee137" title="lbann::exists" alt="" coords="722,1387,818,1412"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classlbann_1_1lbann__callback__checkpoint_a23b6f5abb924b2c4d0694e98c7d6f4d5_icgraph.png" border="0" usemap="#classlbann_1_1lbann__callback__checkpoint_a23b6f5abb924b2c4d0694e98c7d6f4d5_icgraph" alt=""/></div>
<map name="classlbann_1_1lbann__callback__checkpoint_a23b6f5abb924b2c4d0694e98c7d6f4d5_icgraph" id="classlbann_1_1lbann__callback__checkpoint_a23b6f5abb924b2c4d0694e98c7d6f4d5_icgraph">
<area shape="rect" id="node2" href="classlbann_1_1lbann__callback__checkpoint.html#ac3a0bb250a679b28924910c0dc617809" title="lbann::lbann_callback\l_checkpoint::set_checkpoint\l_per_rank" alt="" coords="270,5,458,57"/>
<area shape="rect" id="node3" href="classlbann_1_1lbann__callback__checkpoint.html#a406bfba673e503e94ae6eb57aff6a78e" title="lbann::lbann_callback\l_checkpoint::on_epoch_end" alt="" coords="270,81,458,120"/>
<area shape="rect" id="node5" href="classlbann_1_1lbann__callback__checkpoint.html#a5fb4288c03b1ce14681b72562e9471b2" title="lbann::lbann_callback\l_checkpoint::on_validation_end" alt="" coords="260,144,468,183"/>
<area shape="rect" id="node6" href="classlbann_1_1lbann__callback__checkpoint.html#a476527e2b7b44dd3623e01f63ddb5f78" title="lbann::lbann_callback\l_checkpoint::on_batch_end" alt="" coords="272,207,456,245"/>
<area shape="rect" id="node4" href="classlbann_1_1lbann__callback__checkpoint.html#a63dc49f38f063f9b85d9abdf8b2855aa" title="lbann::lbann_callback\l_checkpoint::copy" alt="" coords="516,144,666,183"/>
</map>
</div>

</div>
</div>
<a id="a63dc49f38f063f9b85d9abdf8b2855aa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a63dc49f38f063f9b85d9abdf8b2855aa">&#9670;&nbsp;</a></span>copy()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classlbann_1_1lbann__callback__checkpoint.html">lbann_callback_checkpoint</a>* lbann::lbann_callback_checkpoint::copy </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Implements <a class="el" href="classlbann_1_1lbann__callback.html#a9f545d1269a8c7af335625d049691f26">lbann::lbann_callback</a>.</p>

<p class="definition">Definition at line <a class="el" href="callback__checkpoint_8hpp_source.html#l00053">53</a> of file <a class="el" href="callback__checkpoint_8hpp_source.html">callback_checkpoint.hpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;{ <span class="keywordflow">return</span> <span class="keyword">new</span> <a class="code" href="classlbann_1_1lbann__callback__checkpoint.html#a865e633d1f041e3f2e5465b1d05f3603">lbann_callback_checkpoint</a>(*<span class="keyword">this</span>); }</div><div class="ttc" id="classlbann_1_1lbann__callback__checkpoint_html_a865e633d1f041e3f2e5465b1d05f3603"><div class="ttname"><a href="classlbann_1_1lbann__callback__checkpoint.html#a865e633d1f041e3f2e5465b1d05f3603">lbann::lbann_callback_checkpoint::lbann_callback_checkpoint</a></div><div class="ttdeci">lbann_callback_checkpoint(std::string checkpoint_dir, int checkpoint_epochs, int checkpoint_steps, int checkpoint_secs, bool checkpoint_per_rank)</div><div class="ttdef"><b>Definition:</b> <a href="callback__checkpoint_8hpp_source.html#l00049">callback_checkpoint.hpp:49</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classlbann_1_1lbann__callback__checkpoint_a63dc49f38f063f9b85d9abdf8b2855aa_cgraph.png" border="0" usemap="#classlbann_1_1lbann__callback__checkpoint_a63dc49f38f063f9b85d9abdf8b2855aa_cgraph" alt=""/></div>
<map name="classlbann_1_1lbann__callback__checkpoint_a63dc49f38f063f9b85d9abdf8b2855aa_cgraph" id="classlbann_1_1lbann__callback__checkpoint_a63dc49f38f063f9b85d9abdf8b2855aa_cgraph">
<area shape="rect" id="node2" href="classlbann_1_1lbann__callback__checkpoint.html#a865e633d1f041e3f2e5465b1d05f3603" title="lbann::lbann_callback\l_checkpoint::lbann_callback\l_checkpoint" alt="" coords="213,717,401,769"/>
<area shape="rect" id="node4" href="classlbann_1_1lbann__callback__checkpoint.html#a383654a7bb70672dfc9fef679f4b509f" title="lbann::lbann_callback\l_checkpoint::setup" alt="" coords="232,803,382,841"/>
<area shape="rect" id="node38" href="classlbann_1_1lbann__callback__checkpoint.html#a406bfba673e503e94ae6eb57aff6a78e" title="lbann::lbann_callback\l_checkpoint::on_epoch_end" alt="" coords="213,947,401,985"/>
<area shape="rect" id="node53" href="classlbann_1_1lbann__callback__checkpoint.html#a476527e2b7b44dd3623e01f63ddb5f78" title="lbann::lbann_callback\l_checkpoint::on_batch_end" alt="" coords="215,1009,399,1048"/>
<area shape="rect" id="node54" href="classlbann_1_1lbann__callback__checkpoint.html#a5fb4288c03b1ce14681b72562e9471b2" title="lbann::lbann_callback\l_checkpoint::on_validation_end" alt="" coords="203,884,411,923"/>
<area shape="rect" id="node3" href="classlbann_1_1lbann__callback__checkpoint.html#aab65cb67b53e6af00142a9dc665f9ce8" title="lbann::lbann_callback\l_checkpoint::operator=" alt="" coords="484,719,641,757"/>
<area shape="rect" id="node5" href="classlbann_1_1lbann__callback__checkpoint.html#a40d369278bc5963ba2f3cca1750ba004" title="lbann::lbann_callback\l_checkpoint::restartShared" alt="" coords="472,781,653,820"/>
<area shape="rect" id="node6" href="classlbann_1_1model.html#a9e1cfe449d2f4858a32994f6be0042fb" title="lbann::model::get_comm" alt="" coords="721,853,888,879"/>
<area shape="rect" id="node7" href="classlbann_1_1lbann__comm.html#a1ef526486183a29feadca9bef096a534" title="lbann::lbann_comm::\lam_world_master" alt="" coords="732,903,877,941"/>
<area shape="rect" id="node8" href="namespacelbann.html#abebab8298e56db6a455a9ed08ab42bb4" title="Reads the &quot;latest&quot; file and returns the epoch number and sample offset for most recent checkpoint..." alt="" coords="741,76,868,101"/>
<area shape="rect" id="node12" href="classlbann_1_1persist.html#a123cbc1d2b693640c784a45cbc6d2d97" title="lbann::persist::open\l_restart" alt="" coords="736,7,874,45"/>
<area shape="rect" id="node13" href="classlbann_1_1model.html#a2e02dda11636e015ea0c892ffa541881" title="lbann::model::load\l_from_checkpoint_shared" alt="" coords="717,229,892,268"/>
<area shape="rect" id="node19" href="classlbann_1_1persist.html#afeef05548e1d17bd09d3805607edd621" title="lbann::persist::close\l_restart" alt="" coords="735,139,874,177"/>
<area shape="rect" id="node20" href="classlbann_1_1persist.html#ad759657d69e88a491729ce8e4bf9510e" title="lbann::persist::get\l_bytes" alt="" coords="741,781,868,820"/>
<area shape="rect" id="node9" href="namespacelbann.html#a6084b9319eea1997f8446fa3e6879532" title="lbann::openread" alt="" coords="969,5,1086,31"/>
<area shape="rect" id="node10" href="namespacelbann.html#a784843ebce0e596dba31c1d981a7f087" title="lbann::read_string" alt="" coords="964,292,1092,317"/>
<area shape="rect" id="node11" href="namespacelbann.html#a38dd30b2ae8214f6595708264369ddb8" title="lbann::closeread" alt="" coords="968,55,1087,80"/>
<area shape="rect" id="node14" href="classlbann_1_1persist.html#a34eb918a890ab49dcbeedddf27ec1616" title="lbann::persist::get_rank" alt="" coords="948,391,1108,416"/>
<area shape="rect" id="node15" href="classlbann_1_1persist.html#ace1ebb58e2570693cdce0ebd2817113b" title="lbann::persist::read\l_uint32" alt="" coords="960,167,1095,205"/>
<area shape="rect" id="node17" href="classlbann_1_1persist.html#aa6d996db3714a7ae055adac0d8e8ac63" title="lbann::persist::read\l_uint64" alt="" coords="960,229,1095,268"/>
<area shape="rect" id="node18" href="namespacelbann.html#ab76114a0e8cc90c28bcb9e7d01eec89a" title="lbann::load_rng_from\l_checkpoint_shared" alt="" coords="954,104,1101,143"/>
<area shape="rect" id="node16" href="namespacelbann.html#a85385e2a9e058b6720300b4cbdd2b1d0" title="lbann::read_bytes" alt="" coords="1160,467,1287,492"/>
<area shape="rect" id="node21" href="namespacelbann.html#aa7b4e710f444588dfcf4188b84b33420" title="lbann::write_distmat" alt="" coords="958,788,1098,813"/>
<area shape="rect" id="node22" href="namespacelbann.html#a0306ed35d6d90cf4fbdce7a72ad62ca7" title="lbann::read_distmat" alt="" coords="958,837,1097,863"/>
<area shape="rect" id="node24" href="namespacelbann.html#aed95061796f19fa1648dcc99dc335abd" title="lbann::write_bytes" alt="" coords="1159,1075,1288,1100"/>
<area shape="rect" id="node25" href="namespacelbann.html#a3a801c9f48655f81b886af4bff083f27" title="lbann::write_uint32" alt="" coords="961,1100,1094,1125"/>
<area shape="rect" id="node26" href="namespacelbann.html#aedcde4d93c4feb5090c927de1c45b90d" title="lbann::read_uint32" alt="" coords="962,492,1093,517"/>
<area shape="rect" id="node27" href="namespacelbann.html#a234f8c7b9bbc2d9310d3e40314eb497c" title="lbann::write_uint64" alt="" coords="961,1149,1094,1175"/>
<area shape="rect" id="node28" href="namespacelbann.html#a7ca20ac4f0ec9feaa2f6d5b6ef3c8865" title="lbann::read_uint64" alt="" coords="962,541,1093,567"/>
<area shape="rect" id="node29" href="namespacelbann.html#a917727ad7e4f0dfd6d5a609cdc6dd9e2" title="lbann::write_int32\l_contig" alt="" coords="965,887,1090,925"/>
<area shape="rect" id="node30" href="namespacelbann.html#acb5b0f1b30c9ab2fba700bb953515810" title="lbann::read_int32_contig" alt="" coords="944,591,1111,616"/>
<area shape="rect" id="node31" href="namespacelbann.html#a73339e4587f8ce7f653be03a3a6cbcd0" title="lbann::write_float" alt="" coords="966,949,1089,975"/>
<area shape="rect" id="node32" href="namespacelbann.html#acd0595f8c31773a3a46f477a83e4c0f3" title="lbann::read_float" alt="" coords="967,640,1088,665"/>
<area shape="rect" id="node33" href="namespacelbann.html#add2807d7303bd96d2804f0b14e894c68" title="lbann::write_string" alt="" coords="963,1324,1092,1349"/>
<area shape="rect" id="node34" href="namespacelbann.html#a827b050911630a21f248b128e3859044" title="lbann::write_double" alt="" coords="959,999,1096,1024"/>
<area shape="rect" id="node35" href="namespacelbann.html#a66f98f36cf54dca622f1186309961dd4" title="lbann::read_double" alt="" coords="960,341,1095,367"/>
<area shape="rect" id="node36" href="namespacelbann.html#af640a9302803636e0b5deb110c1aee57" title="Given an open file descriptor, file name, and a matrix, write the matrix to the file descriptor..." alt="" coords="971,689,1084,715"/>
<area shape="rect" id="node37" href="namespacelbann.html#ab2c2ad3c98b9991a6307b123617dbfb2" title="Given an open file descriptor, file name, and a matrix, read the matrix from the file descriptor..." alt="" coords="972,739,1083,764"/>
<area shape="rect" id="node23" href="namespacelbann.html#aefae2a9fc9d742ece0fa8ca7ed9ee137" title="lbann::exists" alt="" coords="1176,837,1271,863"/>
<area shape="rect" id="node39" href="classlbann_1_1lbann__callback__checkpoint.html#a2e5f396667ccc45f7203263b06c5e216" title="lbann::lbann_callback\l_checkpoint::need_checkpoint" alt="" coords="462,947,663,985"/>
<area shape="rect" id="node42" href="classlbann_1_1lbann__callback__checkpoint.html#a23b6f5abb924b2c4d0694e98c7d6f4d5" title="lbann::lbann_callback\l_checkpoint::checkpointShared" alt="" coords="459,1009,666,1048"/>
<area shape="rect" id="node40" href="classlbann_1_1model.html#a1cf70e098524cc5013bce56edd96dfe7" title="lbann::model::get_cur\l_epoch" alt="" coords="730,1015,880,1053"/>
<area shape="rect" id="node41" href="classlbann_1_1model.html#ad0cdcba177434b52dc9c4a97be183a92" title="lbann::model::get_cur_step" alt="" coords="714,965,896,991"/>
<area shape="rect" id="node43" href="namespacelbann.html#a8830dea8eef0ab5b93d68e2358ceeb1a" title="lbann::makedir" alt="" coords="973,1535,1082,1560"/>
<area shape="rect" id="node44" href="classlbann_1_1persist.html#a32a8f71995b674a62b21087ec4be9575" title="lbann::persist::open\l_checkpoint" alt="" coords="736,1471,874,1509"/>
<area shape="rect" id="node46" href="classlbann_1_1model.html#a3d589d2e46ad35d0a1221e25bef70fa4" title="lbann::model::save\l_to_checkpoint_shared" alt="" coords="725,1199,884,1237"/>
<area shape="rect" id="node50" href="classlbann_1_1persist.html#ab099939d0d91101fbfaf2b85e78be032" title="lbann::persist::close\l_checkpoint" alt="" coords="735,1261,874,1300"/>
<area shape="rect" id="node52" href="namespacelbann.html#a35a39e949cfd1d7f8c15f94e4d44ecff" title="lbann::write_latest" alt="" coords="740,1372,869,1397"/>
<area shape="rect" id="node45" href="namespacelbann.html#af596e6d2be603e9cf808c98f5412490a" title="lbann::openwrite" alt="" coords="968,1485,1087,1511"/>
<area shape="rect" id="node47" href="classlbann_1_1persist.html#a742334568de0aca958dbaf7bbabd3cba" title="lbann::persist::write\l_uint32" alt="" coords="959,1199,1096,1237"/>
<area shape="rect" id="node48" href="classlbann_1_1persist.html#aced95e3bc711276b072af97b65ef9fc1" title="lbann::persist::write\l_uint64" alt="" coords="959,1261,1096,1300"/>
<area shape="rect" id="node49" href="namespacelbann.html#af68acf5b249e5360289d4c6a7bfa8985" title="lbann::save_rng_to\l_checkpoint_shared" alt="" coords="957,1373,1098,1412"/>
<area shape="rect" id="node51" href="namespacelbann.html#aceeccedbbafccfa071b21ee99be794a5" title="lbann::closewrite" alt="" coords="967,1436,1088,1461"/>
</map>
</div>

</div>
</div>
<a id="aa1afa81c9638bf76fb6ecfe91d07a88e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa1afa81c9638bf76fb6ecfe91d07a88e">&#9670;&nbsp;</a></span>name()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::string lbann::lbann_callback_checkpoint::name </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Return this callback's name. </p>

<p>Implements <a class="el" href="classlbann_1_1lbann__callback.html#a7522c7a14f1d6a1ea762cc2d7248eb3a">lbann::lbann_callback</a>.</p>

<p class="definition">Definition at line <a class="el" href="callback__checkpoint_8hpp_source.html#l00082">82</a> of file <a class="el" href="callback__checkpoint_8hpp_source.html">callback_checkpoint.hpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;{ <span class="keywordflow">return</span> <span class="stringliteral">&quot;checkpoint&quot;</span>; }</div></div><!-- fragment -->
</div>
</div>
<a id="a2e5f396667ccc45f7203263b06c5e216"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2e5f396667ccc45f7203263b06c5e216">&#9670;&nbsp;</a></span>need_checkpoint()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool lbann::lbann_callback_checkpoint::need_checkpoint </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classlbann_1_1model.html">model</a> *&#160;</td>
          <td class="paramname"><em>m</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="callback__checkpoint_8cpp_source.html#l00064">64</a> of file <a class="el" href="callback__checkpoint_8cpp_source.html">callback_checkpoint.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;                                                        {</div><div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;  <span class="comment">/* TODO: since we&#39;re using clocks, this requires a bcast for each call,</span></div><div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;<span class="comment">   * we could use number of samples processed to make a local decision */</span></div><div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;  <span class="comment">// if none of our checkpoint conditions are set, assume we&#39;re not checkpointing</span></div><div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classlbann_1_1lbann__callback__checkpoint.html#ad6f4399effadedb26e33fc39a3c6915e">m_checkpoint_epochs</a> == 0 &amp;&amp;</div><div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;      <a class="code" href="classlbann_1_1lbann__callback__checkpoint.html#ad6debea7d9bbebd3ee0323acec11516f">m_checkpoint_steps</a>  == 0 &amp;&amp;</div><div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;      <a class="code" href="classlbann_1_1lbann__callback__checkpoint.html#a285658a96f8546952c9016ef4cc12161">m_checkpoint_secs</a>   == 0.0) {</div><div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;  }</div><div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;  <span class="comment">// assume that we won&#39;t checkpoint</span></div><div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;  <span class="keywordtype">bool</span> checkpoint_now = <span class="keyword">false</span>;</div><div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;  lbann_comm *<a class="code" href="file__io_8cpp.html#ab048c6f9fcbcfaa57ce68b00263dbebe">comm</a> = m-&gt;get_comm();</div><div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;  <span class="comment">// if at start of epoch and evenly divide</span></div><div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;  <span class="keywordflow">if</span> (!checkpoint_now &amp;&amp; <a class="code" href="classlbann_1_1lbann__callback__checkpoint.html#ad6f4399effadedb26e33fc39a3c6915e">m_checkpoint_epochs</a> &gt; 0) {</div><div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classlbann_1_1lbann__callback__checkpoint.html#a9632d5f0078d3ff2015e96dba789e15c">m_epoch_end</a> || <a class="code" href="classlbann_1_1lbann__callback__checkpoint.html#a3827e5bb569f80d790c3ac856a7c39b5">m_val_end</a>) {</div><div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;      checkpoint_now = (m-&gt;get_cur_epoch() &gt; 0) &amp;&amp; (m-&gt;get_cur_epoch() % <a class="code" href="classlbann_1_1lbann__callback__checkpoint.html#ad6f4399effadedb26e33fc39a3c6915e">m_checkpoint_epochs</a> == 0);</div><div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;    }</div><div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;  }</div><div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;  <span class="comment">// if our current step is evenly divisable by checkpoint steps,</span></div><div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;  <span class="comment">// take a checkpoint</span></div><div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;  <span class="keywordflow">if</span> (!checkpoint_now &amp;&amp; <a class="code" href="classlbann_1_1lbann__callback__checkpoint.html#ad6debea7d9bbebd3ee0323acec11516f">m_checkpoint_steps</a> &gt; 0) {</div><div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;    checkpoint_now = (m-&gt;get_cur_step() &gt; 0) &amp;&amp; (m-&gt;get_cur_step() % <a class="code" href="classlbann_1_1lbann__callback__checkpoint.html#ad6debea7d9bbebd3ee0323acec11516f">m_checkpoint_steps</a> == 0);</div><div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;  }</div><div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;  <span class="comment">// check the clock if time-based checkpoint is enabled</span></div><div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;  <span class="keywordflow">if</span> (!checkpoint_now &amp;&amp; <a class="code" href="classlbann_1_1lbann__callback__checkpoint.html#a285658a96f8546952c9016ef4cc12161">m_checkpoint_secs</a> != 0.0) {</div><div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;    <span class="comment">// have rank 0 determine whether we should checkpoint</span></div><div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;    <span class="comment">// to avoid issues with clock skew, we rely on rank 0 to make decision</span></div><div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;    <span class="keywordflow">if</span> (comm-&gt;am_world_master()) {</div><div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;      <span class="comment">// get the current time</span></div><div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;      <a class="code" href="base_8hpp.html#a3266f5ac18504bbadea983c109566867">EvalType</a> current = MPI_Wtime();</div><div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;      <span class="comment">// compute time next checkpoint is due</span></div><div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;      <a class="code" href="base_8hpp.html#a3266f5ac18504bbadea983c109566867">EvalType</a> next = <a class="code" href="classlbann_1_1lbann__callback__checkpoint.html#a842304929c265ffa9d285e635fbbbbd7">m_checkpoint_last</a> + <a class="code" href="classlbann_1_1lbann__callback__checkpoint.html#a285658a96f8546952c9016ef4cc12161">m_checkpoint_secs</a>;</div><div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;      <span class="comment">// determine whether it&#39;s time for a checkpoint</span></div><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;      checkpoint_now = (current &gt;= next);</div><div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;    }</div><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;    <span class="comment">// get checkpoint_now from rank 0</span></div><div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;    <span class="keywordtype">int</span> flag = checkpoint_now ? 1 : 0;</div><div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;    MPI_Bcast(&amp;flag, 1, MPI_INT, 0, MPI_COMM_WORLD);</div><div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;    checkpoint_now = (bool) flag;</div><div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;  }</div><div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;  <span class="comment">//m_epoch_end = false;</span></div><div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;  <span class="keywordflow">return</span> checkpoint_now;</div><div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;}</div><div class="ttc" id="base_8hpp_html_a3266f5ac18504bbadea983c109566867"><div class="ttname"><a href="base_8hpp.html#a3266f5ac18504bbadea983c109566867">EvalType</a></div><div class="ttdeci">double EvalType</div><div class="ttdef"><b>Definition:</b> <a href="base_8hpp_source.html#l00063">base.hpp:63</a></div></div>
<div class="ttc" id="classlbann_1_1lbann__callback__checkpoint_html_a842304929c265ffa9d285e635fbbbbd7"><div class="ttname"><a href="classlbann_1_1lbann__callback__checkpoint.html#a842304929c265ffa9d285e635fbbbbd7">lbann::lbann_callback_checkpoint::m_checkpoint_last</a></div><div class="ttdeci">EvalType m_checkpoint_last</div><div class="ttdef"><b>Definition:</b> <a href="callback__checkpoint_8hpp_source.html#l00089">callback_checkpoint.hpp:89</a></div></div>
<div class="ttc" id="classlbann_1_1lbann__callback__checkpoint_html_a285658a96f8546952c9016ef4cc12161"><div class="ttname"><a href="classlbann_1_1lbann__callback__checkpoint.html#a285658a96f8546952c9016ef4cc12161">lbann::lbann_callback_checkpoint::m_checkpoint_secs</a></div><div class="ttdeci">EvalType m_checkpoint_secs</div><div class="ttdef"><b>Definition:</b> <a href="callback__checkpoint_8hpp_source.html#l00087">callback_checkpoint.hpp:87</a></div></div>
<div class="ttc" id="file__io_8cpp_html_ab048c6f9fcbcfaa57ce68b00263dbebe"><div class="ttname"><a href="file__io_8cpp.html#ab048c6f9fcbcfaa57ce68b00263dbebe">comm</a></div><div class="ttdeci">static MPI_Comm comm</div><div class="ttdef"><b>Definition:</b> <a href="file__io_8cpp_source.html#l00044">file_io.cpp:44</a></div></div>
<div class="ttc" id="classlbann_1_1lbann__callback__checkpoint_html_a3827e5bb569f80d790c3ac856a7c39b5"><div class="ttname"><a href="classlbann_1_1lbann__callback__checkpoint.html#a3827e5bb569f80d790c3ac856a7c39b5">lbann::lbann_callback_checkpoint::m_val_end</a></div><div class="ttdeci">bool m_val_end</div><div class="ttdef"><b>Definition:</b> <a href="callback__checkpoint_8hpp_source.html#l00091">callback_checkpoint.hpp:91</a></div></div>
<div class="ttc" id="classlbann_1_1lbann__callback__checkpoint_html_a9632d5f0078d3ff2015e96dba789e15c"><div class="ttname"><a href="classlbann_1_1lbann__callback__checkpoint.html#a9632d5f0078d3ff2015e96dba789e15c">lbann::lbann_callback_checkpoint::m_epoch_end</a></div><div class="ttdeci">bool m_epoch_end</div><div class="ttdef"><b>Definition:</b> <a href="callback__checkpoint_8hpp_source.html#l00090">callback_checkpoint.hpp:90</a></div></div>
<div class="ttc" id="classlbann_1_1lbann__callback__checkpoint_html_ad6debea7d9bbebd3ee0323acec11516f"><div class="ttname"><a href="classlbann_1_1lbann__callback__checkpoint.html#ad6debea7d9bbebd3ee0323acec11516f">lbann::lbann_callback_checkpoint::m_checkpoint_steps</a></div><div class="ttdeci">int m_checkpoint_steps</div><div class="ttdef"><b>Definition:</b> <a href="callback__checkpoint_8hpp_source.html#l00086">callback_checkpoint.hpp:86</a></div></div>
<div class="ttc" id="classlbann_1_1lbann__callback__checkpoint_html_ad6f4399effadedb26e33fc39a3c6915e"><div class="ttname"><a href="classlbann_1_1lbann__callback__checkpoint.html#ad6f4399effadedb26e33fc39a3c6915e">lbann::lbann_callback_checkpoint::m_checkpoint_epochs</a></div><div class="ttdeci">int m_checkpoint_epochs</div><div class="ttdef"><b>Definition:</b> <a href="callback__checkpoint_8hpp_source.html#l00085">callback_checkpoint.hpp:85</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classlbann_1_1lbann__callback__checkpoint_a2e5f396667ccc45f7203263b06c5e216_cgraph.png" border="0" usemap="#classlbann_1_1lbann__callback__checkpoint_a2e5f396667ccc45f7203263b06c5e216_cgraph" alt=""/></div>
<map name="classlbann_1_1lbann__callback__checkpoint_a2e5f396667ccc45f7203263b06c5e216_cgraph" id="classlbann_1_1lbann__callback__checkpoint_a2e5f396667ccc45f7203263b06c5e216_cgraph">
<area shape="rect" id="node2" href="classlbann_1_1model.html#a9e1cfe449d2f4858a32994f6be0042fb" title="lbann::model::get_comm" alt="" coords="261,5,429,31"/>
<area shape="rect" id="node3" href="classlbann_1_1model.html#a1cf70e098524cc5013bce56edd96dfe7" title="lbann::model::get_cur\l_epoch" alt="" coords="270,55,420,93"/>
<area shape="rect" id="node4" href="classlbann_1_1model.html#ad0cdcba177434b52dc9c4a97be183a92" title="lbann::model::get_cur_step" alt="" coords="254,117,436,143"/>
<area shape="rect" id="node5" href="classlbann_1_1lbann__comm.html#a1ef526486183a29feadca9bef096a534" title="lbann::lbann_comm::\lam_world_master" alt="" coords="273,167,418,205"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classlbann_1_1lbann__callback__checkpoint_a2e5f396667ccc45f7203263b06c5e216_icgraph.png" border="0" usemap="#classlbann_1_1lbann__callback__checkpoint_a2e5f396667ccc45f7203263b06c5e216_icgraph" alt=""/></div>
<map name="classlbann_1_1lbann__callback__checkpoint_a2e5f396667ccc45f7203263b06c5e216_icgraph" id="classlbann_1_1lbann__callback__checkpoint_a2e5f396667ccc45f7203263b06c5e216_icgraph">
<area shape="rect" id="node2" href="classlbann_1_1lbann__callback__checkpoint.html#ac3a0bb250a679b28924910c0dc617809" title="lbann::lbann_callback\l_checkpoint::set_checkpoint\l_per_rank" alt="" coords="264,5,453,57"/>
<area shape="rect" id="node3" href="classlbann_1_1lbann__callback__checkpoint.html#a406bfba673e503e94ae6eb57aff6a78e" title="lbann::lbann_callback\l_checkpoint::on_epoch_end" alt="" coords="264,81,452,120"/>
<area shape="rect" id="node5" href="classlbann_1_1lbann__callback__checkpoint.html#a5fb4288c03b1ce14681b72562e9471b2" title="lbann::lbann_callback\l_checkpoint::on_validation_end" alt="" coords="254,144,462,183"/>
<area shape="rect" id="node6" href="classlbann_1_1lbann__callback__checkpoint.html#a476527e2b7b44dd3623e01f63ddb5f78" title="lbann::lbann_callback\l_checkpoint::on_batch_end" alt="" coords="266,207,450,245"/>
<area shape="rect" id="node4" href="classlbann_1_1lbann__callback__checkpoint.html#a63dc49f38f063f9b85d9abdf8b2855aa" title="lbann::lbann_callback\l_checkpoint::copy" alt="" coords="510,144,660,183"/>
</map>
</div>

</div>
</div>
<a id="a476527e2b7b44dd3623e01f63ddb5f78"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a476527e2b7b44dd3623e01f63ddb5f78">&#9670;&nbsp;</a></span>on_batch_end()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void lbann::lbann_callback_checkpoint::on_batch_end </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classlbann_1_1model.html">model</a> *&#160;</td>
          <td class="paramname"><em>m</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Called immediately after the end of a (mini-)batch. </p>

<p>Reimplemented from <a class="el" href="classlbann_1_1lbann__callback.html#a895ca577e358601fcae5c04749f60535">lbann::lbann_callback</a>.</p>

<p class="definition">Definition at line <a class="el" href="callback__checkpoint_8cpp_source.html#l00059">59</a> of file <a class="el" href="callback__checkpoint_8cpp_source.html">callback_checkpoint.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;                                                     {</div><div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;  <span class="keywordflow">if</span>(<a class="code" href="classlbann_1_1lbann__callback__checkpoint.html#a2e5f396667ccc45f7203263b06c5e216">need_checkpoint</a>(m)){</div><div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;    <a class="code" href="classlbann_1_1lbann__callback__checkpoint.html#a23b6f5abb924b2c4d0694e98c7d6f4d5">checkpointShared</a>(m);</div><div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;  }</div><div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;}</div><div class="ttc" id="classlbann_1_1lbann__callback__checkpoint_html_a2e5f396667ccc45f7203263b06c5e216"><div class="ttname"><a href="classlbann_1_1lbann__callback__checkpoint.html#a2e5f396667ccc45f7203263b06c5e216">lbann::lbann_callback_checkpoint::need_checkpoint</a></div><div class="ttdeci">bool need_checkpoint(model *m)</div><div class="ttdef"><b>Definition:</b> <a href="callback__checkpoint_8cpp_source.html#l00064">callback_checkpoint.cpp:64</a></div></div>
<div class="ttc" id="classlbann_1_1lbann__callback__checkpoint_html_a23b6f5abb924b2c4d0694e98c7d6f4d5"><div class="ttname"><a href="classlbann_1_1lbann__callback__checkpoint.html#a23b6f5abb924b2c4d0694e98c7d6f4d5">lbann::lbann_callback_checkpoint::checkpointShared</a></div><div class="ttdeci">bool checkpointShared(model *m)</div><div class="ttdef"><b>Definition:</b> <a href="callback__checkpoint_8cpp_source.html#l00145">callback_checkpoint.cpp:145</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classlbann_1_1lbann__callback__checkpoint_a476527e2b7b44dd3623e01f63ddb5f78_cgraph.png" border="0" usemap="#classlbann_1_1lbann__callback__checkpoint_a476527e2b7b44dd3623e01f63ddb5f78_cgraph" alt=""/></div>
<map name="classlbann_1_1lbann__callback__checkpoint_a476527e2b7b44dd3623e01f63ddb5f78_cgraph" id="classlbann_1_1lbann__callback__checkpoint_a476527e2b7b44dd3623e01f63ddb5f78_cgraph">
<area shape="rect" id="node2" href="classlbann_1_1lbann__callback__checkpoint.html#a2e5f396667ccc45f7203263b06c5e216" title="lbann::lbann_callback\l_checkpoint::need_checkpoint" alt="" coords="241,491,441,529"/>
<area shape="rect" id="node7" href="classlbann_1_1lbann__callback__checkpoint.html#a23b6f5abb924b2c4d0694e98c7d6f4d5" title="lbann::lbann_callback\l_checkpoint::checkpointShared" alt="" coords="238,609,444,648"/>
<area shape="rect" id="node3" href="classlbann_1_1model.html#a9e1cfe449d2f4858a32994f6be0042fb" title="lbann::model::get_comm" alt="" coords="500,385,667,411"/>
<area shape="rect" id="node4" href="classlbann_1_1model.html#a1cf70e098524cc5013bce56edd96dfe7" title="lbann::model::get_cur\l_epoch" alt="" coords="509,435,658,473"/>
<area shape="rect" id="node5" href="classlbann_1_1model.html#ad0cdcba177434b52dc9c4a97be183a92" title="lbann::model::get_cur_step" alt="" coords="492,497,675,523"/>
<area shape="rect" id="node6" href="classlbann_1_1lbann__comm.html#a1ef526486183a29feadca9bef096a534" title="lbann::lbann_comm::\lam_world_master" alt="" coords="511,547,656,585"/>
<area shape="rect" id="node8" href="namespacelbann.html#a8830dea8eef0ab5b93d68e2358ceeb1a" title="lbann::makedir" alt="" coords="752,1100,861,1125"/>
<area shape="rect" id="node9" href="classlbann_1_1persist.html#a32a8f71995b674a62b21087ec4be9575" title="lbann::persist::open\l_checkpoint" alt="" coords="515,1093,652,1132"/>
<area shape="rect" id="node11" href="classlbann_1_1model.html#a3d589d2e46ad35d0a1221e25bef70fa4" title="lbann::model::save\l_to_checkpoint_shared" alt="" coords="504,609,663,648"/>
<area shape="rect" id="node17" href="classlbann_1_1persist.html#ab099939d0d91101fbfaf2b85e78be032" title="lbann::persist::close\l_checkpoint" alt="" coords="514,1232,653,1271"/>
<area shape="rect" id="node19" href="classlbann_1_1persist.html#ad759657d69e88a491729ce8e4bf9510e" title="lbann::persist::get\l_bytes" alt="" coords="520,672,647,711"/>
<area shape="rect" id="node38" href="namespacelbann.html#a35a39e949cfd1d7f8c15f94e4d44ecff" title="lbann::write_latest" alt="" coords="519,1165,648,1191"/>
<area shape="rect" id="node10" href="namespacelbann.html#af596e6d2be603e9cf808c98f5412490a" title="lbann::openwrite" alt="" coords="747,1199,866,1224"/>
<area shape="rect" id="node12" href="classlbann_1_1persist.html#a34eb918a890ab49dcbeedddf27ec1616" title="lbann::persist::get_rank" alt="" coords="726,68,886,93"/>
<area shape="rect" id="node13" href="classlbann_1_1persist.html#a742334568de0aca958dbaf7bbabd3cba" title="lbann::persist::write\l_uint32" alt="" coords="738,180,874,219"/>
<area shape="rect" id="node15" href="classlbann_1_1persist.html#aced95e3bc711276b072af97b65ef9fc1" title="lbann::persist::write\l_uint64" alt="" coords="738,117,874,156"/>
<area shape="rect" id="node16" href="namespacelbann.html#af68acf5b249e5360289d4c6a7bfa8985" title="lbann::save_rng_to\l_checkpoint_shared" alt="" coords="736,5,877,44"/>
<area shape="rect" id="node14" href="namespacelbann.html#aed95061796f19fa1648dcc99dc335abd" title="lbann::write_bytes" alt="" coords="938,367,1067,392"/>
<area shape="rect" id="node18" href="namespacelbann.html#aceeccedbbafccfa071b21ee99be794a5" title="lbann::closewrite" alt="" coords="746,1248,867,1273"/>
<area shape="rect" id="node20" href="namespacelbann.html#aa7b4e710f444588dfcf4188b84b33420" title="lbann::write_distmat" alt="" coords="736,492,876,517"/>
<area shape="rect" id="node21" href="namespacelbann.html#a0306ed35d6d90cf4fbdce7a72ad62ca7" title="lbann::read_distmat" alt="" coords="737,952,875,977"/>
<area shape="rect" id="node23" href="namespacelbann.html#a85385e2a9e058b6720300b4cbdd2b1d0" title="lbann::read_bytes" alt="" coords="939,780,1066,805"/>
<area shape="rect" id="node24" href="namespacelbann.html#a3a801c9f48655f81b886af4bff083f27" title="lbann::write_uint32" alt="" coords="740,443,873,468"/>
<area shape="rect" id="node25" href="namespacelbann.html#aedcde4d93c4feb5090c927de1c45b90d" title="lbann::read_uint32" alt="" coords="740,755,872,780"/>
<area shape="rect" id="node26" href="namespacelbann.html#a234f8c7b9bbc2d9310d3e40314eb497c" title="lbann::write_uint64" alt="" coords="740,541,873,567"/>
<area shape="rect" id="node27" href="namespacelbann.html#a7ca20ac4f0ec9feaa2f6d5b6ef3c8865" title="lbann::read_uint64" alt="" coords="740,804,872,829"/>
<area shape="rect" id="node28" href="namespacelbann.html#a917727ad7e4f0dfd6d5a609cdc6dd9e2" title="lbann::write_int32\l_contig" alt="" coords="743,591,869,629"/>
<area shape="rect" id="node29" href="namespacelbann.html#acb5b0f1b30c9ab2fba700bb953515810" title="lbann::read_int32_contig" alt="" coords="723,853,890,879"/>
<area shape="rect" id="node30" href="namespacelbann.html#a73339e4587f8ce7f653be03a3a6cbcd0" title="lbann::write_float" alt="" coords="745,243,867,268"/>
<area shape="rect" id="node31" href="namespacelbann.html#acd0595f8c31773a3a46f477a83e4c0f3" title="lbann::read_float" alt="" coords="746,903,867,928"/>
<area shape="rect" id="node32" href="namespacelbann.html#add2807d7303bd96d2804f0b14e894c68" title="lbann::write_string" alt="" coords="741,1149,871,1175"/>
<area shape="rect" id="node33" href="namespacelbann.html#a784843ebce0e596dba31c1d981a7f087" title="lbann::read_string" alt="" coords="742,1001,870,1027"/>
<area shape="rect" id="node34" href="namespacelbann.html#a827b050911630a21f248b128e3859044" title="lbann::write_double" alt="" coords="738,341,875,367"/>
<area shape="rect" id="node35" href="namespacelbann.html#a66f98f36cf54dca622f1186309961dd4" title="lbann::read_double" alt="" coords="739,653,874,679"/>
<area shape="rect" id="node36" href="namespacelbann.html#af640a9302803636e0b5deb110c1aee57" title="Given an open file descriptor, file name, and a matrix, write the matrix to the file descriptor..." alt="" coords="750,1051,863,1076"/>
<area shape="rect" id="node37" href="namespacelbann.html#ab2c2ad3c98b9991a6307b123617dbfb2" title="Given an open file descriptor, file name, and a matrix, read the matrix from the file descriptor..." alt="" coords="751,292,862,317"/>
<area shape="rect" id="node22" href="namespacelbann.html#aefae2a9fc9d742ece0fa8ca7ed9ee137" title="lbann::exists" alt="" coords="955,952,1050,977"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classlbann_1_1lbann__callback__checkpoint_a476527e2b7b44dd3623e01f63ddb5f78_icgraph.png" border="0" usemap="#classlbann_1_1lbann__callback__checkpoint_a476527e2b7b44dd3623e01f63ddb5f78_icgraph" alt=""/></div>
<map name="classlbann_1_1lbann__callback__checkpoint_a476527e2b7b44dd3623e01f63ddb5f78_icgraph" id="classlbann_1_1lbann__callback__checkpoint_a476527e2b7b44dd3623e01f63ddb5f78_icgraph">
<area shape="rect" id="node2" href="classlbann_1_1lbann__callback__checkpoint.html#a63dc49f38f063f9b85d9abdf8b2855aa" title="lbann::lbann_callback\l_checkpoint::copy" alt="" coords="238,5,387,44"/>
</map>
</div>

</div>
</div>
<a id="a406bfba673e503e94ae6eb57aff6a78e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a406bfba673e503e94ae6eb57aff6a78e">&#9670;&nbsp;</a></span>on_epoch_end()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void lbann::lbann_callback_checkpoint::on_epoch_end </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classlbann_1_1model.html">model</a> *&#160;</td>
          <td class="paramname"><em>m</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Called immediate after the end of each epoch. </p>

<p>Reimplemented from <a class="el" href="classlbann_1_1lbann__callback.html#a1fc71110e7f754bf73c9e0f344a448a5">lbann::lbann_callback</a>.</p>

<p class="definition">Definition at line <a class="el" href="callback__checkpoint_8cpp_source.html#l00040">40</a> of file <a class="el" href="callback__checkpoint_8cpp_source.html">callback_checkpoint.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;                                                     {</div><div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;  <a class="code" href="classlbann_1_1lbann__callback__checkpoint.html#a9632d5f0078d3ff2015e96dba789e15c">m_epoch_end</a> = <span class="keyword">true</span>;</div><div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;  <a class="code" href="classlbann_1_1lbann__callback__checkpoint.html#a3827e5bb569f80d790c3ac856a7c39b5">m_val_end</a> = <span class="keyword">false</span>; </div><div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;  <span class="keywordflow">if</span>(<a class="code" href="classlbann_1_1lbann__callback__checkpoint.html#a2e5f396667ccc45f7203263b06c5e216">need_checkpoint</a>(m)){</div><div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;    <a class="code" href="classlbann_1_1lbann__callback__checkpoint.html#a23b6f5abb924b2c4d0694e98c7d6f4d5">checkpointShared</a>(m);</div><div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;  }</div><div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;  <a class="code" href="classlbann_1_1lbann__callback__checkpoint.html#a9632d5f0078d3ff2015e96dba789e15c">m_epoch_end</a> = <span class="keyword">false</span>;</div><div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;  </div><div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;}</div><div class="ttc" id="classlbann_1_1lbann__callback__checkpoint_html_a2e5f396667ccc45f7203263b06c5e216"><div class="ttname"><a href="classlbann_1_1lbann__callback__checkpoint.html#a2e5f396667ccc45f7203263b06c5e216">lbann::lbann_callback_checkpoint::need_checkpoint</a></div><div class="ttdeci">bool need_checkpoint(model *m)</div><div class="ttdef"><b>Definition:</b> <a href="callback__checkpoint_8cpp_source.html#l00064">callback_checkpoint.cpp:64</a></div></div>
<div class="ttc" id="classlbann_1_1lbann__callback__checkpoint_html_a3827e5bb569f80d790c3ac856a7c39b5"><div class="ttname"><a href="classlbann_1_1lbann__callback__checkpoint.html#a3827e5bb569f80d790c3ac856a7c39b5">lbann::lbann_callback_checkpoint::m_val_end</a></div><div class="ttdeci">bool m_val_end</div><div class="ttdef"><b>Definition:</b> <a href="callback__checkpoint_8hpp_source.html#l00091">callback_checkpoint.hpp:91</a></div></div>
<div class="ttc" id="classlbann_1_1lbann__callback__checkpoint_html_a23b6f5abb924b2c4d0694e98c7d6f4d5"><div class="ttname"><a href="classlbann_1_1lbann__callback__checkpoint.html#a23b6f5abb924b2c4d0694e98c7d6f4d5">lbann::lbann_callback_checkpoint::checkpointShared</a></div><div class="ttdeci">bool checkpointShared(model *m)</div><div class="ttdef"><b>Definition:</b> <a href="callback__checkpoint_8cpp_source.html#l00145">callback_checkpoint.cpp:145</a></div></div>
<div class="ttc" id="classlbann_1_1lbann__callback__checkpoint_html_a9632d5f0078d3ff2015e96dba789e15c"><div class="ttname"><a href="classlbann_1_1lbann__callback__checkpoint.html#a9632d5f0078d3ff2015e96dba789e15c">lbann::lbann_callback_checkpoint::m_epoch_end</a></div><div class="ttdeci">bool m_epoch_end</div><div class="ttdef"><b>Definition:</b> <a href="callback__checkpoint_8hpp_source.html#l00090">callback_checkpoint.hpp:90</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classlbann_1_1lbann__callback__checkpoint_a406bfba673e503e94ae6eb57aff6a78e_cgraph.png" border="0" usemap="#classlbann_1_1lbann__callback__checkpoint_a406bfba673e503e94ae6eb57aff6a78e_cgraph" alt=""/></div>
<map name="classlbann_1_1lbann__callback__checkpoint_a406bfba673e503e94ae6eb57aff6a78e_cgraph" id="classlbann_1_1lbann__callback__checkpoint_a406bfba673e503e94ae6eb57aff6a78e_cgraph">
<area shape="rect" id="node2" href="classlbann_1_1lbann__callback__checkpoint.html#a2e5f396667ccc45f7203263b06c5e216" title="lbann::lbann_callback\l_checkpoint::need_checkpoint" alt="" coords="244,491,445,529"/>
<area shape="rect" id="node7" href="classlbann_1_1lbann__callback__checkpoint.html#a23b6f5abb924b2c4d0694e98c7d6f4d5" title="lbann::lbann_callback\l_checkpoint::checkpointShared" alt="" coords="241,609,448,648"/>
<area shape="rect" id="node3" href="classlbann_1_1model.html#a9e1cfe449d2f4858a32994f6be0042fb" title="lbann::model::get_comm" alt="" coords="504,385,671,411"/>
<area shape="rect" id="node4" href="classlbann_1_1model.html#a1cf70e098524cc5013bce56edd96dfe7" title="lbann::model::get_cur\l_epoch" alt="" coords="512,435,662,473"/>
<area shape="rect" id="node5" href="classlbann_1_1model.html#ad0cdcba177434b52dc9c4a97be183a92" title="lbann::model::get_cur_step" alt="" coords="496,497,678,523"/>
<area shape="rect" id="node6" href="classlbann_1_1lbann__comm.html#a1ef526486183a29feadca9bef096a534" title="lbann::lbann_comm::\lam_world_master" alt="" coords="515,547,660,585"/>
<area shape="rect" id="node8" href="namespacelbann.html#a8830dea8eef0ab5b93d68e2358ceeb1a" title="lbann::makedir" alt="" coords="756,1100,864,1125"/>
<area shape="rect" id="node9" href="classlbann_1_1persist.html#a32a8f71995b674a62b21087ec4be9575" title="lbann::persist::open\l_checkpoint" alt="" coords="518,1093,656,1132"/>
<area shape="rect" id="node11" href="classlbann_1_1model.html#a3d589d2e46ad35d0a1221e25bef70fa4" title="lbann::model::save\l_to_checkpoint_shared" alt="" coords="508,609,667,648"/>
<area shape="rect" id="node17" href="classlbann_1_1persist.html#ab099939d0d91101fbfaf2b85e78be032" title="lbann::persist::close\l_checkpoint" alt="" coords="518,1232,657,1271"/>
<area shape="rect" id="node19" href="classlbann_1_1persist.html#ad759657d69e88a491729ce8e4bf9510e" title="lbann::persist::get\l_bytes" alt="" coords="524,672,650,711"/>
<area shape="rect" id="node38" href="namespacelbann.html#a35a39e949cfd1d7f8c15f94e4d44ecff" title="lbann::write_latest" alt="" coords="523,1165,652,1191"/>
<area shape="rect" id="node10" href="namespacelbann.html#af596e6d2be603e9cf808c98f5412490a" title="lbann::openwrite" alt="" coords="750,1199,870,1224"/>
<area shape="rect" id="node12" href="classlbann_1_1persist.html#a34eb918a890ab49dcbeedddf27ec1616" title="lbann::persist::get_rank" alt="" coords="730,68,890,93"/>
<area shape="rect" id="node13" href="classlbann_1_1persist.html#a742334568de0aca958dbaf7bbabd3cba" title="lbann::persist::write\l_uint32" alt="" coords="742,180,878,219"/>
<area shape="rect" id="node15" href="classlbann_1_1persist.html#aced95e3bc711276b072af97b65ef9fc1" title="lbann::persist::write\l_uint64" alt="" coords="742,117,878,156"/>
<area shape="rect" id="node16" href="namespacelbann.html#af68acf5b249e5360289d4c6a7bfa8985" title="lbann::save_rng_to\l_checkpoint_shared" alt="" coords="740,5,880,44"/>
<area shape="rect" id="node14" href="namespacelbann.html#aed95061796f19fa1648dcc99dc335abd" title="lbann::write_bytes" alt="" coords="942,367,1070,392"/>
<area shape="rect" id="node18" href="namespacelbann.html#aceeccedbbafccfa071b21ee99be794a5" title="lbann::closewrite" alt="" coords="750,1248,870,1273"/>
<area shape="rect" id="node20" href="namespacelbann.html#aa7b4e710f444588dfcf4188b84b33420" title="lbann::write_distmat" alt="" coords="740,492,880,517"/>
<area shape="rect" id="node21" href="namespacelbann.html#a0306ed35d6d90cf4fbdce7a72ad62ca7" title="lbann::read_distmat" alt="" coords="741,952,879,977"/>
<area shape="rect" id="node23" href="namespacelbann.html#a85385e2a9e058b6720300b4cbdd2b1d0" title="lbann::read_bytes" alt="" coords="942,780,1070,805"/>
<area shape="rect" id="node24" href="namespacelbann.html#a3a801c9f48655f81b886af4bff083f27" title="lbann::write_uint32" alt="" coords="743,443,877,468"/>
<area shape="rect" id="node25" href="namespacelbann.html#aedcde4d93c4feb5090c927de1c45b90d" title="lbann::read_uint32" alt="" coords="744,755,876,780"/>
<area shape="rect" id="node26" href="namespacelbann.html#a234f8c7b9bbc2d9310d3e40314eb497c" title="lbann::write_uint64" alt="" coords="743,541,877,567"/>
<area shape="rect" id="node27" href="namespacelbann.html#a7ca20ac4f0ec9feaa2f6d5b6ef3c8865" title="lbann::read_uint64" alt="" coords="744,804,876,829"/>
<area shape="rect" id="node28" href="namespacelbann.html#a917727ad7e4f0dfd6d5a609cdc6dd9e2" title="lbann::write_int32\l_contig" alt="" coords="747,591,873,629"/>
<area shape="rect" id="node29" href="namespacelbann.html#acb5b0f1b30c9ab2fba700bb953515810" title="lbann::read_int32_contig" alt="" coords="726,853,894,879"/>
<area shape="rect" id="node30" href="namespacelbann.html#a73339e4587f8ce7f653be03a3a6cbcd0" title="lbann::write_float" alt="" coords="749,243,871,268"/>
<area shape="rect" id="node31" href="namespacelbann.html#acd0595f8c31773a3a46f477a83e4c0f3" title="lbann::read_float" alt="" coords="750,903,870,928"/>
<area shape="rect" id="node32" href="namespacelbann.html#add2807d7303bd96d2804f0b14e894c68" title="lbann::write_string" alt="" coords="745,1149,875,1175"/>
<area shape="rect" id="node33" href="namespacelbann.html#a784843ebce0e596dba31c1d981a7f087" title="lbann::read_string" alt="" coords="746,1001,874,1027"/>
<area shape="rect" id="node34" href="namespacelbann.html#a827b050911630a21f248b128e3859044" title="lbann::write_double" alt="" coords="741,341,878,367"/>
<area shape="rect" id="node35" href="namespacelbann.html#a66f98f36cf54dca622f1186309961dd4" title="lbann::read_double" alt="" coords="742,653,878,679"/>
<area shape="rect" id="node36" href="namespacelbann.html#af640a9302803636e0b5deb110c1aee57" title="Given an open file descriptor, file name, and a matrix, write the matrix to the file descriptor..." alt="" coords="754,1051,866,1076"/>
<area shape="rect" id="node37" href="namespacelbann.html#ab2c2ad3c98b9991a6307b123617dbfb2" title="Given an open file descriptor, file name, and a matrix, read the matrix from the file descriptor..." alt="" coords="754,292,865,317"/>
<area shape="rect" id="node22" href="namespacelbann.html#aefae2a9fc9d742ece0fa8ca7ed9ee137" title="lbann::exists" alt="" coords="958,952,1054,977"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classlbann_1_1lbann__callback__checkpoint_a406bfba673e503e94ae6eb57aff6a78e_icgraph.png" border="0" usemap="#classlbann_1_1lbann__callback__checkpoint_a406bfba673e503e94ae6eb57aff6a78e_icgraph" alt=""/></div>
<map name="classlbann_1_1lbann__callback__checkpoint_a406bfba673e503e94ae6eb57aff6a78e_icgraph" id="classlbann_1_1lbann__callback__checkpoint_a406bfba673e503e94ae6eb57aff6a78e_icgraph">
<area shape="rect" id="node2" href="classlbann_1_1lbann__callback__checkpoint.html#a63dc49f38f063f9b85d9abdf8b2855aa" title="lbann::lbann_callback\l_checkpoint::copy" alt="" coords="241,5,391,44"/>
</map>
</div>

</div>
</div>
<a id="a5fb4288c03b1ce14681b72562e9471b2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5fb4288c03b1ce14681b72562e9471b2">&#9670;&nbsp;</a></span>on_validation_end()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void lbann::lbann_callback_checkpoint::on_validation_end </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classlbann_1_1model.html">model</a> *&#160;</td>
          <td class="paramname"><em>m</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Called immediately after the end of validation. </p>

<p>Reimplemented from <a class="el" href="classlbann_1_1lbann__callback.html#adc16e42e5064dc2dc8d84dfbfc1325eb">lbann::lbann_callback</a>.</p>

<p class="definition">Definition at line <a class="el" href="callback__checkpoint_8cpp_source.html#l00050">50</a> of file <a class="el" href="callback__checkpoint_8cpp_source.html">callback_checkpoint.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;                                                          {</div><div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;  <a class="code" href="classlbann_1_1lbann__callback__checkpoint.html#a3827e5bb569f80d790c3ac856a7c39b5">m_val_end</a> = <span class="keyword">true</span>;</div><div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;  <span class="keywordflow">if</span>(<a class="code" href="classlbann_1_1lbann__callback__checkpoint.html#a2e5f396667ccc45f7203263b06c5e216">need_checkpoint</a>(m)){</div><div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;    <a class="code" href="classlbann_1_1lbann__callback__checkpoint.html#a23b6f5abb924b2c4d0694e98c7d6f4d5">checkpointShared</a>(m);</div><div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;  }</div><div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;  <span class="comment">//m_epoch_end = false;</span></div><div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;  <a class="code" href="classlbann_1_1lbann__callback__checkpoint.html#a3827e5bb569f80d790c3ac856a7c39b5">m_val_end</a> = <span class="keyword">false</span>;</div><div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;}</div><div class="ttc" id="classlbann_1_1lbann__callback__checkpoint_html_a2e5f396667ccc45f7203263b06c5e216"><div class="ttname"><a href="classlbann_1_1lbann__callback__checkpoint.html#a2e5f396667ccc45f7203263b06c5e216">lbann::lbann_callback_checkpoint::need_checkpoint</a></div><div class="ttdeci">bool need_checkpoint(model *m)</div><div class="ttdef"><b>Definition:</b> <a href="callback__checkpoint_8cpp_source.html#l00064">callback_checkpoint.cpp:64</a></div></div>
<div class="ttc" id="classlbann_1_1lbann__callback__checkpoint_html_a3827e5bb569f80d790c3ac856a7c39b5"><div class="ttname"><a href="classlbann_1_1lbann__callback__checkpoint.html#a3827e5bb569f80d790c3ac856a7c39b5">lbann::lbann_callback_checkpoint::m_val_end</a></div><div class="ttdeci">bool m_val_end</div><div class="ttdef"><b>Definition:</b> <a href="callback__checkpoint_8hpp_source.html#l00091">callback_checkpoint.hpp:91</a></div></div>
<div class="ttc" id="classlbann_1_1lbann__callback__checkpoint_html_a23b6f5abb924b2c4d0694e98c7d6f4d5"><div class="ttname"><a href="classlbann_1_1lbann__callback__checkpoint.html#a23b6f5abb924b2c4d0694e98c7d6f4d5">lbann::lbann_callback_checkpoint::checkpointShared</a></div><div class="ttdeci">bool checkpointShared(model *m)</div><div class="ttdef"><b>Definition:</b> <a href="callback__checkpoint_8cpp_source.html#l00145">callback_checkpoint.cpp:145</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classlbann_1_1lbann__callback__checkpoint_a5fb4288c03b1ce14681b72562e9471b2_cgraph.png" border="0" usemap="#classlbann_1_1lbann__callback__checkpoint_a5fb4288c03b1ce14681b72562e9471b2_cgraph" alt=""/></div>
<map name="classlbann_1_1lbann__callback__checkpoint_a5fb4288c03b1ce14681b72562e9471b2_cgraph" id="classlbann_1_1lbann__callback__checkpoint_a5fb4288c03b1ce14681b72562e9471b2_cgraph">
<area shape="rect" id="node2" href="classlbann_1_1lbann__callback__checkpoint.html#a2e5f396667ccc45f7203263b06c5e216" title="lbann::lbann_callback\l_checkpoint::need_checkpoint" alt="" coords="264,491,465,529"/>
<area shape="rect" id="node7" href="classlbann_1_1lbann__callback__checkpoint.html#a23b6f5abb924b2c4d0694e98c7d6f4d5" title="lbann::lbann_callback\l_checkpoint::checkpointShared" alt="" coords="261,609,468,648"/>
<area shape="rect" id="node3" href="classlbann_1_1model.html#a9e1cfe449d2f4858a32994f6be0042fb" title="lbann::model::get_comm" alt="" coords="524,385,691,411"/>
<area shape="rect" id="node4" href="classlbann_1_1model.html#a1cf70e098524cc5013bce56edd96dfe7" title="lbann::model::get_cur\l_epoch" alt="" coords="532,435,682,473"/>
<area shape="rect" id="node5" href="classlbann_1_1model.html#ad0cdcba177434b52dc9c4a97be183a92" title="lbann::model::get_cur_step" alt="" coords="516,497,698,523"/>
<area shape="rect" id="node6" href="classlbann_1_1lbann__comm.html#a1ef526486183a29feadca9bef096a534" title="lbann::lbann_comm::\lam_world_master" alt="" coords="535,547,680,585"/>
<area shape="rect" id="node8" href="namespacelbann.html#a8830dea8eef0ab5b93d68e2358ceeb1a" title="lbann::makedir" alt="" coords="776,1100,884,1125"/>
<area shape="rect" id="node9" href="classlbann_1_1persist.html#a32a8f71995b674a62b21087ec4be9575" title="lbann::persist::open\l_checkpoint" alt="" coords="538,1093,676,1132"/>
<area shape="rect" id="node11" href="classlbann_1_1model.html#a3d589d2e46ad35d0a1221e25bef70fa4" title="lbann::model::save\l_to_checkpoint_shared" alt="" coords="528,609,687,648"/>
<area shape="rect" id="node17" href="classlbann_1_1persist.html#ab099939d0d91101fbfaf2b85e78be032" title="lbann::persist::close\l_checkpoint" alt="" coords="538,1232,677,1271"/>
<area shape="rect" id="node19" href="classlbann_1_1persist.html#ad759657d69e88a491729ce8e4bf9510e" title="lbann::persist::get\l_bytes" alt="" coords="544,672,670,711"/>
<area shape="rect" id="node38" href="namespacelbann.html#a35a39e949cfd1d7f8c15f94e4d44ecff" title="lbann::write_latest" alt="" coords="543,1165,672,1191"/>
<area shape="rect" id="node10" href="namespacelbann.html#af596e6d2be603e9cf808c98f5412490a" title="lbann::openwrite" alt="" coords="770,1199,890,1224"/>
<area shape="rect" id="node12" href="classlbann_1_1persist.html#a34eb918a890ab49dcbeedddf27ec1616" title="lbann::persist::get_rank" alt="" coords="750,68,910,93"/>
<area shape="rect" id="node13" href="classlbann_1_1persist.html#a742334568de0aca958dbaf7bbabd3cba" title="lbann::persist::write\l_uint32" alt="" coords="762,180,898,219"/>
<area shape="rect" id="node15" href="classlbann_1_1persist.html#aced95e3bc711276b072af97b65ef9fc1" title="lbann::persist::write\l_uint64" alt="" coords="762,117,898,156"/>
<area shape="rect" id="node16" href="namespacelbann.html#af68acf5b249e5360289d4c6a7bfa8985" title="lbann::save_rng_to\l_checkpoint_shared" alt="" coords="760,5,900,44"/>
<area shape="rect" id="node14" href="namespacelbann.html#aed95061796f19fa1648dcc99dc335abd" title="lbann::write_bytes" alt="" coords="962,367,1090,392"/>
<area shape="rect" id="node18" href="namespacelbann.html#aceeccedbbafccfa071b21ee99be794a5" title="lbann::closewrite" alt="" coords="770,1248,890,1273"/>
<area shape="rect" id="node20" href="namespacelbann.html#aa7b4e710f444588dfcf4188b84b33420" title="lbann::write_distmat" alt="" coords="760,492,900,517"/>
<area shape="rect" id="node21" href="namespacelbann.html#a0306ed35d6d90cf4fbdce7a72ad62ca7" title="lbann::read_distmat" alt="" coords="761,952,899,977"/>
<area shape="rect" id="node23" href="namespacelbann.html#a85385e2a9e058b6720300b4cbdd2b1d0" title="lbann::read_bytes" alt="" coords="962,780,1090,805"/>
<area shape="rect" id="node24" href="namespacelbann.html#a3a801c9f48655f81b886af4bff083f27" title="lbann::write_uint32" alt="" coords="763,443,897,468"/>
<area shape="rect" id="node25" href="namespacelbann.html#aedcde4d93c4feb5090c927de1c45b90d" title="lbann::read_uint32" alt="" coords="764,755,896,780"/>
<area shape="rect" id="node26" href="namespacelbann.html#a234f8c7b9bbc2d9310d3e40314eb497c" title="lbann::write_uint64" alt="" coords="763,541,897,567"/>
<area shape="rect" id="node27" href="namespacelbann.html#a7ca20ac4f0ec9feaa2f6d5b6ef3c8865" title="lbann::read_uint64" alt="" coords="764,804,896,829"/>
<area shape="rect" id="node28" href="namespacelbann.html#a917727ad7e4f0dfd6d5a609cdc6dd9e2" title="lbann::write_int32\l_contig" alt="" coords="767,591,893,629"/>
<area shape="rect" id="node29" href="namespacelbann.html#acb5b0f1b30c9ab2fba700bb953515810" title="lbann::read_int32_contig" alt="" coords="746,853,914,879"/>
<area shape="rect" id="node30" href="namespacelbann.html#a73339e4587f8ce7f653be03a3a6cbcd0" title="lbann::write_float" alt="" coords="769,243,891,268"/>
<area shape="rect" id="node31" href="namespacelbann.html#acd0595f8c31773a3a46f477a83e4c0f3" title="lbann::read_float" alt="" coords="770,903,890,928"/>
<area shape="rect" id="node32" href="namespacelbann.html#add2807d7303bd96d2804f0b14e894c68" title="lbann::write_string" alt="" coords="765,1149,895,1175"/>
<area shape="rect" id="node33" href="namespacelbann.html#a784843ebce0e596dba31c1d981a7f087" title="lbann::read_string" alt="" coords="766,1001,894,1027"/>
<area shape="rect" id="node34" href="namespacelbann.html#a827b050911630a21f248b128e3859044" title="lbann::write_double" alt="" coords="761,341,898,367"/>
<area shape="rect" id="node35" href="namespacelbann.html#a66f98f36cf54dca622f1186309961dd4" title="lbann::read_double" alt="" coords="762,653,898,679"/>
<area shape="rect" id="node36" href="namespacelbann.html#af640a9302803636e0b5deb110c1aee57" title="Given an open file descriptor, file name, and a matrix, write the matrix to the file descriptor..." alt="" coords="774,1051,886,1076"/>
<area shape="rect" id="node37" href="namespacelbann.html#ab2c2ad3c98b9991a6307b123617dbfb2" title="Given an open file descriptor, file name, and a matrix, read the matrix from the file descriptor..." alt="" coords="774,292,885,317"/>
<area shape="rect" id="node22" href="namespacelbann.html#aefae2a9fc9d742ece0fa8ca7ed9ee137" title="lbann::exists" alt="" coords="978,952,1074,977"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classlbann_1_1lbann__callback__checkpoint_a5fb4288c03b1ce14681b72562e9471b2_icgraph.png" border="0" usemap="#classlbann_1_1lbann__callback__checkpoint_a5fb4288c03b1ce14681b72562e9471b2_icgraph" alt=""/></div>
<map name="classlbann_1_1lbann__callback__checkpoint_a5fb4288c03b1ce14681b72562e9471b2_icgraph" id="classlbann_1_1lbann__callback__checkpoint_a5fb4288c03b1ce14681b72562e9471b2_icgraph">
<area shape="rect" id="node2" href="classlbann_1_1lbann__callback__checkpoint.html#a63dc49f38f063f9b85d9abdf8b2855aa" title="lbann::lbann_callback\l_checkpoint::copy" alt="" coords="261,5,411,44"/>
</map>
</div>

</div>
</div>
<a id="aab65cb67b53e6af00142a9dc665f9ce8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aab65cb67b53e6af00142a9dc665f9ce8">&#9670;&nbsp;</a></span>operator=()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classlbann_1_1lbann__callback__checkpoint.html">lbann_callback_checkpoint</a>&amp; lbann::lbann_callback_checkpoint::operator= </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classlbann_1_1lbann__callback__checkpoint.html">lbann_callback_checkpoint</a> &amp;&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">default</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classlbann_1_1lbann__callback__checkpoint_aab65cb67b53e6af00142a9dc665f9ce8_icgraph.png" border="0" usemap="#classlbann_1_1lbann__callback__checkpoint_aab65cb67b53e6af00142a9dc665f9ce8_icgraph" alt=""/></div>
<map name="classlbann_1_1lbann__callback__checkpoint_aab65cb67b53e6af00142a9dc665f9ce8_icgraph" id="classlbann_1_1lbann__callback__checkpoint_aab65cb67b53e6af00142a9dc665f9ce8_icgraph">
<area shape="rect" id="node2" href="classlbann_1_1lbann__callback__checkpoint.html#a865e633d1f041e3f2e5465b1d05f3603" title="lbann::lbann_callback\l_checkpoint::lbann_callback\l_checkpoint" alt="" coords="211,5,399,57"/>
<area shape="rect" id="node3" href="classlbann_1_1lbann__callback__checkpoint.html#a63dc49f38f063f9b85d9abdf8b2855aa" title="lbann::lbann_callback\l_checkpoint::copy" alt="" coords="447,12,596,51"/>
</map>
</div>

</div>
</div>
<a id="a40d369278bc5963ba2f3cca1750ba004"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a40d369278bc5963ba2f3cca1750ba004">&#9670;&nbsp;</a></span>restartShared()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool lbann::lbann_callback_checkpoint::restartShared </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classlbann_1_1model.html">model</a> *&#160;</td>
          <td class="paramname"><em>m</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="callback__checkpoint_8cpp_source.html#l00203">203</a> of file <a class="el" href="callback__checkpoint_8cpp_source.html">callback_checkpoint.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;                                                      {</div><div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;  <span class="comment">// if the checkpoint directory is not defined, bail</span></div><div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classlbann_1_1lbann__callback__checkpoint.html#ac89386fda60744e6399f97003fea3711">m_checkpoint_dir</a>.length() == 0) {</div><div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;  }</div><div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;  <span class="comment">// get top level directory</span></div><div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">char</span> *dir = <a class="code" href="classlbann_1_1lbann__callback__checkpoint.html#ac89386fda60744e6399f97003fea3711">m_checkpoint_dir</a>.c_str();</div><div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;  <span class="comment">// read epoch number from current file</span></div><div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;  <span class="keywordtype">int</span> epoch, step;</div><div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;  lbann_comm *<a class="code" href="file__io_8cpp.html#ab048c6f9fcbcfaa57ce68b00263dbebe">comm</a> = m-&gt;get_comm();</div><div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;  <span class="keywordflow">if</span> (comm-&gt;am_world_master()) {</div><div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;    <a class="code" href="namespacelbann.html#abebab8298e56db6a455a9ed08ab42bb4">read_latest</a>(dir, <span class="stringliteral">&quot;last.shared.checkpoint&quot;</span>, &amp;epoch, &amp;step);</div><div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;  }</div><div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;  MPI_Bcast(&amp;epoch, 1, MPI_INT, 0, MPI_COMM_WORLD);</div><div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;  MPI_Bcast(&amp;step,  1, MPI_INT, 0, MPI_COMM_WORLD);</div><div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;  <span class="comment">// if we couldn&#39;t find the latest epoch, just return</span></div><div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;  <span class="keywordflow">if</span> (epoch &lt; 0) {</div><div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;  }</div><div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;  <span class="comment">// time how long this takes</span></div><div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;  El::Timer timer;</div><div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;  <span class="comment">// let user know we&#39;re restarting from a checkpoint</span></div><div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;  MPI_Barrier(MPI_COMM_WORLD);</div><div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;  <span class="keywordflow">if</span> (comm-&gt;am_world_master()) {</div><div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;    timer.Start();</div><div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;    printf(<span class="stringliteral">&quot;Restart: epoch %d ...\n&quot;</span>, epoch);</div><div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;    fflush(stdout);</div><div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;  }</div><div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;  <span class="comment">// get subdirectory for this epoch</span></div><div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;  <span class="keywordtype">char</span> epochdir[1024];</div><div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;  sprintf(epochdir, <span class="stringliteral">&quot;%s/shared.epoch.%d.step.%d&quot;</span>, dir, epoch, step);</div><div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;  <span class="comment">// open our checkpoint</span></div><div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;  persist p;</div><div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;  p.open_restart(epochdir,<a class="code" href="classlbann_1_1lbann__callback__checkpoint.html#a36af7331ddf213339fe7282cb53ffedc">m_checkpoint_per_rank</a>);</div><div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;  <span class="comment">// call virtual function to restore model from checkpoint</span></div><div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;  m-&gt;load_from_checkpoint_shared(p);</div><div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;  <span class="comment">// close our checkpoint</span></div><div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;  p.close_restart();</div><div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;  uint64_t bytes_count = p.get_bytes();</div><div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;  <span class="comment">// let user know we&#39;ve completed reading our restart</span></div><div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;  MPI_Barrier(MPI_COMM_WORLD);</div><div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;  <span class="keywordflow">if</span> (comm-&gt;am_world_master()) {</div><div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;    <a class="code" href="base_8hpp.html#a3266f5ac18504bbadea983c109566867">EvalType</a> secs = timer.Stop();</div><div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;    <a class="code" href="base_8hpp.html#a3266f5ac18504bbadea983c109566867">EvalType</a> bw = 0.0;</div><div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;    <span class="keywordflow">if</span> (secs &gt; 0.0) {</div><div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;      bw = <a class="code" href="base_8hpp.html#a3266f5ac18504bbadea983c109566867">EvalType</a>(bytes_count) / (secs * 1024.0 * 1024.0);</div><div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;    }</div><div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;    printf(<span class="stringliteral">&quot;Restart complete: Epoch=%d Step=%d (%f secs, %llu bytes, %f MB/sec)\n&quot;</span>,</div><div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;           epoch, step, secs, (<span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <span class="keywordtype">long</span>) bytes_count, bw</div><div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;          );</div><div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;    fflush(stdout);</div><div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;  }</div><div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;}</div><div class="ttc" id="base_8hpp_html_a3266f5ac18504bbadea983c109566867"><div class="ttname"><a href="base_8hpp.html#a3266f5ac18504bbadea983c109566867">EvalType</a></div><div class="ttdeci">double EvalType</div><div class="ttdef"><b>Definition:</b> <a href="base_8hpp_source.html#l00063">base.hpp:63</a></div></div>
<div class="ttc" id="namespacelbann_html_abebab8298e56db6a455a9ed08ab42bb4"><div class="ttname"><a href="namespacelbann.html#abebab8298e56db6a455a9ed08ab42bb4">lbann::read_latest</a></div><div class="ttdeci">static bool read_latest(const char *dir, const char *name, int *epochLast, int *trainLast)</div><div class="ttdoc">Reads the &quot;latest&quot; file and returns the epoch number and sample offset for most recent checkpoint...</div><div class="ttdef"><b>Definition:</b> <a href="callback__checkpoint_8cpp_source.html#l00124">callback_checkpoint.cpp:124</a></div></div>
<div class="ttc" id="classlbann_1_1lbann__callback__checkpoint_html_a36af7331ddf213339fe7282cb53ffedc"><div class="ttname"><a href="classlbann_1_1lbann__callback__checkpoint.html#a36af7331ddf213339fe7282cb53ffedc">lbann::lbann_callback_checkpoint::m_checkpoint_per_rank</a></div><div class="ttdeci">bool m_checkpoint_per_rank</div><div class="ttdef"><b>Definition:</b> <a href="callback__checkpoint_8hpp_source.html#l00088">callback_checkpoint.hpp:88</a></div></div>
<div class="ttc" id="file__io_8cpp_html_ab048c6f9fcbcfaa57ce68b00263dbebe"><div class="ttname"><a href="file__io_8cpp.html#ab048c6f9fcbcfaa57ce68b00263dbebe">comm</a></div><div class="ttdeci">static MPI_Comm comm</div><div class="ttdef"><b>Definition:</b> <a href="file__io_8cpp_source.html#l00044">file_io.cpp:44</a></div></div>
<div class="ttc" id="classlbann_1_1lbann__callback__checkpoint_html_ac89386fda60744e6399f97003fea3711"><div class="ttname"><a href="classlbann_1_1lbann__callback__checkpoint.html#ac89386fda60744e6399f97003fea3711">lbann::lbann_callback_checkpoint::m_checkpoint_dir</a></div><div class="ttdeci">std::string m_checkpoint_dir</div><div class="ttdef"><b>Definition:</b> <a href="callback__checkpoint_8hpp_source.html#l00084">callback_checkpoint.hpp:84</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classlbann_1_1lbann__callback__checkpoint_a40d369278bc5963ba2f3cca1750ba004_cgraph.png" border="0" usemap="#classlbann_1_1lbann__callback__checkpoint_a40d369278bc5963ba2f3cca1750ba004_cgraph" alt=""/></div>
<map name="classlbann_1_1lbann__callback__checkpoint_a40d369278bc5963ba2f3cca1750ba004_cgraph" id="classlbann_1_1lbann__callback__checkpoint_a40d369278bc5963ba2f3cca1750ba004_cgraph">
<area shape="rect" id="node2" href="classlbann_1_1model.html#a9e1cfe449d2f4858a32994f6be0042fb" title="lbann::model::get_comm" alt="" coords="238,33,405,59"/>
<area shape="rect" id="node3" href="classlbann_1_1lbann__comm.html#a1ef526486183a29feadca9bef096a534" title="lbann::lbann_comm::\lam_world_master" alt="" coords="249,83,394,121"/>
<area shape="rect" id="node4" href="namespacelbann.html#abebab8298e56db6a455a9ed08ab42bb4" title="Reads the &quot;latest&quot; file and returns the epoch number and sample offset for most recent checkpoint..." alt="" coords="258,271,385,296"/>
<area shape="rect" id="node8" href="classlbann_1_1persist.html#a123cbc1d2b693640c784a45cbc6d2d97" title="lbann::persist::open\l_restart" alt="" coords="253,208,390,247"/>
<area shape="rect" id="node9" href="classlbann_1_1model.html#a2e02dda11636e015ea0c892ffa541881" title="lbann::model::load\l_from_checkpoint_shared" alt="" coords="234,145,409,184"/>
<area shape="rect" id="node15" href="classlbann_1_1persist.html#afeef05548e1d17bd09d3805607edd621" title="lbann::persist::close\l_restart" alt="" coords="252,320,391,359"/>
<area shape="rect" id="node16" href="classlbann_1_1persist.html#ad759657d69e88a491729ce8e4bf9510e" title="lbann::persist::get\l_bytes" alt="" coords="258,732,385,771"/>
<area shape="rect" id="node5" href="namespacelbann.html#a6084b9319eea1997f8446fa3e6879532" title="lbann::openread" alt="" coords="482,243,599,268"/>
<area shape="rect" id="node6" href="namespacelbann.html#a784843ebce0e596dba31c1d981a7f087" title="lbann::read_string" alt="" coords="476,341,604,367"/>
<area shape="rect" id="node7" href="namespacelbann.html#a38dd30b2ae8214f6595708264369ddb8" title="lbann::closeread" alt="" coords="481,292,600,317"/>
<area shape="rect" id="node10" href="classlbann_1_1persist.html#a34eb918a890ab49dcbeedddf27ec1616" title="lbann::persist::get_rank" alt="" coords="460,131,620,156"/>
<area shape="rect" id="node11" href="classlbann_1_1persist.html#ace1ebb58e2570693cdce0ebd2817113b" title="lbann::persist::read\l_uint32" alt="" coords="473,5,608,44"/>
<area shape="rect" id="node13" href="classlbann_1_1persist.html#aa6d996db3714a7ae055adac0d8e8ac63" title="lbann::persist::read\l_uint64" alt="" coords="473,68,608,107"/>
<area shape="rect" id="node14" href="namespacelbann.html#ab76114a0e8cc90c28bcb9e7d01eec89a" title="lbann::load_rng_from\l_checkpoint_shared" alt="" coords="467,180,614,219"/>
<area shape="rect" id="node12" href="namespacelbann.html#a85385e2a9e058b6720300b4cbdd2b1d0" title="lbann::read_bytes" alt="" coords="673,468,800,493"/>
<area shape="rect" id="node17" href="namespacelbann.html#aa7b4e710f444588dfcf4188b84b33420" title="lbann::write_distmat" alt="" coords="471,999,610,1024"/>
<area shape="rect" id="node18" href="namespacelbann.html#a0306ed35d6d90cf4fbdce7a72ad62ca7" title="lbann::read_distmat" alt="" coords="471,1199,610,1224"/>
<area shape="rect" id="node20" href="namespacelbann.html#aed95061796f19fa1648dcc99dc335abd" title="lbann::write_bytes" alt="" coords="672,1000,801,1025"/>
<area shape="rect" id="node21" href="namespacelbann.html#a3a801c9f48655f81b886af4bff083f27" title="lbann::write_uint32" alt="" coords="474,1100,607,1125"/>
<area shape="rect" id="node22" href="namespacelbann.html#aedcde4d93c4feb5090c927de1c45b90d" title="lbann::read_uint32" alt="" coords="475,443,606,468"/>
<area shape="rect" id="node23" href="namespacelbann.html#a234f8c7b9bbc2d9310d3e40314eb497c" title="lbann::write_uint64" alt="" coords="474,1149,607,1175"/>
<area shape="rect" id="node24" href="namespacelbann.html#a7ca20ac4f0ec9feaa2f6d5b6ef3c8865" title="lbann::read_uint64" alt="" coords="475,492,606,517"/>
<area shape="rect" id="node25" href="namespacelbann.html#a917727ad7e4f0dfd6d5a609cdc6dd9e2" title="lbann::write_int32\l_contig" alt="" coords="478,837,603,876"/>
<area shape="rect" id="node26" href="namespacelbann.html#acb5b0f1b30c9ab2fba700bb953515810" title="lbann::read_int32_contig" alt="" coords="457,689,624,715"/>
<area shape="rect" id="node27" href="namespacelbann.html#a73339e4587f8ce7f653be03a3a6cbcd0" title="lbann::write_float" alt="" coords="479,900,602,925"/>
<area shape="rect" id="node28" href="namespacelbann.html#acd0595f8c31773a3a46f477a83e4c0f3" title="lbann::read_float" alt="" coords="480,739,601,764"/>
<area shape="rect" id="node29" href="namespacelbann.html#add2807d7303bd96d2804f0b14e894c68" title="lbann::write_string" alt="" coords="476,541,605,567"/>
<area shape="rect" id="node30" href="namespacelbann.html#a827b050911630a21f248b128e3859044" title="lbann::write_double" alt="" coords="472,949,609,975"/>
<area shape="rect" id="node31" href="namespacelbann.html#a66f98f36cf54dca622f1186309961dd4" title="lbann::read_double" alt="" coords="473,788,608,813"/>
<area shape="rect" id="node32" href="namespacelbann.html#af640a9302803636e0b5deb110c1aee57" title="Given an open file descriptor, file name, and a matrix, write the matrix to the file descriptor..." alt="" coords="484,591,597,616"/>
<area shape="rect" id="node33" href="namespacelbann.html#ab2c2ad3c98b9991a6307b123617dbfb2" title="Given an open file descriptor, file name, and a matrix, read the matrix from the file descriptor..." alt="" coords="485,640,596,665"/>
<area shape="rect" id="node19" href="namespacelbann.html#aefae2a9fc9d742ece0fa8ca7ed9ee137" title="lbann::exists" alt="" coords="689,1199,784,1224"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classlbann_1_1lbann__callback__checkpoint_a40d369278bc5963ba2f3cca1750ba004_icgraph.png" border="0" usemap="#classlbann_1_1lbann__callback__checkpoint_a40d369278bc5963ba2f3cca1750ba004_icgraph" alt=""/></div>
<map name="classlbann_1_1lbann__callback__checkpoint_a40d369278bc5963ba2f3cca1750ba004_icgraph" id="classlbann_1_1lbann__callback__checkpoint_a40d369278bc5963ba2f3cca1750ba004_icgraph">
<area shape="rect" id="node2" href="classlbann_1_1lbann__callback__checkpoint.html#ac3a0bb250a679b28924910c0dc617809" title="lbann::lbann_callback\l_checkpoint::set_checkpoint\l_per_rank" alt="" coords="234,5,423,57"/>
<area shape="rect" id="node3" href="classlbann_1_1lbann__callback__checkpoint.html#a383654a7bb70672dfc9fef679f4b509f" title="lbann::lbann_callback\l_checkpoint::setup" alt="" coords="254,81,403,120"/>
<area shape="rect" id="node4" href="classlbann_1_1lbann__callback__checkpoint.html#a63dc49f38f063f9b85d9abdf8b2855aa" title="lbann::lbann_callback\l_checkpoint::copy" alt="" coords="471,81,620,120"/>
</map>
</div>

</div>
</div>
<a id="adc9b6a01e100893c2dd0cfc7090c4079"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adc9b6a01e100893c2dd0cfc7090c4079">&#9670;&nbsp;</a></span>set_checkpoint_dir()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void lbann::lbann_callback_checkpoint::set_checkpoint_dir </td>
          <td>(</td>
          <td class="paramtype">std::string&#160;</td>
          <td class="paramname"><em>dir</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="callback__checkpoint_8hpp_source.html#l00059">59</a> of file <a class="el" href="callback__checkpoint_8hpp_source.html">callback_checkpoint.hpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;                                               {</div><div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;    <a class="code" href="classlbann_1_1lbann__callback__checkpoint.html#ac89386fda60744e6399f97003fea3711">m_checkpoint_dir</a>= dir;</div><div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;  }</div><div class="ttc" id="classlbann_1_1lbann__callback__checkpoint_html_ac89386fda60744e6399f97003fea3711"><div class="ttname"><a href="classlbann_1_1lbann__callback__checkpoint.html#ac89386fda60744e6399f97003fea3711">lbann::lbann_callback_checkpoint::m_checkpoint_dir</a></div><div class="ttdeci">std::string m_checkpoint_dir</div><div class="ttdef"><b>Definition:</b> <a href="callback__checkpoint_8hpp_source.html#l00084">callback_checkpoint.hpp:84</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a718cf388085e51253a84c494511d1fb7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a718cf388085e51253a84c494511d1fb7">&#9670;&nbsp;</a></span>set_checkpoint_epochs()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void lbann::lbann_callback_checkpoint::set_checkpoint_epochs </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>epochs</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="callback__checkpoint_8hpp_source.html#l00063">63</a> of file <a class="el" href="callback__checkpoint_8hpp_source.html">callback_checkpoint.hpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;                                               {</div><div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;    <a class="code" href="classlbann_1_1lbann__callback__checkpoint.html#ad6f4399effadedb26e33fc39a3c6915e">m_checkpoint_epochs</a>= epochs;</div><div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;  }</div><div class="ttc" id="classlbann_1_1lbann__callback__checkpoint_html_ad6f4399effadedb26e33fc39a3c6915e"><div class="ttname"><a href="classlbann_1_1lbann__callback__checkpoint.html#ad6f4399effadedb26e33fc39a3c6915e">lbann::lbann_callback_checkpoint::m_checkpoint_epochs</a></div><div class="ttdeci">int m_checkpoint_epochs</div><div class="ttdef"><b>Definition:</b> <a href="callback__checkpoint_8hpp_source.html#l00085">callback_checkpoint.hpp:85</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ac3a0bb250a679b28924910c0dc617809"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac3a0bb250a679b28924910c0dc617809">&#9670;&nbsp;</a></span>set_checkpoint_per_rank()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void lbann::lbann_callback_checkpoint::set_checkpoint_per_rank </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>per_rank</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="callback__checkpoint_8hpp_source.html#l00075">75</a> of file <a class="el" href="callback__checkpoint_8hpp_source.html">callback_checkpoint.hpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;                                                    {</div><div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;    <a class="code" href="classlbann_1_1lbann__callback__checkpoint.html#a36af7331ddf213339fe7282cb53ffedc">m_checkpoint_per_rank</a>= per_rank;</div><div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;  }</div><div class="ttc" id="classlbann_1_1lbann__callback__checkpoint_html_a36af7331ddf213339fe7282cb53ffedc"><div class="ttname"><a href="classlbann_1_1lbann__callback__checkpoint.html#a36af7331ddf213339fe7282cb53ffedc">lbann::lbann_callback_checkpoint::m_checkpoint_per_rank</a></div><div class="ttdeci">bool m_checkpoint_per_rank</div><div class="ttdef"><b>Definition:</b> <a href="callback__checkpoint_8hpp_source.html#l00088">callback_checkpoint.hpp:88</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classlbann_1_1lbann__callback__checkpoint_ac3a0bb250a679b28924910c0dc617809_cgraph.png" border="0" usemap="#classlbann_1_1lbann__callback__checkpoint_ac3a0bb250a679b28924910c0dc617809_cgraph" alt=""/></div>
<map name="classlbann_1_1lbann__callback__checkpoint_ac3a0bb250a679b28924910c0dc617809_cgraph" id="classlbann_1_1lbann__callback__checkpoint_ac3a0bb250a679b28924910c0dc617809_cgraph">
<area shape="rect" id="node2" href="classlbann_1_1lbann__callback__checkpoint.html#a2e5f396667ccc45f7203263b06c5e216" title="lbann::lbann_callback\l_checkpoint::need_checkpoint" alt="" coords="245,117,446,156"/>
<area shape="rect" id="node7" href="classlbann_1_1lbann__callback__checkpoint.html#a23b6f5abb924b2c4d0694e98c7d6f4d5" title="lbann::lbann_callback\l_checkpoint::checkpointShared" alt="" coords="242,264,449,303"/>
<area shape="rect" id="node39" href="classlbann_1_1lbann__callback__checkpoint.html#a40d369278bc5963ba2f3cca1750ba004" title="lbann::lbann_callback\l_checkpoint::restartShared" alt="" coords="255,1196,436,1235"/>
<area shape="rect" id="node3" href="classlbann_1_1model.html#a9e1cfe449d2f4858a32994f6be0042fb" title="lbann::model::get_comm" alt="" coords="504,469,672,495"/>
<area shape="rect" id="node4" href="classlbann_1_1model.html#a1cf70e098524cc5013bce56edd96dfe7" title="lbann::model::get_cur\l_epoch" alt="" coords="513,55,663,93"/>
<area shape="rect" id="node5" href="classlbann_1_1model.html#ad0cdcba177434b52dc9c4a97be183a92" title="lbann::model::get_cur_step" alt="" coords="497,5,679,31"/>
<area shape="rect" id="node6" href="classlbann_1_1lbann__comm.html#a1ef526486183a29feadca9bef096a534" title="lbann::lbann_comm::\lam_world_master" alt="" coords="515,117,660,156"/>
<area shape="rect" id="node8" href="namespacelbann.html#a8830dea8eef0ab5b93d68e2358ceeb1a" title="lbann::makedir" alt="" coords="756,181,865,207"/>
<area shape="rect" id="node9" href="classlbann_1_1persist.html#a32a8f71995b674a62b21087ec4be9575" title="lbann::persist::open\l_checkpoint" alt="" coords="519,232,657,271"/>
<area shape="rect" id="node11" href="classlbann_1_1model.html#a3d589d2e46ad35d0a1221e25bef70fa4" title="lbann::model::save\l_to_checkpoint_shared" alt="" coords="508,407,668,445"/>
<area shape="rect" id="node17" href="classlbann_1_1persist.html#ab099939d0d91101fbfaf2b85e78be032" title="lbann::persist::close\l_checkpoint" alt="" coords="518,295,657,333"/>
<area shape="rect" id="node19" href="classlbann_1_1persist.html#ad759657d69e88a491729ce8e4bf9510e" title="lbann::persist::get\l_bytes" alt="" coords="525,945,651,984"/>
<area shape="rect" id="node38" href="namespacelbann.html#a35a39e949cfd1d7f8c15f94e4d44ecff" title="lbann::write_latest" alt="" coords="524,357,652,383"/>
<area shape="rect" id="node10" href="namespacelbann.html#af596e6d2be603e9cf808c98f5412490a" title="lbann::openwrite" alt="" coords="751,231,870,256"/>
<area shape="rect" id="node12" href="classlbann_1_1persist.html#a34eb918a890ab49dcbeedddf27ec1616" title="lbann::persist::get_rank" alt="" coords="731,1325,891,1351"/>
<area shape="rect" id="node13" href="classlbann_1_1persist.html#a742334568de0aca958dbaf7bbabd3cba" title="lbann::persist::write\l_uint32" alt="" coords="743,392,879,431"/>
<area shape="rect" id="node15" href="classlbann_1_1persist.html#aced95e3bc711276b072af97b65ef9fc1" title="lbann::persist::write\l_uint64" alt="" coords="743,504,879,543"/>
<area shape="rect" id="node16" href="namespacelbann.html#af68acf5b249e5360289d4c6a7bfa8985" title="lbann::save_rng_to\l_checkpoint_shared" alt="" coords="740,329,881,368"/>
<area shape="rect" id="node14" href="namespacelbann.html#aed95061796f19fa1648dcc99dc335abd" title="lbann::write_bytes" alt="" coords="942,643,1071,668"/>
<area shape="rect" id="node18" href="namespacelbann.html#aceeccedbbafccfa071b21ee99be794a5" title="lbann::closewrite" alt="" coords="750,280,871,305"/>
<area shape="rect" id="node20" href="namespacelbann.html#aa7b4e710f444588dfcf4188b84b33420" title="lbann::write_distmat" alt="" coords="741,977,881,1003"/>
<area shape="rect" id="node21" href="namespacelbann.html#a0306ed35d6d90cf4fbdce7a72ad62ca7" title="lbann::read_distmat" alt="" coords="741,1375,880,1400"/>
<area shape="rect" id="node23" href="namespacelbann.html#a85385e2a9e058b6720300b4cbdd2b1d0" title="lbann::read_bytes" alt="" coords="943,1203,1070,1228"/>
<area shape="rect" id="node24" href="namespacelbann.html#a3a801c9f48655f81b886af4bff083f27" title="lbann::write_uint32" alt="" coords="744,668,877,693"/>
<area shape="rect" id="node25" href="namespacelbann.html#aedcde4d93c4feb5090c927de1c45b90d" title="lbann::read_uint32" alt="" coords="745,1128,877,1153"/>
<area shape="rect" id="node26" href="namespacelbann.html#a234f8c7b9bbc2d9310d3e40314eb497c" title="lbann::write_uint64" alt="" coords="744,717,877,743"/>
<area shape="rect" id="node27" href="namespacelbann.html#a7ca20ac4f0ec9feaa2f6d5b6ef3c8865" title="lbann::read_uint64" alt="" coords="745,1177,877,1203"/>
<area shape="rect" id="node28" href="namespacelbann.html#a917727ad7e4f0dfd6d5a609cdc6dd9e2" title="lbann::write_int32\l_contig" alt="" coords="748,767,874,805"/>
<area shape="rect" id="node29" href="namespacelbann.html#acb5b0f1b30c9ab2fba700bb953515810" title="lbann::read_int32_contig" alt="" coords="727,1227,894,1252"/>
<area shape="rect" id="node30" href="namespacelbann.html#a73339e4587f8ce7f653be03a3a6cbcd0" title="lbann::write_float" alt="" coords="750,829,872,855"/>
<area shape="rect" id="node31" href="namespacelbann.html#acd0595f8c31773a3a46f477a83e4c0f3" title="lbann::read_float" alt="" coords="750,1276,871,1301"/>
<area shape="rect" id="node32" href="namespacelbann.html#add2807d7303bd96d2804f0b14e894c68" title="lbann::write_string" alt="" coords="746,455,875,480"/>
<area shape="rect" id="node33" href="namespacelbann.html#a784843ebce0e596dba31c1d981a7f087" title="lbann::read_string" alt="" coords="747,1549,875,1575"/>
<area shape="rect" id="node34" href="namespacelbann.html#a827b050911630a21f248b128e3859044" title="lbann::write_double" alt="" coords="742,567,879,592"/>
<area shape="rect" id="node35" href="namespacelbann.html#a66f98f36cf54dca622f1186309961dd4" title="lbann::read_double" alt="" coords="743,1027,878,1052"/>
<area shape="rect" id="node36" href="namespacelbann.html#af640a9302803636e0b5deb110c1aee57" title="Given an open file descriptor, file name, and a matrix, write the matrix to the file descriptor..." alt="" coords="754,879,867,904"/>
<area shape="rect" id="node37" href="namespacelbann.html#ab2c2ad3c98b9991a6307b123617dbfb2" title="Given an open file descriptor, file name, and a matrix, read the matrix from the file descriptor..." alt="" coords="755,928,866,953"/>
<area shape="rect" id="node22" href="namespacelbann.html#aefae2a9fc9d742ece0fa8ca7ed9ee137" title="lbann::exists" alt="" coords="959,1375,1054,1400"/>
<area shape="rect" id="node40" href="namespacelbann.html#abebab8298e56db6a455a9ed08ab42bb4" title="Reads the &quot;latest&quot; file and returns the epoch number and sample offset for most recent checkpoint..." alt="" coords="524,1555,652,1580"/>
<area shape="rect" id="node43" href="classlbann_1_1persist.html#a123cbc1d2b693640c784a45cbc6d2d97" title="lbann::persist::open\l_restart" alt="" coords="519,1615,657,1653"/>
<area shape="rect" id="node44" href="classlbann_1_1model.html#a2e02dda11636e015ea0c892ffa541881" title="lbann::model::load\l_from_checkpoint_shared" alt="" coords="501,1424,675,1463"/>
<area shape="rect" id="node48" href="classlbann_1_1persist.html#afeef05548e1d17bd09d3805607edd621" title="lbann::persist::close\l_restart" alt="" coords="518,1699,657,1737"/>
<area shape="rect" id="node41" href="namespacelbann.html#a6084b9319eea1997f8446fa3e6879532" title="lbann::openread" alt="" coords="752,1661,870,1687"/>
<area shape="rect" id="node42" href="namespacelbann.html#a38dd30b2ae8214f6595708264369ddb8" title="lbann::closeread" alt="" coords="751,1711,870,1736"/>
<area shape="rect" id="node45" href="classlbann_1_1persist.html#ace1ebb58e2570693cdce0ebd2817113b" title="lbann::persist::read\l_uint32" alt="" coords="743,1424,878,1463"/>
<area shape="rect" id="node46" href="classlbann_1_1persist.html#aa6d996db3714a7ae055adac0d8e8ac63" title="lbann::persist::read\l_uint64" alt="" coords="743,1487,878,1525"/>
<area shape="rect" id="node47" href="namespacelbann.html#ab76114a0e8cc90c28bcb9e7d01eec89a" title="lbann::load_rng_from\l_checkpoint_shared" alt="" coords="737,1599,884,1637"/>
</map>
</div>

</div>
</div>
<a id="a91a0e5627986654d719930ba5eeebc9e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a91a0e5627986654d719930ba5eeebc9e">&#9670;&nbsp;</a></span>set_checkpoint_secs()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void lbann::lbann_callback_checkpoint::set_checkpoint_secs </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="base_8hpp.html#a3266f5ac18504bbadea983c109566867">EvalType</a>&#160;</td>
          <td class="paramname"><em>secs</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="callback__checkpoint_8hpp_source.html#l00071">71</a> of file <a class="el" href="callback__checkpoint_8hpp_source.html">callback_checkpoint.hpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;                                                {</div><div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;    <a class="code" href="classlbann_1_1lbann__callback__checkpoint.html#a285658a96f8546952c9016ef4cc12161">m_checkpoint_secs</a>= secs;</div><div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;  }</div><div class="ttc" id="classlbann_1_1lbann__callback__checkpoint_html_a285658a96f8546952c9016ef4cc12161"><div class="ttname"><a href="classlbann_1_1lbann__callback__checkpoint.html#a285658a96f8546952c9016ef4cc12161">lbann::lbann_callback_checkpoint::m_checkpoint_secs</a></div><div class="ttdeci">EvalType m_checkpoint_secs</div><div class="ttdef"><b>Definition:</b> <a href="callback__checkpoint_8hpp_source.html#l00087">callback_checkpoint.hpp:87</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="aa385a1dda770ddf7a801134b96d3fcfd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa385a1dda770ddf7a801134b96d3fcfd">&#9670;&nbsp;</a></span>set_checkpoint_steps()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void lbann::lbann_callback_checkpoint::set_checkpoint_steps </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>steps</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="callback__checkpoint_8hpp_source.html#l00067">67</a> of file <a class="el" href="callback__checkpoint_8hpp_source.html">callback_checkpoint.hpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;                                             {</div><div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;    <a class="code" href="classlbann_1_1lbann__callback__checkpoint.html#ad6debea7d9bbebd3ee0323acec11516f">m_checkpoint_steps</a>= steps;</div><div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;  }</div><div class="ttc" id="classlbann_1_1lbann__callback__checkpoint_html_ad6debea7d9bbebd3ee0323acec11516f"><div class="ttname"><a href="classlbann_1_1lbann__callback__checkpoint.html#ad6debea7d9bbebd3ee0323acec11516f">lbann::lbann_callback_checkpoint::m_checkpoint_steps</a></div><div class="ttdeci">int m_checkpoint_steps</div><div class="ttdef"><b>Definition:</b> <a href="callback__checkpoint_8hpp_source.html#l00086">callback_checkpoint.hpp:86</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a383654a7bb70672dfc9fef679f4b509f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a383654a7bb70672dfc9fef679f4b509f">&#9670;&nbsp;</a></span>setup()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void lbann::lbann_callback_checkpoint::setup </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classlbann_1_1model.html">model</a> *&#160;</td>
          <td class="paramname"><em>m</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Called once to set up the callback (after all layers are set up). </p>

<p>Reimplemented from <a class="el" href="classlbann_1_1lbann__callback.html#aab5086e27d9bb0a7c7ee8ffc1bc58671">lbann::lbann_callback</a>.</p>

<p class="definition">Definition at line <a class="el" href="callback__checkpoint_8cpp_source.html#l00034">34</a> of file <a class="el" href="callback__checkpoint_8cpp_source.html">callback_checkpoint.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;                                              {</div><div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;  <a class="code" href="classlbann_1_1lbann__callback__checkpoint.html#a9632d5f0078d3ff2015e96dba789e15c">m_epoch_end</a> = <span class="keyword">false</span>;</div><div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;  <a class="code" href="classlbann_1_1lbann__callback__checkpoint.html#a3827e5bb569f80d790c3ac856a7c39b5">m_val_end</a> = <span class="keyword">false</span>;</div><div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;  <a class="code" href="classlbann_1_1lbann__callback__checkpoint.html#a40d369278bc5963ba2f3cca1750ba004">restartShared</a>(m);</div><div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;}</div><div class="ttc" id="classlbann_1_1lbann__callback__checkpoint_html_a3827e5bb569f80d790c3ac856a7c39b5"><div class="ttname"><a href="classlbann_1_1lbann__callback__checkpoint.html#a3827e5bb569f80d790c3ac856a7c39b5">lbann::lbann_callback_checkpoint::m_val_end</a></div><div class="ttdeci">bool m_val_end</div><div class="ttdef"><b>Definition:</b> <a href="callback__checkpoint_8hpp_source.html#l00091">callback_checkpoint.hpp:91</a></div></div>
<div class="ttc" id="classlbann_1_1lbann__callback__checkpoint_html_a9632d5f0078d3ff2015e96dba789e15c"><div class="ttname"><a href="classlbann_1_1lbann__callback__checkpoint.html#a9632d5f0078d3ff2015e96dba789e15c">lbann::lbann_callback_checkpoint::m_epoch_end</a></div><div class="ttdeci">bool m_epoch_end</div><div class="ttdef"><b>Definition:</b> <a href="callback__checkpoint_8hpp_source.html#l00090">callback_checkpoint.hpp:90</a></div></div>
<div class="ttc" id="classlbann_1_1lbann__callback__checkpoint_html_a40d369278bc5963ba2f3cca1750ba004"><div class="ttname"><a href="classlbann_1_1lbann__callback__checkpoint.html#a40d369278bc5963ba2f3cca1750ba004">lbann::lbann_callback_checkpoint::restartShared</a></div><div class="ttdeci">bool restartShared(model *m)</div><div class="ttdef"><b>Definition:</b> <a href="callback__checkpoint_8cpp_source.html#l00203">callback_checkpoint.cpp:203</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classlbann_1_1lbann__callback__checkpoint_a383654a7bb70672dfc9fef679f4b509f_cgraph.png" border="0" usemap="#classlbann_1_1lbann__callback__checkpoint_a383654a7bb70672dfc9fef679f4b509f_cgraph" alt=""/></div>
<map name="classlbann_1_1lbann__callback__checkpoint_a383654a7bb70672dfc9fef679f4b509f_cgraph" id="classlbann_1_1lbann__callback__checkpoint_a383654a7bb70672dfc9fef679f4b509f_cgraph">
<area shape="rect" id="node2" href="classlbann_1_1lbann__callback__checkpoint.html#a40d369278bc5963ba2f3cca1750ba004" title="lbann::lbann_callback\l_checkpoint::restartShared" alt="" coords="203,208,384,247"/>
<area shape="rect" id="node3" href="classlbann_1_1model.html#a9e1cfe449d2f4858a32994f6be0042fb" title="lbann::model::get_comm" alt="" coords="435,33,603,59"/>
<area shape="rect" id="node4" href="classlbann_1_1lbann__comm.html#a1ef526486183a29feadca9bef096a534" title="lbann::lbann_comm::\lam_world_master" alt="" coords="446,83,592,121"/>
<area shape="rect" id="node5" href="namespacelbann.html#abebab8298e56db6a455a9ed08ab42bb4" title="Reads the &quot;latest&quot; file and returns the epoch number and sample offset for most recent checkpoint..." alt="" coords="455,271,583,296"/>
<area shape="rect" id="node9" href="classlbann_1_1persist.html#a123cbc1d2b693640c784a45cbc6d2d97" title="lbann::persist::open\l_restart" alt="" coords="450,208,588,247"/>
<area shape="rect" id="node10" href="classlbann_1_1model.html#a2e02dda11636e015ea0c892ffa541881" title="lbann::model::load\l_from_checkpoint_shared" alt="" coords="432,145,606,184"/>
<area shape="rect" id="node16" href="classlbann_1_1persist.html#afeef05548e1d17bd09d3805607edd621" title="lbann::persist::close\l_restart" alt="" coords="449,320,589,359"/>
<area shape="rect" id="node17" href="classlbann_1_1persist.html#ad759657d69e88a491729ce8e4bf9510e" title="lbann::persist::get\l_bytes" alt="" coords="456,732,582,771"/>
<area shape="rect" id="node6" href="namespacelbann.html#a6084b9319eea1997f8446fa3e6879532" title="lbann::openread" alt="" coords="679,243,797,268"/>
<area shape="rect" id="node7" href="namespacelbann.html#a784843ebce0e596dba31c1d981a7f087" title="lbann::read_string" alt="" coords="674,341,802,367"/>
<area shape="rect" id="node8" href="namespacelbann.html#a38dd30b2ae8214f6595708264369ddb8" title="lbann::closeread" alt="" coords="678,292,798,317"/>
<area shape="rect" id="node11" href="classlbann_1_1persist.html#a34eb918a890ab49dcbeedddf27ec1616" title="lbann::persist::get_rank" alt="" coords="658,131,818,156"/>
<area shape="rect" id="node12" href="classlbann_1_1persist.html#ace1ebb58e2570693cdce0ebd2817113b" title="lbann::persist::read\l_uint32" alt="" coords="671,5,805,44"/>
<area shape="rect" id="node14" href="classlbann_1_1persist.html#aa6d996db3714a7ae055adac0d8e8ac63" title="lbann::persist::read\l_uint64" alt="" coords="671,68,805,107"/>
<area shape="rect" id="node15" href="namespacelbann.html#ab76114a0e8cc90c28bcb9e7d01eec89a" title="lbann::load_rng_from\l_checkpoint_shared" alt="" coords="664,180,812,219"/>
<area shape="rect" id="node13" href="namespacelbann.html#a85385e2a9e058b6720300b4cbdd2b1d0" title="lbann::read_bytes" alt="" coords="870,468,998,493"/>
<area shape="rect" id="node18" href="namespacelbann.html#aa7b4e710f444588dfcf4188b84b33420" title="lbann::write_distmat" alt="" coords="668,999,808,1024"/>
<area shape="rect" id="node19" href="namespacelbann.html#a0306ed35d6d90cf4fbdce7a72ad62ca7" title="lbann::read_distmat" alt="" coords="669,1199,807,1224"/>
<area shape="rect" id="node21" href="namespacelbann.html#aed95061796f19fa1648dcc99dc335abd" title="lbann::write_bytes" alt="" coords="870,1000,999,1025"/>
<area shape="rect" id="node22" href="namespacelbann.html#a3a801c9f48655f81b886af4bff083f27" title="lbann::write_uint32" alt="" coords="671,1100,805,1125"/>
<area shape="rect" id="node23" href="namespacelbann.html#aedcde4d93c4feb5090c927de1c45b90d" title="lbann::read_uint32" alt="" coords="672,443,804,468"/>
<area shape="rect" id="node24" href="namespacelbann.html#a234f8c7b9bbc2d9310d3e40314eb497c" title="lbann::write_uint64" alt="" coords="671,1149,805,1175"/>
<area shape="rect" id="node25" href="namespacelbann.html#a7ca20ac4f0ec9feaa2f6d5b6ef3c8865" title="lbann::read_uint64" alt="" coords="672,492,804,517"/>
<area shape="rect" id="node26" href="namespacelbann.html#a917727ad7e4f0dfd6d5a609cdc6dd9e2" title="lbann::write_int32\l_contig" alt="" coords="675,837,801,876"/>
<area shape="rect" id="node27" href="namespacelbann.html#acb5b0f1b30c9ab2fba700bb953515810" title="lbann::read_int32_contig" alt="" coords="654,689,822,715"/>
<area shape="rect" id="node28" href="namespacelbann.html#a73339e4587f8ce7f653be03a3a6cbcd0" title="lbann::write_float" alt="" coords="677,900,799,925"/>
<area shape="rect" id="node29" href="namespacelbann.html#acd0595f8c31773a3a46f477a83e4c0f3" title="lbann::read_float" alt="" coords="678,739,798,764"/>
<area shape="rect" id="node30" href="namespacelbann.html#add2807d7303bd96d2804f0b14e894c68" title="lbann::write_string" alt="" coords="673,541,803,567"/>
<area shape="rect" id="node31" href="namespacelbann.html#a827b050911630a21f248b128e3859044" title="lbann::write_double" alt="" coords="670,949,807,975"/>
<area shape="rect" id="node32" href="namespacelbann.html#a66f98f36cf54dca622f1186309961dd4" title="lbann::read_double" alt="" coords="670,788,806,813"/>
<area shape="rect" id="node33" href="namespacelbann.html#af640a9302803636e0b5deb110c1aee57" title="Given an open file descriptor, file name, and a matrix, write the matrix to the file descriptor..." alt="" coords="682,591,794,616"/>
<area shape="rect" id="node34" href="namespacelbann.html#ab2c2ad3c98b9991a6307b123617dbfb2" title="Given an open file descriptor, file name, and a matrix, read the matrix from the file descriptor..." alt="" coords="683,640,794,665"/>
<area shape="rect" id="node20" href="namespacelbann.html#aefae2a9fc9d742ece0fa8ca7ed9ee137" title="lbann::exists" alt="" coords="886,1199,982,1224"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classlbann_1_1lbann__callback__checkpoint_a383654a7bb70672dfc9fef679f4b509f_icgraph.png" border="0" usemap="#classlbann_1_1lbann__callback__checkpoint_a383654a7bb70672dfc9fef679f4b509f_icgraph" alt=""/></div>
<map name="classlbann_1_1lbann__callback__checkpoint_a383654a7bb70672dfc9fef679f4b509f_icgraph" id="classlbann_1_1lbann__callback__checkpoint_a383654a7bb70672dfc9fef679f4b509f_icgraph">
<area shape="rect" id="node2" href="classlbann_1_1lbann__callback__checkpoint.html#a63dc49f38f063f9b85d9abdf8b2855aa" title="lbann::lbann_callback\l_checkpoint::copy" alt="" coords="203,5,352,44"/>
</map>
</div>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="ac89386fda60744e6399f97003fea3711"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac89386fda60744e6399f97003fea3711">&#9670;&nbsp;</a></span>m_checkpoint_dir</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::string lbann::lbann_callback_checkpoint::m_checkpoint_dir</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="callback__checkpoint_8hpp_source.html#l00084">84</a> of file <a class="el" href="callback__checkpoint_8hpp_source.html">callback_checkpoint.hpp</a>.</p>

</div>
</div>
<a id="ad6f4399effadedb26e33fc39a3c6915e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad6f4399effadedb26e33fc39a3c6915e">&#9670;&nbsp;</a></span>m_checkpoint_epochs</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int lbann::lbann_callback_checkpoint::m_checkpoint_epochs</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="callback__checkpoint_8hpp_source.html#l00085">85</a> of file <a class="el" href="callback__checkpoint_8hpp_source.html">callback_checkpoint.hpp</a>.</p>

</div>
</div>
<a id="a842304929c265ffa9d285e635fbbbbd7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a842304929c265ffa9d285e635fbbbbd7">&#9670;&nbsp;</a></span>m_checkpoint_last</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="base_8hpp.html#a3266f5ac18504bbadea983c109566867">EvalType</a> lbann::lbann_callback_checkpoint::m_checkpoint_last</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="callback__checkpoint_8hpp_source.html#l00089">89</a> of file <a class="el" href="callback__checkpoint_8hpp_source.html">callback_checkpoint.hpp</a>.</p>

</div>
</div>
<a id="a36af7331ddf213339fe7282cb53ffedc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a36af7331ddf213339fe7282cb53ffedc">&#9670;&nbsp;</a></span>m_checkpoint_per_rank</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool lbann::lbann_callback_checkpoint::m_checkpoint_per_rank</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="callback__checkpoint_8hpp_source.html#l00088">88</a> of file <a class="el" href="callback__checkpoint_8hpp_source.html">callback_checkpoint.hpp</a>.</p>

</div>
</div>
<a id="a285658a96f8546952c9016ef4cc12161"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a285658a96f8546952c9016ef4cc12161">&#9670;&nbsp;</a></span>m_checkpoint_secs</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="base_8hpp.html#a3266f5ac18504bbadea983c109566867">EvalType</a> lbann::lbann_callback_checkpoint::m_checkpoint_secs</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="callback__checkpoint_8hpp_source.html#l00087">87</a> of file <a class="el" href="callback__checkpoint_8hpp_source.html">callback_checkpoint.hpp</a>.</p>

</div>
</div>
<a id="ad6debea7d9bbebd3ee0323acec11516f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad6debea7d9bbebd3ee0323acec11516f">&#9670;&nbsp;</a></span>m_checkpoint_steps</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int lbann::lbann_callback_checkpoint::m_checkpoint_steps</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="callback__checkpoint_8hpp_source.html#l00086">86</a> of file <a class="el" href="callback__checkpoint_8hpp_source.html">callback_checkpoint.hpp</a>.</p>

</div>
</div>
<a id="a9632d5f0078d3ff2015e96dba789e15c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9632d5f0078d3ff2015e96dba789e15c">&#9670;&nbsp;</a></span>m_epoch_end</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool lbann::lbann_callback_checkpoint::m_epoch_end</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="callback__checkpoint_8hpp_source.html#l00090">90</a> of file <a class="el" href="callback__checkpoint_8hpp_source.html">callback_checkpoint.hpp</a>.</p>

</div>
</div>
<a id="a3827e5bb569f80d790c3ac856a7c39b5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3827e5bb569f80d790c3ac856a7c39b5">&#9670;&nbsp;</a></span>m_val_end</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool lbann::lbann_callback_checkpoint::m_val_end</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="callback__checkpoint_8hpp_source.html#l00091">91</a> of file <a class="el" href="callback__checkpoint_8hpp_source.html">callback_checkpoint.hpp</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>/Users/mckinney27/doxy-testbed/lbann/include/lbann/callbacks/<a class="el" href="callback__checkpoint_8hpp_source.html">callback_checkpoint.hpp</a></li>
<li>/Users/mckinney27/doxy-testbed/lbann/src/callbacks/<a class="el" href="callback__checkpoint_8cpp_source.html">callback_checkpoint.cpp</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespacelbann.html">lbann</a></li><li class="navelem"><a class="el" href="classlbann_1_1lbann__callback__checkpoint.html">lbann_callback_checkpoint</a></li>
    <li class="footer">Generated on Tue Apr 24 2018 15:13:39 for LBANN by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
