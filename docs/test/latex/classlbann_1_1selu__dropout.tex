\hypertarget{classlbann_1_1selu__dropout}{}\section{lbann\+:\+:selu\+\_\+dropout$<$ T\+\_\+layout $>$ Class Template Reference}
\label{classlbann_1_1selu__dropout}\index{lbann\+::selu\+\_\+dropout$<$ T\+\_\+layout $>$@{lbann\+::selu\+\_\+dropout$<$ T\+\_\+layout $>$}}


{\ttfamily \#include $<$selu\+\_\+dropout.\+hpp$>$}



Inheritance diagram for lbann\+:\+:selu\+\_\+dropout$<$ T\+\_\+layout $>$\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=184pt]{classlbann_1_1selu__dropout__inherit__graph}
\end{center}
\end{figure}


Collaboration diagram for lbann\+:\+:selu\+\_\+dropout$<$ T\+\_\+layout $>$\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classlbann_1_1selu__dropout__coll__graph}
\end{center}
\end{figure}
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classlbann_1_1selu__dropout_a988a7e6b7b85ef8ba08a2bc52537e6d3}{selu\+\_\+dropout} (\hyperlink{classlbann_1_1lbann__comm}{lbann\+\_\+comm} $\ast$\hyperlink{file__io_8cpp_ab048c6f9fcbcfaa57ce68b00263dbebe}{comm}, float keep\+\_\+prob=0.\+95f, Data\+Type alpha=\+Data\+Type(1.\+6732632423543772848170429916717), Data\+Type scale=\+Data\+Type(1.\+0507009873554804934193349852946))
\item 
\hyperlink{classlbann_1_1selu__dropout_ae8e81800cf4c75bcf449e192988832b5}{selu\+\_\+dropout} (const \hyperlink{classlbann_1_1selu__dropout}{selu\+\_\+dropout} \&other)
\item 
\hyperlink{classlbann_1_1selu__dropout}{selu\+\_\+dropout} \& \hyperlink{classlbann_1_1selu__dropout_aa4563c71596c91bb568a6808d38e8758}{operator=} (const \hyperlink{classlbann_1_1selu__dropout}{selu\+\_\+dropout} \&other)
\item 
\hyperlink{classlbann_1_1selu__dropout_af3cb2d8724ebca49934769be70e40b83}{$\sim$selu\+\_\+dropout} () override
\item 
\hyperlink{classlbann_1_1selu__dropout}{selu\+\_\+dropout} $\ast$ \hyperlink{classlbann_1_1selu__dropout_a58659790298874e1dc15a45b3199db91}{copy} () const override
\item 
std\+::string \hyperlink{classlbann_1_1selu__dropout_a983e7bf62f995a1fe24363f7b1ff0182}{get\+\_\+type} () const override
\item 
\hyperlink{base_8hpp_a786677cbfb3f5677b4d84f3056eb08db}{data\+\_\+layout} \hyperlink{classlbann_1_1selu__dropout_ae33633add903276c87f725facf0dcd0c}{get\+\_\+data\+\_\+layout} () const override
\item 
void \hyperlink{classlbann_1_1selu__dropout_a8b6469a14cf093d48e42384aa4ee404a}{setup\+\_\+matrices} (const \hyperlink{base_8hpp_a9951bb1719d534e0401b1f06cad19eab}{El\+::\+Grid} \&grid) override
\end{DoxyCompactItemize}
\subsection*{Protected Member Functions}
\begin{DoxyCompactItemize}
\item 
void \hyperlink{classlbann_1_1selu__dropout_a50ccce3672873a12ae69cc76c91e767a}{fp\+\_\+compute} () override
\item 
void \hyperlink{classlbann_1_1selu__dropout_afc80277386fef53296368579876bdb55}{bp\+\_\+compute} () override
\end{DoxyCompactItemize}
\subsection*{Private Attributes}
\begin{DoxyCompactItemize}
\item 
Data\+Type \hyperlink{classlbann_1_1selu__dropout_a8db065b13d8737e1bd4cf154ab3fe666}{m\+\_\+alpha\+\_\+prime}
\item 
Data\+Type \hyperlink{classlbann_1_1selu__dropout_a52bd21583da68ba4e8a374fab259a3ef}{m\+\_\+a}
\item 
Data\+Type \hyperlink{classlbann_1_1selu__dropout_a456fa501b7df6b52701c1aa3639ebc42}{m\+\_\+b}
\item 
float \hyperlink{classlbann_1_1selu__dropout_a00bd2a07703e2e918af8ae68b58ff11b}{m\+\_\+keep\+\_\+prob}
\item 
\hyperlink{base_8hpp_a9a697a504ae84010e7439ffec862b470}{Abs\+Dist\+Mat} $\ast$ \hyperlink{classlbann_1_1selu__dropout_a31aaadbc51d78673a84390b48d4e5950}{m\+\_\+mask}
\end{DoxyCompactItemize}
\subsection*{Additional Inherited Members}


\subsection{Detailed Description}
\subsubsection*{template$<$data\+\_\+layout T\+\_\+layout$>$\newline
class lbann\+::selu\+\_\+dropout$<$ T\+\_\+layout $>$}

S\+E\+LU dropout\+: alpha-\/scaled dropout for use with S\+E\+LU activations. See\+: Klambauer et al. \char`\"{}\+Self-\/\+Normalizing Neural Networks\char`\"{}, 2017. This makes the same default assumptions as our S\+E\+LU activations. The paper recommends a default dropout rate of 0.\+05 (keep 0.\+95). 

Definition at line 41 of file selu\+\_\+dropout.\+hpp.



\subsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{classlbann_1_1selu__dropout_a988a7e6b7b85ef8ba08a2bc52537e6d3}\label{classlbann_1_1selu__dropout_a988a7e6b7b85ef8ba08a2bc52537e6d3}} 
\index{lbann\+::selu\+\_\+dropout@{lbann\+::selu\+\_\+dropout}!selu\+\_\+dropout@{selu\+\_\+dropout}}
\index{selu\+\_\+dropout@{selu\+\_\+dropout}!lbann\+::selu\+\_\+dropout@{lbann\+::selu\+\_\+dropout}}
\subsubsection{\texorpdfstring{selu\+\_\+dropout()}{selu\_dropout()}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily template$<$data\+\_\+layout T\+\_\+layout$>$ \\
\hyperlink{classlbann_1_1selu__dropout}{lbann\+::selu\+\_\+dropout}$<$ T\+\_\+layout $>$\+::\hyperlink{classlbann_1_1selu__dropout}{selu\+\_\+dropout} (\begin{DoxyParamCaption}\item[{\hyperlink{classlbann_1_1lbann__comm}{lbann\+\_\+comm} $\ast$}]{comm,  }\item[{float}]{keep\+\_\+prob = {\ttfamily 0.95f},  }\item[{Data\+Type}]{alpha = {\ttfamily DataType(1.6732632423543772848170429916717)},  }\item[{Data\+Type}]{scale = {\ttfamily DataType(1.0507009873554804934193349852946)} }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}

Keep units with probabiliy keep\+\_\+prob. 

Definition at line 44 of file selu\+\_\+dropout.\+hpp.


\begin{DoxyCode}
47                                                                              :
48     \hyperlink{classlbann_1_1regularizer__layer_a2ebf3877b905b479a0250b74cf8f68b3}{regularizer\_layer}(\hyperlink{file__io_8cpp_ab048c6f9fcbcfaa57ce68b00263dbebe}{comm}),
49     \hyperlink{classlbann_1_1selu__dropout_a00bd2a07703e2e918af8ae68b58ff11b}{m\_keep\_prob}(keep\_prob),
50     \hyperlink{classlbann_1_1selu__dropout_a31aaadbc51d78673a84390b48d4e5950}{m\_mask}(\textcolor{keyword}{nullptr}) \{
51 \textcolor{preprocessor}{#ifdef LBANN\_PROCDET\_DROPOUT}
52     \textcolor{keywordflow}{throw} lbann\_exception(\textcolor{stringliteral}{"selu\_dropout: deterministic dropout not supported"});
53 \textcolor{preprocessor}{#endif}
54     \textcolor{comment}{// Compute alpha' and the affine transform.}
55     \hyperlink{classlbann_1_1selu__dropout_a8db065b13d8737e1bd4cf154ab3fe666}{m\_alpha\_prime} = -scale*alpha;
56     \hyperlink{classlbann_1_1selu__dropout_a52bd21583da68ba4e8a374fab259a3ef}{m\_a} = keep\_prob +
57       \hyperlink{classlbann_1_1selu__dropout_a8db065b13d8737e1bd4cf154ab3fe666}{m\_alpha\_prime}*\hyperlink{classlbann_1_1selu__dropout_a8db065b13d8737e1bd4cf154ab3fe666}{m\_alpha\_prime}*keep\_prob*(DataType(1) - keep\_prob);
58     \hyperlink{classlbann_1_1selu__dropout_a52bd21583da68ba4e8a374fab259a3ef}{m\_a} = DataType(1) / std::sqrt(m\_a);
59     \hyperlink{classlbann_1_1selu__dropout_a456fa501b7df6b52701c1aa3639ebc42}{m\_b} = -m\_a * \hyperlink{classlbann_1_1selu__dropout_a8db065b13d8737e1bd4cf154ab3fe666}{m\_alpha\_prime}*(DataType(1) - keep\_prob);
60   \}
\end{DoxyCode}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=324pt]{classlbann_1_1selu__dropout_a988a7e6b7b85ef8ba08a2bc52537e6d3_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classlbann_1_1selu__dropout_ae8e81800cf4c75bcf449e192988832b5}\label{classlbann_1_1selu__dropout_ae8e81800cf4c75bcf449e192988832b5}} 
\index{lbann\+::selu\+\_\+dropout@{lbann\+::selu\+\_\+dropout}!selu\+\_\+dropout@{selu\+\_\+dropout}}
\index{selu\+\_\+dropout@{selu\+\_\+dropout}!lbann\+::selu\+\_\+dropout@{lbann\+::selu\+\_\+dropout}}
\subsubsection{\texorpdfstring{selu\+\_\+dropout()}{selu\_dropout()}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily template$<$data\+\_\+layout T\+\_\+layout$>$ \\
\hyperlink{classlbann_1_1selu__dropout}{lbann\+::selu\+\_\+dropout}$<$ T\+\_\+layout $>$\+::\hyperlink{classlbann_1_1selu__dropout}{selu\+\_\+dropout} (\begin{DoxyParamCaption}\item[{const \hyperlink{classlbann_1_1selu__dropout}{selu\+\_\+dropout}$<$ T\+\_\+layout $>$ \&}]{other }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Definition at line 62 of file selu\+\_\+dropout.\+hpp.


\begin{DoxyCode}
62                                           :
63     \hyperlink{classlbann_1_1regularizer__layer_a2ebf3877b905b479a0250b74cf8f68b3}{regularizer\_layer}(other),
64     \hyperlink{classlbann_1_1selu__dropout_a8db065b13d8737e1bd4cf154ab3fe666}{m\_alpha\_prime}(other.m\_alpha\_prime),
65     \hyperlink{classlbann_1_1selu__dropout_a52bd21583da68ba4e8a374fab259a3ef}{m\_a}(other.m\_a),
66     \hyperlink{classlbann_1_1selu__dropout_a456fa501b7df6b52701c1aa3639ebc42}{m\_b}(other.m\_b),
67     \hyperlink{classlbann_1_1selu__dropout_a00bd2a07703e2e918af8ae68b58ff11b}{m\_keep\_prob}(other.m\_keep\_prob),
68     \hyperlink{classlbann_1_1selu__dropout_a31aaadbc51d78673a84390b48d4e5950}{m\_mask}(other.m\_mask) \{
69     \textcolor{keywordflow}{if} (\hyperlink{classlbann_1_1selu__dropout_a31aaadbc51d78673a84390b48d4e5950}{m\_mask} != \textcolor{keyword}{nullptr}) \{ \hyperlink{classlbann_1_1selu__dropout_a31aaadbc51d78673a84390b48d4e5950}{m\_mask} = \hyperlink{classlbann_1_1selu__dropout_a31aaadbc51d78673a84390b48d4e5950}{m\_mask}->Copy(); \}
70   \}
\end{DoxyCode}
\mbox{\Hypertarget{classlbann_1_1selu__dropout_af3cb2d8724ebca49934769be70e40b83}\label{classlbann_1_1selu__dropout_af3cb2d8724ebca49934769be70e40b83}} 
\index{lbann\+::selu\+\_\+dropout@{lbann\+::selu\+\_\+dropout}!````~selu\+\_\+dropout@{$\sim$selu\+\_\+dropout}}
\index{````~selu\+\_\+dropout@{$\sim$selu\+\_\+dropout}!lbann\+::selu\+\_\+dropout@{lbann\+::selu\+\_\+dropout}}
\subsubsection{\texorpdfstring{$\sim$selu\+\_\+dropout()}{~selu\_dropout()}}
{\footnotesize\ttfamily template$<$data\+\_\+layout T\+\_\+layout$>$ \\
\hyperlink{classlbann_1_1selu__dropout}{lbann\+::selu\+\_\+dropout}$<$ T\+\_\+layout $>$\+::$\sim$\hyperlink{classlbann_1_1selu__dropout}{selu\+\_\+dropout} (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [override]}}



Definition at line 84 of file selu\+\_\+dropout.\+hpp.


\begin{DoxyCode}
84                            \{
85     \textcolor{keywordflow}{if} (\hyperlink{classlbann_1_1selu__dropout_a31aaadbc51d78673a84390b48d4e5950}{m\_mask} != \textcolor{keyword}{nullptr}) \{ \textcolor{keyword}{delete} \hyperlink{classlbann_1_1selu__dropout_a31aaadbc51d78673a84390b48d4e5950}{m\_mask}; \}
86   \}
\end{DoxyCode}


\subsection{Member Function Documentation}
\mbox{\Hypertarget{classlbann_1_1selu__dropout_afc80277386fef53296368579876bdb55}\label{classlbann_1_1selu__dropout_afc80277386fef53296368579876bdb55}} 
\index{lbann\+::selu\+\_\+dropout@{lbann\+::selu\+\_\+dropout}!bp\+\_\+compute@{bp\+\_\+compute}}
\index{bp\+\_\+compute@{bp\+\_\+compute}!lbann\+::selu\+\_\+dropout@{lbann\+::selu\+\_\+dropout}}
\subsubsection{\texorpdfstring{bp\+\_\+compute()}{bp\_compute()}}
{\footnotesize\ttfamily template$<$data\+\_\+layout T\+\_\+layout$>$ \\
void \hyperlink{classlbann_1_1selu__dropout}{lbann\+::selu\+\_\+dropout}$<$ T\+\_\+layout $>$\+::bp\+\_\+compute (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [override]}, {\ttfamily [protected]}, {\ttfamily [virtual]}}

Adjust gradients for dropout in backprop. 

Implements \hyperlink{classlbann_1_1Layer_a7442e01f9ee1294df2de811efcf5171e}{lbann\+::\+Layer}.



Definition at line 134 of file selu\+\_\+dropout.\+hpp.


\begin{DoxyCode}
134                              \{
135     \textcolor{keywordflow}{if} (this->\hyperlink{classlbann_1_1Layer_a3d9315e99574166f2f33e37b572021d2}{m\_model}->\hyperlink{classlbann_1_1model_addb40597cf29aa6d31b6a7d09ef48608}{get\_execution\_mode}() != 
      \hyperlink{base_8hpp_a2781a159088df64ed7d47cc91c4dc0a8ac185ddac8b5a8f5aa23c5b80bc12d214}{execution\_mode::training}
136         || \hyperlink{classlbann_1_1selu__dropout_a00bd2a07703e2e918af8ae68b58ff11b}{m\_keep\_prob} < 0.0f) \{
137       El::LockedView(\hyperlink{classlbann_1_1Layer_adb561e140e0bb601f3c5a8ee053a71d2}{get\_error\_signals}(), 
      \hyperlink{classlbann_1_1Layer_a7ac4579d3c1671dfaf86e3b618d6938a}{get\_prev\_error\_signals}());
138     \} \textcolor{keywordflow}{else} \{
139 
140       \hyperlink{base_8hpp_a68f11fdc31b62516cb310831bbe54d73}{Mat}& local\_prev\_error\_signal = \hyperlink{classlbann_1_1Layer_a82827edc5e869960144f3ccb2172bfcd}{get\_local\_prev\_error\_signals}();
141       \hyperlink{base_8hpp_a68f11fdc31b62516cb310831bbe54d73}{Mat}& local\_error\_signal = \hyperlink{classlbann_1_1Layer_af178d00b9d878aa7d87754bff2a91f3a}{get\_local\_error\_signals}();
142       \hyperlink{base_8hpp_a68f11fdc31b62516cb310831bbe54d73}{Mat}& local\_mask = \hyperlink{classlbann_1_1selu__dropout_a31aaadbc51d78673a84390b48d4e5950}{m\_mask}->Matrix();
143       \textcolor{keyword}{const} El::Int local\_height = local\_prev\_error\_signal.Height();
144       \textcolor{keyword}{const} El::Int local\_width = local\_prev\_error\_signal.Width();
145       \textcolor{comment}{// Reweight with the affine scale factor and the dropout mask.}
146       \textcolor{keywordflow}{for} (El::Int col = 0; col < local\_width; ++col) \{
147         \textcolor{keywordflow}{for} (El::Int row = 0; row < local\_height; ++row) \{
148           local\_error\_signal(row, col) =
149             \hyperlink{classlbann_1_1selu__dropout_a52bd21583da68ba4e8a374fab259a3ef}{m\_a} * local\_prev\_error\_signal(row, col) * local\_mask(row, col);
150         \}
151       \}
152 
153     \}
154   \}
\end{DoxyCode}
Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classlbann_1_1selu__dropout_afc80277386fef53296368579876bdb55_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classlbann_1_1selu__dropout_a58659790298874e1dc15a45b3199db91}\label{classlbann_1_1selu__dropout_a58659790298874e1dc15a45b3199db91}} 
\index{lbann\+::selu\+\_\+dropout@{lbann\+::selu\+\_\+dropout}!copy@{copy}}
\index{copy@{copy}!lbann\+::selu\+\_\+dropout@{lbann\+::selu\+\_\+dropout}}
\subsubsection{\texorpdfstring{copy()}{copy()}}
{\footnotesize\ttfamily template$<$data\+\_\+layout T\+\_\+layout$>$ \\
\hyperlink{classlbann_1_1selu__dropout}{selu\+\_\+dropout}$\ast$ \hyperlink{classlbann_1_1selu__dropout}{lbann\+::selu\+\_\+dropout}$<$ T\+\_\+layout $>$\+::copy (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [override]}, {\ttfamily [virtual]}}

Copy function. This function dynamically allocates memory for a layer instance and instantiates a copy. The caller is responsible for deallocating the instance. 

Implements \hyperlink{classlbann_1_1Layer_af420f22bbac801c85483ade84588a23f}{lbann\+::\+Layer}.



Definition at line 88 of file selu\+\_\+dropout.\+hpp.


\begin{DoxyCode}
88 \{ \textcolor{keywordflow}{return} \textcolor{keyword}{new} \hyperlink{classlbann_1_1selu__dropout_a988a7e6b7b85ef8ba08a2bc52537e6d3}{selu\_dropout}(*\textcolor{keyword}{this}); \}
\end{DoxyCode}
Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=324pt]{classlbann_1_1selu__dropout_a58659790298874e1dc15a45b3199db91_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classlbann_1_1selu__dropout_a50ccce3672873a12ae69cc76c91e767a}\label{classlbann_1_1selu__dropout_a50ccce3672873a12ae69cc76c91e767a}} 
\index{lbann\+::selu\+\_\+dropout@{lbann\+::selu\+\_\+dropout}!fp\+\_\+compute@{fp\+\_\+compute}}
\index{fp\+\_\+compute@{fp\+\_\+compute}!lbann\+::selu\+\_\+dropout@{lbann\+::selu\+\_\+dropout}}
\subsubsection{\texorpdfstring{fp\+\_\+compute()}{fp\_compute()}}
{\footnotesize\ttfamily template$<$data\+\_\+layout T\+\_\+layout$>$ \\
void \hyperlink{classlbann_1_1selu__dropout}{lbann\+::selu\+\_\+dropout}$<$ T\+\_\+layout $>$\+::fp\+\_\+compute (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [override]}, {\ttfamily [protected]}, {\ttfamily [virtual]}}

Drop out units in forward propagation. 

Implements \hyperlink{classlbann_1_1Layer_a523319dd1bd87a0612afa1912bb5aad7}{lbann\+::\+Layer}.



Definition at line 102 of file selu\+\_\+dropout.\+hpp.


\begin{DoxyCode}
102                              \{
103     \textcolor{keywordflow}{if} (this->\hyperlink{classlbann_1_1Layer_a3d9315e99574166f2f33e37b572021d2}{m\_model}->\hyperlink{classlbann_1_1model_addb40597cf29aa6d31b6a7d09ef48608}{get\_execution\_mode}() != 
      \hyperlink{base_8hpp_a2781a159088df64ed7d47cc91c4dc0a8ac185ddac8b5a8f5aa23c5b80bc12d214}{execution\_mode::training} ||
104         \hyperlink{classlbann_1_1selu__dropout_a00bd2a07703e2e918af8ae68b58ff11b}{m\_keep\_prob} < 0.0f) \{
105       \textcolor{comment}{// Do nothing if dropout is disabled}
106       El::Copy(\hyperlink{classlbann_1_1Layer_a45853df73a2e72bfaa774665a0f37ed7}{get\_prev\_activations}(), \hyperlink{classlbann_1_1Layer_a1134b1a4385af199d7272c5aa827fa99}{get\_activations}());
107     \} \textcolor{keywordflow}{else} \{
108 
109       \hyperlink{base_8hpp_a9a697a504ae84010e7439ffec862b470}{AbsDistMat} *input\_acts = &\hyperlink{classlbann_1_1Layer_a45853df73a2e72bfaa774665a0f37ed7}{get\_prev\_activations}();
110       \textcolor{keyword}{const} El::Int height = input\_acts->Height();
111       \textcolor{keyword}{const} El::Int width = input\_acts->Width();
112       \textcolor{keyword}{const} El::Int local\_height = input\_acts->LocalHeight();
113       \textcolor{keyword}{const} El::Int local\_width = input\_acts->LocalWidth();
114 
115       \hyperlink{base_8hpp_a68f11fdc31b62516cb310831bbe54d73}{Mat}& local\_input\_acts = input\_acts->Matrix();
116       \hyperlink{base_8hpp_a68f11fdc31b62516cb310831bbe54d73}{Mat}& local\_output\_acts = \hyperlink{classlbann_1_1Layer_a4248f27acebf72b7b7b3ee39c8bcb62a}{get\_local\_activations}();
117       \hyperlink{base_8hpp_a68f11fdc31b62516cb310831bbe54d73}{Mat}& local\_mask = \hyperlink{classlbann_1_1selu__dropout_a31aaadbc51d78673a84390b48d4e5950}{m\_mask}->Matrix();
118 
119       \textcolor{comment}{// Construct and apply mask and the affine transform.}
120       \textcolor{comment}{// TODO: Optimize.}
121       El::Bernoulli(*\hyperlink{classlbann_1_1selu__dropout_a31aaadbc51d78673a84390b48d4e5950}{m\_mask}, height, width, \hyperlink{classlbann_1_1selu__dropout_a00bd2a07703e2e918af8ae68b58ff11b}{m\_keep\_prob});
122       \textcolor{keywordflow}{for} (El::Int col = 0; col < local\_width; ++col) \{
123         \textcolor{keywordflow}{for} (El::Int row = 0; row < local\_height; ++row) \{
124           local\_output\_acts(row, col) = \hyperlink{classlbann_1_1selu__dropout_a52bd21583da68ba4e8a374fab259a3ef}{m\_a} *
125             (local\_input\_acts(row, col)*local\_mask(row, col) +
126              \hyperlink{classlbann_1_1selu__dropout_a8db065b13d8737e1bd4cf154ab3fe666}{m\_alpha\_prime}*(1 - local\_mask(row, col))) + \hyperlink{classlbann_1_1selu__dropout_a456fa501b7df6b52701c1aa3639ebc42}{m\_b};
127         \}
128       \}
129 
130     \}
131   \}
\end{DoxyCode}
Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classlbann_1_1selu__dropout_a50ccce3672873a12ae69cc76c91e767a_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classlbann_1_1selu__dropout_ae33633add903276c87f725facf0dcd0c}\label{classlbann_1_1selu__dropout_ae33633add903276c87f725facf0dcd0c}} 
\index{lbann\+::selu\+\_\+dropout@{lbann\+::selu\+\_\+dropout}!get\+\_\+data\+\_\+layout@{get\+\_\+data\+\_\+layout}}
\index{get\+\_\+data\+\_\+layout@{get\+\_\+data\+\_\+layout}!lbann\+::selu\+\_\+dropout@{lbann\+::selu\+\_\+dropout}}
\subsubsection{\texorpdfstring{get\+\_\+data\+\_\+layout()}{get\_data\_layout()}}
{\footnotesize\ttfamily template$<$data\+\_\+layout T\+\_\+layout$>$ \\
\hyperlink{base_8hpp_a786677cbfb3f5677b4d84f3056eb08db}{data\+\_\+layout} \hyperlink{classlbann_1_1selu__dropout}{lbann\+::selu\+\_\+dropout}$<$ T\+\_\+layout $>$\+::get\+\_\+data\+\_\+layout (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [override]}, {\ttfamily [virtual]}}

Get data layout of the data tensors. We assume that the data layouts of the previous activations, activations, previous error signals, and error signals are the same. Each concrete layer that is templated on its data layout should override this function to return its template parameter. 

Implements \hyperlink{classlbann_1_1Layer_a5dfb66e81fc085997402a5e2241316bd}{lbann\+::\+Layer}.



Definition at line 92 of file selu\+\_\+dropout.\+hpp.


\begin{DoxyCode}
92 \{ \textcolor{keywordflow}{return} T\_layout; \}
\end{DoxyCode}
\mbox{\Hypertarget{classlbann_1_1selu__dropout_a983e7bf62f995a1fe24363f7b1ff0182}\label{classlbann_1_1selu__dropout_a983e7bf62f995a1fe24363f7b1ff0182}} 
\index{lbann\+::selu\+\_\+dropout@{lbann\+::selu\+\_\+dropout}!get\+\_\+type@{get\+\_\+type}}
\index{get\+\_\+type@{get\+\_\+type}!lbann\+::selu\+\_\+dropout@{lbann\+::selu\+\_\+dropout}}
\subsubsection{\texorpdfstring{get\+\_\+type()}{get\_type()}}
{\footnotesize\ttfamily template$<$data\+\_\+layout T\+\_\+layout$>$ \\
std\+::string \hyperlink{classlbann_1_1selu__dropout}{lbann\+::selu\+\_\+dropout}$<$ T\+\_\+layout $>$\+::get\+\_\+type (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [override]}, {\ttfamily [virtual]}}

Get the layer type\textquotesingle{}s name. A layer type name should be brief, human-\/readable description of the layer\textquotesingle{}s mathematical operation. 

Implements \hyperlink{classlbann_1_1Layer_a0fa0ea9160b490c151c0a17fde4f7239}{lbann\+::\+Layer}.



Definition at line 90 of file selu\+\_\+dropout.\+hpp.


\begin{DoxyCode}
90 \{ \textcolor{keywordflow}{return} \textcolor{stringliteral}{"selu dropout"}; \}
\end{DoxyCode}
\mbox{\Hypertarget{classlbann_1_1selu__dropout_aa4563c71596c91bb568a6808d38e8758}\label{classlbann_1_1selu__dropout_aa4563c71596c91bb568a6808d38e8758}} 
\index{lbann\+::selu\+\_\+dropout@{lbann\+::selu\+\_\+dropout}!operator=@{operator=}}
\index{operator=@{operator=}!lbann\+::selu\+\_\+dropout@{lbann\+::selu\+\_\+dropout}}
\subsubsection{\texorpdfstring{operator=()}{operator=()}}
{\footnotesize\ttfamily template$<$data\+\_\+layout T\+\_\+layout$>$ \\
\hyperlink{classlbann_1_1selu__dropout}{selu\+\_\+dropout}\& \hyperlink{classlbann_1_1selu__dropout}{lbann\+::selu\+\_\+dropout}$<$ T\+\_\+layout $>$\+::operator= (\begin{DoxyParamCaption}\item[{const \hyperlink{classlbann_1_1selu__dropout}{selu\+\_\+dropout}$<$ T\+\_\+layout $>$ \&}]{other }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Definition at line 72 of file selu\+\_\+dropout.\+hpp.


\begin{DoxyCode}
72                                                      \{
73     \hyperlink{classlbann_1_1Layer_a00d8acde68fda2f38c4a39ef8c89234a}{regularizer\_layer::operator=}(other);
74     \hyperlink{classlbann_1_1selu__dropout_a8db065b13d8737e1bd4cf154ab3fe666}{m\_alpha\_prime} = other.m\_alpha\_prime;
75     \hyperlink{classlbann_1_1selu__dropout_a52bd21583da68ba4e8a374fab259a3ef}{m\_a} = other.m\_a;
76     \hyperlink{classlbann_1_1selu__dropout_a456fa501b7df6b52701c1aa3639ebc42}{m\_b} = other.m\_b;
77     \hyperlink{classlbann_1_1selu__dropout_a00bd2a07703e2e918af8ae68b58ff11b}{m\_keep\_prob} = other.m\_keep\_prob;
78     \textcolor{keywordflow}{if} (\hyperlink{classlbann_1_1selu__dropout_a31aaadbc51d78673a84390b48d4e5950}{m\_mask} != \textcolor{keyword}{nullptr}) \{ \textcolor{keyword}{delete} \hyperlink{classlbann_1_1selu__dropout_a31aaadbc51d78673a84390b48d4e5950}{m\_mask}; \}
79     \hyperlink{classlbann_1_1selu__dropout_a31aaadbc51d78673a84390b48d4e5950}{m\_mask} = other.m\_mask;
80     \textcolor{keywordflow}{if} (\hyperlink{classlbann_1_1selu__dropout_a31aaadbc51d78673a84390b48d4e5950}{m\_mask} != \textcolor{keyword}{nullptr}) \{ \hyperlink{classlbann_1_1selu__dropout_a31aaadbc51d78673a84390b48d4e5950}{m\_mask} = \hyperlink{classlbann_1_1selu__dropout_a31aaadbc51d78673a84390b48d4e5950}{m\_mask}->Copy(); \}
81     \textcolor{keywordflow}{return} *\textcolor{keyword}{this};
82   \}
\end{DoxyCode}
Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classlbann_1_1selu__dropout_aa4563c71596c91bb568a6808d38e8758_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classlbann_1_1selu__dropout_a8b6469a14cf093d48e42384aa4ee404a}\label{classlbann_1_1selu__dropout_a8b6469a14cf093d48e42384aa4ee404a}} 
\index{lbann\+::selu\+\_\+dropout@{lbann\+::selu\+\_\+dropout}!setup\+\_\+matrices@{setup\+\_\+matrices}}
\index{setup\+\_\+matrices@{setup\+\_\+matrices}!lbann\+::selu\+\_\+dropout@{lbann\+::selu\+\_\+dropout}}
\subsubsection{\texorpdfstring{setup\+\_\+matrices()}{setup\_matrices()}}
{\footnotesize\ttfamily template$<$data\+\_\+layout T\+\_\+layout$>$ \\
void \hyperlink{classlbann_1_1selu__dropout}{lbann\+::selu\+\_\+dropout}$<$ T\+\_\+layout $>$\+::setup\+\_\+matrices (\begin{DoxyParamCaption}\item[{const \hyperlink{base_8hpp_a9951bb1719d534e0401b1f06cad19eab}{El\+::\+Grid} \&}]{grid }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [override]}, {\ttfamily [virtual]}}

Instantiate distributed matrices. If the layer has already been setup, this function should destroy all matrices and reinstantiate them. However, it is not guaranteed that derived classes will obey this behavior. 

Reimplemented from \hyperlink{classlbann_1_1Layer_a57bbe21131dc00ab5cf9ea5e3656808e}{lbann\+::\+Layer}.



Definition at line 94 of file selu\+\_\+dropout.\+hpp.


\begin{DoxyCode}
94                                                    \{
95     \hyperlink{classlbann_1_1Layer_a57bbe21131dc00ab5cf9ea5e3656808e}{regularizer\_layer::setup\_matrices}(grid);
96     \textcolor{keywordflow}{if} (\hyperlink{classlbann_1_1selu__dropout_a31aaadbc51d78673a84390b48d4e5950}{m\_mask} != \textcolor{keyword}{nullptr}) \{ \textcolor{keyword}{delete} \hyperlink{classlbann_1_1selu__dropout_a31aaadbc51d78673a84390b48d4e5950}{m\_mask}; \}
97     \hyperlink{classlbann_1_1selu__dropout_a31aaadbc51d78673a84390b48d4e5950}{m\_mask} = \hyperlink{classlbann_1_1Layer_a1134b1a4385af199d7272c5aa827fa99}{get\_activations}().Copy();    
98   \}
\end{DoxyCode}
Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classlbann_1_1selu__dropout_a8b6469a14cf093d48e42384aa4ee404a_cgraph}
\end{center}
\end{figure}


\subsection{Member Data Documentation}
\mbox{\Hypertarget{classlbann_1_1selu__dropout_a52bd21583da68ba4e8a374fab259a3ef}\label{classlbann_1_1selu__dropout_a52bd21583da68ba4e8a374fab259a3ef}} 
\index{lbann\+::selu\+\_\+dropout@{lbann\+::selu\+\_\+dropout}!m\+\_\+a@{m\+\_\+a}}
\index{m\+\_\+a@{m\+\_\+a}!lbann\+::selu\+\_\+dropout@{lbann\+::selu\+\_\+dropout}}
\subsubsection{\texorpdfstring{m\+\_\+a}{m\_a}}
{\footnotesize\ttfamily template$<$data\+\_\+layout T\+\_\+layout$>$ \\
Data\+Type \hyperlink{classlbann_1_1selu__dropout}{lbann\+::selu\+\_\+dropout}$<$ T\+\_\+layout $>$\+::m\+\_\+a\hspace{0.3cm}{\ttfamily [private]}}

Affine scaling parameter to keep mean/variance at desired value. 

Definition at line 160 of file selu\+\_\+dropout.\+hpp.

\mbox{\Hypertarget{classlbann_1_1selu__dropout_a8db065b13d8737e1bd4cf154ab3fe666}\label{classlbann_1_1selu__dropout_a8db065b13d8737e1bd4cf154ab3fe666}} 
\index{lbann\+::selu\+\_\+dropout@{lbann\+::selu\+\_\+dropout}!m\+\_\+alpha\+\_\+prime@{m\+\_\+alpha\+\_\+prime}}
\index{m\+\_\+alpha\+\_\+prime@{m\+\_\+alpha\+\_\+prime}!lbann\+::selu\+\_\+dropout@{lbann\+::selu\+\_\+dropout}}
\subsubsection{\texorpdfstring{m\+\_\+alpha\+\_\+prime}{m\_alpha\_prime}}
{\footnotesize\ttfamily template$<$data\+\_\+layout T\+\_\+layout$>$ \\
Data\+Type \hyperlink{classlbann_1_1selu__dropout}{lbann\+::selu\+\_\+dropout}$<$ T\+\_\+layout $>$\+::m\+\_\+alpha\+\_\+prime\hspace{0.3cm}{\ttfamily [private]}}

Alpha prime, the low-\/variance saturation point. 

Definition at line 158 of file selu\+\_\+dropout.\+hpp.

\mbox{\Hypertarget{classlbann_1_1selu__dropout_a456fa501b7df6b52701c1aa3639ebc42}\label{classlbann_1_1selu__dropout_a456fa501b7df6b52701c1aa3639ebc42}} 
\index{lbann\+::selu\+\_\+dropout@{lbann\+::selu\+\_\+dropout}!m\+\_\+b@{m\+\_\+b}}
\index{m\+\_\+b@{m\+\_\+b}!lbann\+::selu\+\_\+dropout@{lbann\+::selu\+\_\+dropout}}
\subsubsection{\texorpdfstring{m\+\_\+b}{m\_b}}
{\footnotesize\ttfamily template$<$data\+\_\+layout T\+\_\+layout$>$ \\
Data\+Type \hyperlink{classlbann_1_1selu__dropout}{lbann\+::selu\+\_\+dropout}$<$ T\+\_\+layout $>$\+::m\+\_\+b\hspace{0.3cm}{\ttfamily [private]}}

Affine additive parameter to keep mean/variance at desired value. 

Definition at line 162 of file selu\+\_\+dropout.\+hpp.

\mbox{\Hypertarget{classlbann_1_1selu__dropout_a00bd2a07703e2e918af8ae68b58ff11b}\label{classlbann_1_1selu__dropout_a00bd2a07703e2e918af8ae68b58ff11b}} 
\index{lbann\+::selu\+\_\+dropout@{lbann\+::selu\+\_\+dropout}!m\+\_\+keep\+\_\+prob@{m\+\_\+keep\+\_\+prob}}
\index{m\+\_\+keep\+\_\+prob@{m\+\_\+keep\+\_\+prob}!lbann\+::selu\+\_\+dropout@{lbann\+::selu\+\_\+dropout}}
\subsubsection{\texorpdfstring{m\+\_\+keep\+\_\+prob}{m\_keep\_prob}}
{\footnotesize\ttfamily template$<$data\+\_\+layout T\+\_\+layout$>$ \\
float \hyperlink{classlbann_1_1selu__dropout}{lbann\+::selu\+\_\+dropout}$<$ T\+\_\+layout $>$\+::m\+\_\+keep\+\_\+prob\hspace{0.3cm}{\ttfamily [private]}}

Probability of keeping each unit. 

Definition at line 164 of file selu\+\_\+dropout.\+hpp.

\mbox{\Hypertarget{classlbann_1_1selu__dropout_a31aaadbc51d78673a84390b48d4e5950}\label{classlbann_1_1selu__dropout_a31aaadbc51d78673a84390b48d4e5950}} 
\index{lbann\+::selu\+\_\+dropout@{lbann\+::selu\+\_\+dropout}!m\+\_\+mask@{m\+\_\+mask}}
\index{m\+\_\+mask@{m\+\_\+mask}!lbann\+::selu\+\_\+dropout@{lbann\+::selu\+\_\+dropout}}
\subsubsection{\texorpdfstring{m\+\_\+mask}{m\_mask}}
{\footnotesize\ttfamily template$<$data\+\_\+layout T\+\_\+layout$>$ \\
\hyperlink{base_8hpp_a9a697a504ae84010e7439ffec862b470}{Abs\+Dist\+Mat}$\ast$ \hyperlink{classlbann_1_1selu__dropout}{lbann\+::selu\+\_\+dropout}$<$ T\+\_\+layout $>$\+::m\+\_\+mask\hspace{0.3cm}{\ttfamily [private]}}

Current dropout mask (a scaled Bernoulli random matrix). 

Definition at line 166 of file selu\+\_\+dropout.\+hpp.



The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
/\+Users/mckinney27/doxy-\/testbed/lbann/include/lbann/layers/regularizers/\hyperlink{selu__dropout_8hpp}{selu\+\_\+dropout.\+hpp}\end{DoxyCompactItemize}
