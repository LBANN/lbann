\hypertarget{classlbann_1_1model}{}\section{lbann\+:\+:model Class Reference}
\label{classlbann_1_1model}\index{lbann\+::model@{lbann\+::model}}


{\ttfamily \#include $<$model.\+hpp$>$}



Inheritance diagram for lbann\+:\+:model\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classlbann_1_1model__inherit__graph}
\end{center}
\end{figure}


Collaboration diagram for lbann\+:\+:model\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classlbann_1_1model__coll__graph}
\end{center}
\end{figure}
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classlbann_1_1model_a6feaee921c434bbfc32451ed874cc051}{model} (\hyperlink{classlbann_1_1lbann__comm}{lbann\+\_\+comm} $\ast$\hyperlink{file__io_8cpp_ab048c6f9fcbcfaa57ce68b00263dbebe}{comm}, int mini\+\_\+batch\+\_\+size, \hyperlink{classlbann_1_1objective__function}{objective\+\_\+function} $\ast$obj\+\_\+fn, \hyperlink{classlbann_1_1optimizer}{optimizer} $\ast$default\+\_\+optimizer=nullptr)
\item 
\hyperlink{classlbann_1_1model_a03fd1dc3edddb414b040bc009cf73371}{model} (const \hyperlink{classlbann_1_1model}{model} \&other)
\item 
\hyperlink{classlbann_1_1model}{model} \& \hyperlink{classlbann_1_1model_a05e8bd6c745ce4414be98462147ec52e}{operator=} (const \hyperlink{classlbann_1_1model}{model} \&other)
\item 
virtual \hyperlink{classlbann_1_1model_ae97a8048de182af3ed8a6fbd92212958}{$\sim$model} ()
\item 
virtual \hyperlink{classlbann_1_1model}{model} $\ast$ \hyperlink{classlbann_1_1model_aacd024c11f0897b33a7e7838b9433ba2}{copy} () const =0
\item 
virtual std\+::string \hyperlink{classlbann_1_1model_a7e471599eded909c4ce7178689dd13b6}{name} () const =0
\item 
virtual void \hyperlink{classlbann_1_1model_afd9dbca79503a40b7aa5c78da4d6f391}{setup} ()
\item 
virtual void \hyperlink{classlbann_1_1model_a5dfa9895024f07d273062b67d7a0dc01}{add\+\_\+layer} (\hyperlink{classlbann_1_1Layer}{Layer} $\ast$layer)
\item 
void \hyperlink{classlbann_1_1model_af35fca77e75eb6dd570e4727aa3d5b6b}{add\+\_\+weights} (\hyperlink{classlbann_1_1weights}{weights} $\ast$w)
\item 
void \hyperlink{classlbann_1_1model_a8f45cdca82dbc0cc1f519898474cc6ec}{add\+\_\+callback} (\hyperlink{classlbann_1_1lbann__callback}{lbann\+\_\+callback} $\ast$cb)
\item 
virtual std\+::vector$<$ \hyperlink{classlbann_1_1lbann__callback}{lbann\+\_\+callback} $\ast$ $>$ \& \hyperlink{classlbann_1_1model_a38c71a455870e087c4c07acb78e4477c}{get\+\_\+callbacks} ()
\item 
void \hyperlink{classlbann_1_1model_a2ad536c9aeb5a1dfaa5a96107d62c4a4}{add\+\_\+metric} (\hyperlink{classlbann_1_1metric}{metric} $\ast$m)
\item 
\hyperlink{classlbann_1_1optimizer}{optimizer} $\ast$ \hyperlink{classlbann_1_1model_a0d2d5a1eac592e5721a81a9b9ea4b7f2}{create\+\_\+optimizer} () const
\item 
\hyperlink{classlbann_1_1objective__function}{objective\+\_\+function} $\ast$ \hyperlink{classlbann_1_1model_aee5530467523924a662dec891b9a7993}{get\+\_\+objective\+\_\+function} () const
\item 
virtual const std\+::vector$<$ \hyperlink{classlbann_1_1metric}{metric} $\ast$ $>$ \& \hyperlink{classlbann_1_1model_a84c738fd219b8c2936e76a9360f68936}{get\+\_\+metrics} () const
\item 
void \hyperlink{classlbann_1_1model_a95fb74f678f69b763d51b2ce987c8fde}{set\+\_\+layers} (std\+::vector$<$ \hyperlink{classlbann_1_1Layer}{Layer} $\ast$$>$ \&layers)
\item 
virtual const std\+::vector$<$ \hyperlink{classlbann_1_1Layer}{Layer} $\ast$ $>$ \& \hyperlink{classlbann_1_1model_ae14f4b2cc8882b3739d4aeb25d9e73c9}{get\+\_\+layers} () const
\item 
void \hyperlink{classlbann_1_1model_aaed20219476dc1458bbd058be36de1ec}{replace\+\_\+weights} (std\+::vector$<$ \hyperlink{classlbann_1_1weights}{weights} $\ast$$>$ \&w)
\item 
const std\+::vector$<$ \hyperlink{classlbann_1_1weights}{weights} $\ast$ $>$ \& \hyperlink{classlbann_1_1model_ac0a89794f1f51e7c502fff2745c973e6}{get\+\_\+weights} () const
\item 
\hyperlink{classlbann_1_1lbann__comm}{lbann\+\_\+comm} $\ast$ \hyperlink{classlbann_1_1model_a9e1cfe449d2f4858a32994f6be0042fb}{get\+\_\+comm} () const
\item 
int \hyperlink{classlbann_1_1model_a1cf70e098524cc5013bce56edd96dfe7}{get\+\_\+cur\+\_\+epoch} () const
\item 
int \hyperlink{classlbann_1_1model_ad0cdcba177434b52dc9c4a97be183a92}{get\+\_\+cur\+\_\+step} () const
\item 
int \hyperlink{classlbann_1_1model_a680ef8ecf644dbc821b5e7488d3bd2c4}{get\+\_\+cur\+\_\+validation\+\_\+step} () const
\item 
int \hyperlink{classlbann_1_1model_a4040b1f06a2a5d5187a72c06060124c1}{get\+\_\+cur\+\_\+testing\+\_\+step} () const
\item 
void \hyperlink{classlbann_1_1model_a375372b5b864ffbc4eaa0963f6939f65}{set\+\_\+execution\+\_\+mode} (\hyperlink{base_8hpp_a2781a159088df64ed7d47cc91c4dc0a8}{execution\+\_\+mode} mode)
\item 
\hyperlink{base_8hpp_a2781a159088df64ed7d47cc91c4dc0a8}{execution\+\_\+mode} \hyperlink{classlbann_1_1model_addb40597cf29aa6d31b6a7d09ef48608}{get\+\_\+execution\+\_\+mode} () const
\item 
void \hyperlink{classlbann_1_1model_a4f3cc91f8495870723389be15f77184a}{set\+\_\+current\+\_\+mini\+\_\+batch\+\_\+size} (int mini\+\_\+batch\+\_\+size)
\item 
int \hyperlink{classlbann_1_1model_a3eaad8fd538b99ecab9afca6dc3327fd}{get\+\_\+current\+\_\+mini\+\_\+batch\+\_\+size} () const
\item 
int \hyperlink{classlbann_1_1model_a8c311798ff4acaeafdfbf85162ba5084}{get\+\_\+max\+\_\+mini\+\_\+batch\+\_\+size} () const
\item 
int \hyperlink{classlbann_1_1model_a2a9b4cfa1c8c91e4131908751f9c4a6a}{get\+\_\+effective\+\_\+mini\+\_\+batch\+\_\+size} () const
\item 
void \hyperlink{classlbann_1_1model_aa64829cba8a84928a396893172a1d116}{set\+\_\+effective\+\_\+mini\+\_\+batch\+\_\+size} (int mini\+\_\+batch\+\_\+size)
\item 
int \hyperlink{classlbann_1_1model_a32a189033b8ff92d233781b1039c70f1}{get\+\_\+num\+\_\+iterations\+\_\+per\+\_\+epoch} (\hyperlink{base_8hpp_a2781a159088df64ed7d47cc91c4dc0a8}{execution\+\_\+mode} mode) const
\item 
int \hyperlink{classlbann_1_1model_afd569027be9b7a6adb08f486331384ac}{get\+\_\+current\+\_\+phase} () const
\item 
virtual void \hyperlink{classlbann_1_1model_a1eb5efcc8f73ba9478b2ce1efb9f2d8c}{summarize\+\_\+stats} (\hyperlink{classlbann_1_1lbann__summary}{lbann\+\_\+summary} \&summarizer)
\item 
virtual void \hyperlink{classlbann_1_1model_a0824e757e4806fad77630d69926a8911}{summarize\+\_\+matrices} (\hyperlink{classlbann_1_1lbann__summary}{lbann\+\_\+summary} \&summarizer)
\item 
bool \hyperlink{classlbann_1_1model_a90363b6a20269cf7197701e49f1f52a3}{get\+\_\+terminate\+\_\+training} () const
\item 
void \hyperlink{classlbann_1_1model_a5bafc4e84671490c6118959becb22e16}{set\+\_\+terminate\+\_\+training} (bool f)
\item 
virtual void \hyperlink{classlbann_1_1model_a11c79dc3783d11b799bdc40ff9c92ddc}{train} (int num\+\_\+epochs)
\item 
virtual void \hyperlink{classlbann_1_1model_a4191097fdbcd1686525e9cd150f958ef}{evaluate} (\hyperlink{base_8hpp_a2781a159088df64ed7d47cc91c4dc0a8}{execution\+\_\+mode} mode)
\item 
void \hyperlink{classlbann_1_1model_aa819e0d7c8bb178155e40e33037cf054}{collect\+\_\+indices} (\hyperlink{base_8hpp_a2781a159088df64ed7d47cc91c4dc0a8}{execution\+\_\+mode} mode)
\item 
virtual bool \hyperlink{classlbann_1_1model_a3d589d2e46ad35d0a1221e25bef70fa4}{save\+\_\+to\+\_\+checkpoint\+\_\+shared} (\hyperlink{classlbann_1_1persist}{persist} \&p, bool val\+\_\+end)
\item 
virtual bool \hyperlink{classlbann_1_1model_a2e02dda11636e015ea0c892ffa541881}{load\+\_\+from\+\_\+checkpoint\+\_\+shared} (\hyperlink{classlbann_1_1persist}{persist} \&p)
\item 
virtual void \hyperlink{classlbann_1_1model_a488da86420421a4890c8fd7a95849acc}{write\+\_\+proto} (lbann\+\_\+data\+::\+Model $\ast$proto)
\end{DoxyCompactItemize}
\subsection*{Protected Member Functions}
\begin{DoxyCompactItemize}
\item 
virtual bool \hyperlink{classlbann_1_1model_a2c82c9def03b1c60e48f52fca7708833}{is\+\_\+execution\+\_\+mode\+\_\+valid} (\hyperlink{base_8hpp_a2781a159088df64ed7d47cc91c4dc0a8}{execution\+\_\+mode} mode) const
\item 
virtual std\+::string \hyperlink{classlbann_1_1model_ab173fd93a80a2980059ff292c308cbf5}{print\+\_\+layer\+\_\+description} (const \hyperlink{classlbann_1_1Layer}{Layer} $\ast$layer) const
\item 
virtual void \hyperlink{classlbann_1_1model_aef7a4775c70f96610bfc5a4605b946a5}{construct\+\_\+layer\+\_\+graph} (std\+::set$<$ int $>$ \&nodes, std\+::map$<$ int, std\+::set$<$ int $>$$>$ \&edges) const
\item 
virtual void \hyperlink{classlbann_1_1model_a31c281b63593a0ec7110664f7309b01a}{permute\+\_\+layers} (const std\+::vector$<$ int $>$ \&permutation)
\item 
virtual void \hyperlink{classlbann_1_1model_ac6cc0f5d850cfb997bbbc70eefa0d68f}{remap\+\_\+pointers} (const std\+::unordered\+\_\+map$<$ \hyperlink{classlbann_1_1Layer}{Layer} $\ast$, \hyperlink{classlbann_1_1Layer}{Layer} $\ast$$>$ \&layer\+\_\+map, const std\+::unordered\+\_\+map$<$ \hyperlink{classlbann_1_1weights}{weights} $\ast$, \hyperlink{classlbann_1_1weights}{weights} $\ast$$>$ \&weights\+\_\+map)
\item 
virtual void \hyperlink{classlbann_1_1model_ad0131e36e763470a7bbf67e83b42cd14}{freeze\+\_\+layers\+\_\+under\+\_\+frozen\+\_\+surface} ()
\item 
virtual void \hyperlink{classlbann_1_1model_a7b3e2a643c658dcaa7478d2568f29784}{setup\+\_\+layer\+\_\+topology} ()
\item 
virtual void \hyperlink{classlbann_1_1model_ab0e8af146d4121c1b8b04b4a3c2a455c}{setup\+\_\+layer\+\_\+execution\+\_\+order} ()
\item 
virtual void \hyperlink{classlbann_1_1model_a989ab581e359f65c9238d627cce5b589}{setup\+\_\+layers} ()
\item 
virtual void \hyperlink{classlbann_1_1model_a582edc0f930e1594381ecc7922e91b08}{setup\+\_\+weights} ()
\item 
virtual void \hyperlink{classlbann_1_1model_a5d188d75f53e0a4c6161500181b27c03}{reset\+\_\+mode\+\_\+and\+\_\+model} (\hyperlink{base_8hpp_a2781a159088df64ed7d47cc91c4dc0a8}{execution\+\_\+mode} mode)
\item 
virtual void \hyperlink{classlbann_1_1model_a9c6e9c199ca0ae06b8cf7266971ab9c3}{reset\+\_\+epoch\+\_\+statistics} (\hyperlink{base_8hpp_a2781a159088df64ed7d47cc91c4dc0a8}{execution\+\_\+mode} mode)
\item 
virtual bool \hyperlink{classlbann_1_1model_a9716a956bdc7d20dbc8ce8bf08bbcea7}{evaluate\+\_\+mini\+\_\+batch} (\hyperlink{base_8hpp_a2781a159088df64ed7d47cc91c4dc0a8}{execution\+\_\+mode} mode)
\item 
virtual bool \hyperlink{classlbann_1_1model_a462105993a63277a1ead39c30ebae1bb}{train\+\_\+mini\+\_\+batch} ()
\item 
virtual void \hyperlink{classlbann_1_1model_adc4f845c8e292afe2d8686f459729484}{forward\+\_\+prop} (\hyperlink{base_8hpp_a2781a159088df64ed7d47cc91c4dc0a8}{execution\+\_\+mode} mode)
\item 
virtual void \hyperlink{classlbann_1_1model_a2ce4444efaab4dd1236c837d6847e438}{backward\+\_\+prop} ()
\item 
virtual void \hyperlink{classlbann_1_1model_ae4ca41f514498a37503ecc6ba1600bab}{clear\+\_\+gradients} ()
\item 
virtual void \hyperlink{classlbann_1_1model_a43b3ed176749e0aab6065f274ec2a717}{clear\+\_\+error\+\_\+signals} ()
\item 
virtual void \hyperlink{classlbann_1_1model_a38d8924938fa69857d3f9ed83ac98ee9}{update\+\_\+weights} ()
\item 
virtual bool \hyperlink{classlbann_1_1model_a7518775e0fd29ed682319193e2d264cc}{update\+\_\+layers} ()
\item 
virtual void \hyperlink{classlbann_1_1model_a780395fa740102adda5537aa5d257698}{do\+\_\+train\+\_\+begin\+\_\+cbs} ()
\item 
virtual void \hyperlink{classlbann_1_1model_a13bb6edae42c719b78454a8af9549122}{do\+\_\+train\+\_\+end\+\_\+cbs} ()
\item 
virtual void \hyperlink{classlbann_1_1model_ab14bedea05bd5ef549d95ceb2b57b7a4}{do\+\_\+evaluate\+\_\+begin\+\_\+cbs} (\hyperlink{base_8hpp_a2781a159088df64ed7d47cc91c4dc0a8}{execution\+\_\+mode} mode)
\item 
virtual void \hyperlink{classlbann_1_1model_ab123ed691fb6e9f52d468914a1f4460c}{do\+\_\+evaluate\+\_\+end\+\_\+cbs} (\hyperlink{base_8hpp_a2781a159088df64ed7d47cc91c4dc0a8}{execution\+\_\+mode} mode)
\item 
virtual void \hyperlink{classlbann_1_1model_a6f975af3ff4921d78a9eb1aca12eaf5e}{do\+\_\+epoch\+\_\+begin\+\_\+cbs} ()
\item 
virtual void \hyperlink{classlbann_1_1model_a93e43a6c5aaf8ad890ef50ff97dfa176}{do\+\_\+epoch\+\_\+end\+\_\+cbs} ()
\item 
virtual void \hyperlink{classlbann_1_1model_a156acfa740b92322d44b6c477636eb26}{do\+\_\+batch\+\_\+begin\+\_\+cbs} (\hyperlink{base_8hpp_a2781a159088df64ed7d47cc91c4dc0a8}{execution\+\_\+mode} mode)
\item 
virtual void \hyperlink{classlbann_1_1model_a3dc29e9751a53afda7e171aff335273e}{do\+\_\+batch\+\_\+end\+\_\+cbs} (\hyperlink{base_8hpp_a2781a159088df64ed7d47cc91c4dc0a8}{execution\+\_\+mode} mode)
\item 
virtual void \hyperlink{classlbann_1_1model_af3c45642bbacf1bd07e8504d7e689ec0}{do\+\_\+model\+\_\+forward\+\_\+prop\+\_\+begin\+\_\+cbs} (\hyperlink{base_8hpp_a2781a159088df64ed7d47cc91c4dc0a8}{execution\+\_\+mode} mode)
\item 
virtual void \hyperlink{classlbann_1_1model_a9d67f4f3a027327d2db8767759f9c2bf}{do\+\_\+model\+\_\+forward\+\_\+prop\+\_\+end\+\_\+cbs} (\hyperlink{base_8hpp_a2781a159088df64ed7d47cc91c4dc0a8}{execution\+\_\+mode} mode)
\item 
virtual void \hyperlink{classlbann_1_1model_ac19ce0dd060f9caddd6e14974a6e7713}{do\+\_\+layer\+\_\+forward\+\_\+prop\+\_\+begin\+\_\+cbs} (\hyperlink{base_8hpp_a2781a159088df64ed7d47cc91c4dc0a8}{execution\+\_\+mode} mode, \hyperlink{classlbann_1_1Layer}{Layer} $\ast$l)
\item 
virtual void \hyperlink{classlbann_1_1model_a7d6b891f58a7df9726e4f2c48d1f957a}{do\+\_\+layer\+\_\+forward\+\_\+prop\+\_\+end\+\_\+cbs} (\hyperlink{base_8hpp_a2781a159088df64ed7d47cc91c4dc0a8}{execution\+\_\+mode} mode, \hyperlink{classlbann_1_1Layer}{Layer} $\ast$l)
\item 
virtual void \hyperlink{classlbann_1_1model_a8a60eee343381e657b2c042637e56751}{do\+\_\+model\+\_\+backward\+\_\+prop\+\_\+begin\+\_\+cbs} ()
\item 
virtual void \hyperlink{classlbann_1_1model_a737a0129eadf52be476034888b3eedc2}{do\+\_\+model\+\_\+backward\+\_\+prop\+\_\+end\+\_\+cbs} ()
\item 
virtual void \hyperlink{classlbann_1_1model_a51dc59ea8dd4bc689854732269aaf001}{do\+\_\+layer\+\_\+backward\+\_\+prop\+\_\+begin\+\_\+cbs} (\hyperlink{classlbann_1_1Layer}{Layer} $\ast$l)
\item 
virtual void \hyperlink{classlbann_1_1model_ab0939d2668cca7efc2cc52355d34df3b}{do\+\_\+layer\+\_\+backward\+\_\+prop\+\_\+end\+\_\+cbs} (\hyperlink{classlbann_1_1Layer}{Layer} $\ast$l)
\item 
virtual void \hyperlink{classlbann_1_1model_a19c96544ccf733646f3454be887f3a08}{do\+\_\+model\+\_\+optimize\+\_\+begin\+\_\+cbs} ()
\item 
virtual void \hyperlink{classlbann_1_1model_ac0b37e4f4881e274bd9c4889d4852fe8}{do\+\_\+model\+\_\+optimize\+\_\+end\+\_\+cbs} ()
\item 
virtual void \hyperlink{classlbann_1_1model_a24b668fa62ce0215d3b1773636b7eced}{do\+\_\+weight\+\_\+optimize\+\_\+begin\+\_\+cbs} (\hyperlink{classlbann_1_1weights}{weights} $\ast$w)
\item 
virtual void \hyperlink{classlbann_1_1model_af1e22d2b06d0ca90ae79fd5cf1d82066}{do\+\_\+weight\+\_\+optimize\+\_\+end\+\_\+cbs} (\hyperlink{classlbann_1_1weights}{weights} $\ast$w)
\end{DoxyCompactItemize}
\subsection*{Protected Attributes}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classlbann_1_1objective__function}{objective\+\_\+function} $\ast$ \hyperlink{classlbann_1_1model_a24c50e7108dd7698671aed7df5b22e8b}{m\+\_\+objective\+\_\+function}
\item 
\hyperlink{base_8hpp_a2781a159088df64ed7d47cc91c4dc0a8}{execution\+\_\+mode} \hyperlink{classlbann_1_1model_a2166e2aad256a335ace3bdcae5da2614}{m\+\_\+execution\+\_\+mode}
\item 
bool \hyperlink{classlbann_1_1model_a639f9c3fcb81b905085f8b1932f8920f}{m\+\_\+terminate\+\_\+training}
\item 
int \hyperlink{classlbann_1_1model_a305fac94b9063e59198c7f936923221a}{m\+\_\+current\+\_\+epoch}
\item 
int \hyperlink{classlbann_1_1model_af31a76afc53061747d2170a65e98f692}{m\+\_\+current\+\_\+step}
\item 
int \hyperlink{classlbann_1_1model_af69e5f6bf49a4990fd4c18984705ab87}{m\+\_\+current\+\_\+validation\+\_\+step}
\item 
int \hyperlink{classlbann_1_1model_a2acf043862ba878cb7a91cb0d26c3791}{m\+\_\+current\+\_\+testing\+\_\+step}
\item 
int \hyperlink{classlbann_1_1model_acc496503e7cf8d635e5a31ba09b3c81a}{m\+\_\+max\+\_\+mini\+\_\+batch\+\_\+size}
\item 
int \hyperlink{classlbann_1_1model_a982cea92d230bab5a47df504f02daf98}{m\+\_\+current\+\_\+mini\+\_\+batch\+\_\+size}
\item 
int \hyperlink{classlbann_1_1model_a4887fd2816e7c51b24cb8bf8e4a80a1c}{m\+\_\+effective\+\_\+mini\+\_\+batch\+\_\+size}
\item 
int \hyperlink{classlbann_1_1model_a150ef033f81982936e007b10c421f488}{m\+\_\+current\+\_\+phase}
\item 
\hyperlink{classlbann_1_1lbann__comm}{lbann\+\_\+comm} $\ast$ \hyperlink{classlbann_1_1model_a0eabaf2b2f829fd5db3dfd26df420df0}{m\+\_\+comm}
\item 
std\+::vector$<$ \hyperlink{classlbann_1_1lbann__callback}{lbann\+\_\+callback} $\ast$ $>$ \hyperlink{classlbann_1_1model_a07b511fef30368494c2ad80922ffd0eb}{m\+\_\+callbacks}
\item 
\hyperlink{classlbann_1_1optimizer}{optimizer} $\ast$ \hyperlink{classlbann_1_1model_a68df9efe547f53f7bf2a03ac64527990}{m\+\_\+default\+\_\+optimizer}
\item 
std\+::vector$<$ \hyperlink{classlbann_1_1metric}{metric} $\ast$ $>$ \hyperlink{classlbann_1_1model_ae75c9aafe9e5a93980cc1bbae986bc79}{m\+\_\+metrics}
\item 
std\+::vector$<$ \hyperlink{classlbann_1_1Layer}{Layer} $\ast$ $>$ \hyperlink{classlbann_1_1model_a0229fc226ec163d1411548446104569d}{m\+\_\+layers}
\item 
std\+::vector$<$ \hyperlink{classlbann_1_1weights}{weights} $\ast$ $>$ \hyperlink{classlbann_1_1model_aaf9adefe4497d90bf5bc2567e71bfb00}{m\+\_\+weights}
\end{DoxyCompactItemize}
\subsection*{Private Member Functions}
\begin{DoxyCompactItemize}
\item 
void \hyperlink{classlbann_1_1model_a3fb0304e6426dd28a436f50559ef2bef}{add\+\_\+connected\+\_\+layers} ()
\item 
void \hyperlink{classlbann_1_1model_a6ba9a836e5ba52c999c5234cfa5e62c2}{add\+\_\+dummy\+\_\+layers} ()
\item 
void \hyperlink{classlbann_1_1model_ac56d43e457cd4dfc3b88122bd10d286e}{add\+\_\+split\+\_\+layers} ()
\end{DoxyCompactItemize}


\subsection{Detailed Description}
Base class for L\+B\+A\+NN models. 

Definition at line 54 of file model.\+hpp.



\subsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{classlbann_1_1model_a6feaee921c434bbfc32451ed874cc051}\label{classlbann_1_1model_a6feaee921c434bbfc32451ed874cc051}} 
\index{lbann\+::model@{lbann\+::model}!model@{model}}
\index{model@{model}!lbann\+::model@{lbann\+::model}}
\subsubsection{\texorpdfstring{model()}{model()}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily lbann\+::model\+::model (\begin{DoxyParamCaption}\item[{\hyperlink{classlbann_1_1lbann__comm}{lbann\+\_\+comm} $\ast$}]{comm,  }\item[{int}]{mini\+\_\+batch\+\_\+size,  }\item[{\hyperlink{classlbann_1_1objective__function}{objective\+\_\+function} $\ast$}]{obj\+\_\+fn,  }\item[{\hyperlink{classlbann_1_1optimizer}{optimizer} $\ast$}]{default\+\_\+optimizer = {\ttfamily nullptr} }\end{DoxyParamCaption})}

Constructor. 

Definition at line 51 of file model.\+cpp.


\begin{DoxyCode}
55   : \hyperlink{classlbann_1_1model_a24c50e7108dd7698671aed7df5b22e8b}{m\_objective\_function}(obj\_fn),
56     \hyperlink{classlbann_1_1model_a2166e2aad256a335ace3bdcae5da2614}{m\_execution\_mode}(\hyperlink{base_8hpp_a2781a159088df64ed7d47cc91c4dc0a8ac185ddac8b5a8f5aa23c5b80bc12d214}{execution\_mode::training}),
57     \hyperlink{classlbann_1_1model_a639f9c3fcb81b905085f8b1932f8920f}{m\_terminate\_training}(\textcolor{keyword}{false}),
58     \hyperlink{classlbann_1_1model_a305fac94b9063e59198c7f936923221a}{m\_current\_epoch}(0),
59     \hyperlink{classlbann_1_1model_af31a76afc53061747d2170a65e98f692}{m\_current\_step}(0),
60     \hyperlink{classlbann_1_1model_af69e5f6bf49a4990fd4c18984705ab87}{m\_current\_validation\_step}(0),
61     \hyperlink{classlbann_1_1model_a2acf043862ba878cb7a91cb0d26c3791}{m\_current\_testing\_step}(0),
62     \hyperlink{classlbann_1_1model_acc496503e7cf8d635e5a31ba09b3c81a}{m\_max\_mini\_batch\_size}(mini\_batch\_size),
63     \hyperlink{classlbann_1_1model_a982cea92d230bab5a47df504f02daf98}{m\_current\_mini\_batch\_size}(mini\_batch\_size),
64     \hyperlink{classlbann_1_1model_a4887fd2816e7c51b24cb8bf8e4a80a1c}{m\_effective\_mini\_batch\_size}(mini\_batch\_size),
65     \hyperlink{classlbann_1_1model_a150ef033f81982936e007b10c421f488}{m\_current\_phase}(0),
66     \hyperlink{classlbann_1_1model_a0eabaf2b2f829fd5db3dfd26df420df0}{m\_comm}(\hyperlink{file__io_8cpp_ab048c6f9fcbcfaa57ce68b00263dbebe}{comm}),
67     \hyperlink{classlbann_1_1model_a68df9efe547f53f7bf2a03ac64527990}{m\_default\_optimizer}(default\_optimizer) \{\}
\end{DoxyCode}
\mbox{\Hypertarget{classlbann_1_1model_a03fd1dc3edddb414b040bc009cf73371}\label{classlbann_1_1model_a03fd1dc3edddb414b040bc009cf73371}} 
\index{lbann\+::model@{lbann\+::model}!model@{model}}
\index{model@{model}!lbann\+::model@{lbann\+::model}}
\subsubsection{\texorpdfstring{model()}{model()}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily lbann\+::model\+::model (\begin{DoxyParamCaption}\item[{const \hyperlink{classlbann_1_1model}{model} \&}]{other }\end{DoxyParamCaption})}

Copy constructor. 

Definition at line 69 of file model.\+cpp.


\begin{DoxyCode}
69                                :
70   \hyperlink{classlbann_1_1model_a2166e2aad256a335ace3bdcae5da2614}{m\_execution\_mode}(other.m\_execution\_mode),
71   \hyperlink{classlbann_1_1model_a639f9c3fcb81b905085f8b1932f8920f}{m\_terminate\_training}(other.m\_terminate\_training),
72   \hyperlink{classlbann_1_1model_a305fac94b9063e59198c7f936923221a}{m\_current\_epoch}(other.m\_current\_epoch),
73   \hyperlink{classlbann_1_1model_af31a76afc53061747d2170a65e98f692}{m\_current\_step}(other.m\_current\_step),
74   \hyperlink{classlbann_1_1model_af69e5f6bf49a4990fd4c18984705ab87}{m\_current\_validation\_step}(other.m\_current\_validation\_step),
75   \hyperlink{classlbann_1_1model_a2acf043862ba878cb7a91cb0d26c3791}{m\_current\_testing\_step}(other.m\_current\_testing\_step),
76   \hyperlink{classlbann_1_1model_acc496503e7cf8d635e5a31ba09b3c81a}{m\_max\_mini\_batch\_size}(other.m\_max\_mini\_batch\_size),
77   \hyperlink{classlbann_1_1model_a982cea92d230bab5a47df504f02daf98}{m\_current\_mini\_batch\_size}(other.m\_current\_mini\_batch\_size),
78   \hyperlink{classlbann_1_1model_a4887fd2816e7c51b24cb8bf8e4a80a1c}{m\_effective\_mini\_batch\_size}(other.m\_effective\_mini\_batch\_size),
79   \hyperlink{classlbann_1_1model_a150ef033f81982936e007b10c421f488}{m\_current\_phase}(other.m\_current\_phase),
80   \hyperlink{classlbann_1_1model_a0eabaf2b2f829fd5db3dfd26df420df0}{m\_comm}(other.m\_comm) \{
81 
82   \textcolor{comment}{// Deep copies}
83   \hyperlink{classlbann_1_1model_a24c50e7108dd7698671aed7df5b22e8b}{m\_objective\_function} = other.m\_objective\_function;
84   \hyperlink{classlbann_1_1model_ae75c9aafe9e5a93980cc1bbae986bc79}{m\_metrics}            = other.m\_metrics;
85   \hyperlink{classlbann_1_1model_a07b511fef30368494c2ad80922ffd0eb}{m\_callbacks}          = other.m\_callbacks;
86   \hyperlink{classlbann_1_1model_a0229fc226ec163d1411548446104569d}{m\_layers}             = other.m\_layers;
87   \hyperlink{classlbann_1_1model_aaf9adefe4497d90bf5bc2567e71bfb00}{m\_weights}            = other.m\_weights;
88   \textcolor{keywordflow}{if} (\hyperlink{classlbann_1_1model_a24c50e7108dd7698671aed7df5b22e8b}{m\_objective\_function} != \textcolor{keyword}{nullptr}) \{
89     \hyperlink{classlbann_1_1model_a24c50e7108dd7698671aed7df5b22e8b}{m\_objective\_function} = \hyperlink{classlbann_1_1model_a24c50e7108dd7698671aed7df5b22e8b}{m\_objective\_function}->
      \hyperlink{classlbann_1_1objective__function_a8ab03f0dc1d2c067b895f5859bacd810}{copy}();
90   \}
91   \textcolor{keywordflow}{for} (\textcolor{keyword}{auto}& m : \hyperlink{classlbann_1_1model_ae75c9aafe9e5a93980cc1bbae986bc79}{m\_metrics}) \{
92     m = m->\hyperlink{classlbann_1_1objective__function_a8ab03f0dc1d2c067b895f5859bacd810}{copy}();
93   \}
94   \textcolor{keywordflow}{for} (\textcolor{keyword}{auto}& cb : \hyperlink{classlbann_1_1model_a07b511fef30368494c2ad80922ffd0eb}{m\_callbacks}) \{
95     cb = cb->\hyperlink{classlbann_1_1objective__function_a8ab03f0dc1d2c067b895f5859bacd810}{copy}();
96   \}
97   std::unordered\_map<Layer *,Layer *> layer\_map;
98   \textcolor{keywordflow}{for} (\textcolor{keyword}{auto}& l : \hyperlink{classlbann_1_1model_a0229fc226ec163d1411548446104569d}{m\_layers}) \{
99     \textcolor{keyword}{auto}&& l\_copy = l->\hyperlink{classlbann_1_1objective__function_a8ab03f0dc1d2c067b895f5859bacd810}{copy}();
100     layer\_map[l] = l\_copy;
101     l\_copy->set\_model(\textcolor{keyword}{this});
102     l = l\_copy;
103   \}
104   std::unordered\_map<weights *,weights *> weights\_map;
105   \textcolor{keywordflow}{for} (\textcolor{keyword}{auto}& w : \hyperlink{classlbann_1_1model_aaf9adefe4497d90bf5bc2567e71bfb00}{m\_weights}) \{
106     \textcolor{keyword}{auto}&& w\_copy = w->\hyperlink{classlbann_1_1objective__function_a8ab03f0dc1d2c067b895f5859bacd810}{copy}();
107     weights\_map[w] = w\_copy;
108     w = w\_copy;
109   \}
110   \hyperlink{classlbann_1_1model_ac6cc0f5d850cfb997bbbc70eefa0d68f}{remap\_pointers}(layer\_map, weights\_map);
111 
112 \}
\end{DoxyCode}
Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classlbann_1_1model_a03fd1dc3edddb414b040bc009cf73371_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classlbann_1_1model_ae97a8048de182af3ed8a6fbd92212958}\label{classlbann_1_1model_ae97a8048de182af3ed8a6fbd92212958}} 
\index{lbann\+::model@{lbann\+::model}!````~model@{$\sim$model}}
\index{````~model@{$\sim$model}!lbann\+::model@{lbann\+::model}}
\subsubsection{\texorpdfstring{$\sim$model()}{~model()}}
{\footnotesize\ttfamily lbann\+::model\+::$\sim$model (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [virtual]}}

Destructor. 

Definition at line 165 of file model.\+cpp.


\begin{DoxyCode}
165               \{
166   \textcolor{keywordflow}{if} (\hyperlink{classlbann_1_1model_a24c50e7108dd7698671aed7df5b22e8b}{m\_objective\_function})           \{ \textcolor{keyword}{delete} 
      \hyperlink{classlbann_1_1model_a24c50e7108dd7698671aed7df5b22e8b}{m\_objective\_function}; \}
167   \textcolor{keywordflow}{if} (\hyperlink{classlbann_1_1model_a68df9efe547f53f7bf2a03ac64527990}{m\_default\_optimizer} != \textcolor{keyword}{nullptr}) \{ \textcolor{keyword}{delete} 
      \hyperlink{classlbann_1_1model_a68df9efe547f53f7bf2a03ac64527990}{m\_default\_optimizer}; \}
168   \textcolor{keywordflow}{for} (\textcolor{keyword}{const} \textcolor{keyword}{auto}& l : \hyperlink{classlbann_1_1model_a0229fc226ec163d1411548446104569d}{m\_layers})      \{ \textcolor{keyword}{delete} l; \}
169   \textcolor{keywordflow}{for} (\textcolor{keyword}{const} \textcolor{keyword}{auto}& w : \hyperlink{classlbann_1_1model_aaf9adefe4497d90bf5bc2567e71bfb00}{m\_weights})     \{ \textcolor{keyword}{delete} w; \}
170   \textcolor{keywordflow}{for} (\textcolor{keyword}{const} \textcolor{keyword}{auto}& m : \hyperlink{classlbann_1_1model_ae75c9aafe9e5a93980cc1bbae986bc79}{m\_metrics})     \{ \textcolor{keyword}{delete} m; \}
171   \textcolor{keywordflow}{for} (\textcolor{keyword}{const} \textcolor{keyword}{auto}& cb : \hyperlink{classlbann_1_1model_a07b511fef30368494c2ad80922ffd0eb}{m\_callbacks})  \{ \textcolor{keyword}{delete} cb; \}
172 \}
\end{DoxyCode}


\subsection{Member Function Documentation}
\mbox{\Hypertarget{classlbann_1_1model_a8f45cdca82dbc0cc1f519898474cc6ec}\label{classlbann_1_1model_a8f45cdca82dbc0cc1f519898474cc6ec}} 
\index{lbann\+::model@{lbann\+::model}!add\+\_\+callback@{add\+\_\+callback}}
\index{add\+\_\+callback@{add\+\_\+callback}!lbann\+::model@{lbann\+::model}}
\subsubsection{\texorpdfstring{add\+\_\+callback()}{add\_callback()}}
{\footnotesize\ttfamily void lbann\+::model\+::add\+\_\+callback (\begin{DoxyParamCaption}\item[{\hyperlink{classlbann_1_1lbann__callback}{lbann\+\_\+callback} $\ast$}]{cb }\end{DoxyParamCaption})}

Register a new callback for the model. 

Definition at line 192 of file model.\+cpp.


\begin{DoxyCode}
192                                            \{
193   \textcolor{keywordflow}{if} (cb == \textcolor{keyword}{nullptr}) \{
194     \textcolor{keywordflow}{throw} lbann\_exception(\textcolor{stringliteral}{"model: Attempted to add null pointer as a callback."});
195   \}
196   \hyperlink{classlbann_1_1model_a07b511fef30368494c2ad80922ffd0eb}{m\_callbacks}.push\_back(cb);
197 \}
\end{DoxyCode}
\mbox{\Hypertarget{classlbann_1_1model_a3fb0304e6426dd28a436f50559ef2bef}\label{classlbann_1_1model_a3fb0304e6426dd28a436f50559ef2bef}} 
\index{lbann\+::model@{lbann\+::model}!add\+\_\+connected\+\_\+layers@{add\+\_\+connected\+\_\+layers}}
\index{add\+\_\+connected\+\_\+layers@{add\+\_\+connected\+\_\+layers}!lbann\+::model@{lbann\+::model}}
\subsubsection{\texorpdfstring{add\+\_\+connected\+\_\+layers()}{add\_connected\_layers()}}
{\footnotesize\ttfamily void lbann\+::model\+::add\+\_\+connected\+\_\+layers (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}

Search layer graph and add all connected layers. 

Definition at line 504 of file model.\+cpp.


\begin{DoxyCode}
504                                  \{
505 
506   \textcolor{comment}{// Initialize breadth-first search queue with layer list}
507   std::queue<const Layer *> layer\_queue;
508   std::unordered\_set<const Layer *> layer\_set;
509   \textcolor{keywordflow}{for} (\textcolor{keyword}{const} \textcolor{keyword}{auto}& layer : \hyperlink{classlbann_1_1model_a0229fc226ec163d1411548446104569d}{m\_layers}) \{
510     layer\_queue.push(layer);
511     layer\_set.insert(layer);
512   \}
513 
514   \textcolor{comment}{// Visit nodes in search queue until it is exhausted}
515   \textcolor{keywordflow}{while} (!layer\_queue.empty()) \{
516     \textcolor{keyword}{const} Layer *layer = layer\_queue.front();
517     layer\_queue.pop();
518 
519     \textcolor{comment}{// Find neighbors of current node}
520     std::vector<const Layer *> relatives;
521     \textcolor{keywordflow}{for} (\textcolor{keyword}{const} \textcolor{keyword}{auto}& parent : layer->get\_parent\_layers()) \{
522       relatives.push\_back(parent);
523     \}
524     \textcolor{keywordflow}{for} (\textcolor{keyword}{const} \textcolor{keyword}{auto}& child : layer->get\_child\_layers()) \{
525       relatives.push\_back(child);
526     \}
527 
528     \textcolor{comment}{// Add neighbors to search queue if they aren't in the layer list}
529     \textcolor{keywordflow}{for} (\textcolor{keyword}{const} \textcolor{keyword}{auto}& relative : relatives) \{
530       \textcolor{keywordflow}{if} (layer\_set.count(relative) == 0) \{
531         m\_layers.push\_back(const\_cast<Layer *>(relative));
532         layer\_queue.push(relative);
533         layer\_set.insert(relative);
534       \}
535     \}
536 
537   \}
538   
539 \}
\end{DoxyCode}
Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classlbann_1_1model_a3fb0304e6426dd28a436f50559ef2bef_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classlbann_1_1model_a3fb0304e6426dd28a436f50559ef2bef_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classlbann_1_1model_a6ba9a836e5ba52c999c5234cfa5e62c2}\label{classlbann_1_1model_a6ba9a836e5ba52c999c5234cfa5e62c2}} 
\index{lbann\+::model@{lbann\+::model}!add\+\_\+dummy\+\_\+layers@{add\+\_\+dummy\+\_\+layers}}
\index{add\+\_\+dummy\+\_\+layers@{add\+\_\+dummy\+\_\+layers}!lbann\+::model@{lbann\+::model}}
\subsubsection{\texorpdfstring{add\+\_\+dummy\+\_\+layers()}{add\_dummy\_layers()}}
{\footnotesize\ttfamily void lbann\+::model\+::add\+\_\+dummy\+\_\+layers (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}

Insert dummy layers after layers with too few children. If a layer expects more child layers than it has, add dummy layers until it has enough children. 

Definition at line 541 of file model.\+cpp.


\begin{DoxyCode}
541                              \{
542   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{size\_t} i = 0; i < \hyperlink{classlbann_1_1model_a0229fc226ec163d1411548446104569d}{m\_layers}.size(); ++i) \{
543     \textcolor{keyword}{auto} layer = \hyperlink{classlbann_1_1model_a0229fc226ec163d1411548446104569d}{m\_layers}[i];
544 
545     \textcolor{comment}{// Create dummy layers until current layer has enough children}
546     std::vector<Layer*> dummy\_layers;
547     \textcolor{keywordflow}{while} (layer->get\_num\_children() < layer->get\_expected\_num\_child\_layers()) \{
548       Layer *dummy = \textcolor{keyword}{nullptr};
549       \textcolor{keyword}{auto}&& cudnn = layer->get\_cudnn\_manager();
550       \textcolor{keywordflow}{switch} (layer->get\_data\_layout()) \{
551       \textcolor{keywordflow}{case} \hyperlink{base_8hpp_a786677cbfb3f5677b4d84f3056eb08dba37d2a3465f7cbf4ab60f4e79944d0638}{data\_layout::DATA\_PARALLEL}:
552         dummy = \textcolor{keyword}{new} dummy\_layer<data\_layout::DATA\_PARALLEL>(\hyperlink{classlbann_1_1model_a0eabaf2b2f829fd5db3dfd26df420df0}{m\_comm}, cudnn);
553         \textcolor{keywordflow}{break};
554       \textcolor{keywordflow}{case} \hyperlink{base_8hpp_a786677cbfb3f5677b4d84f3056eb08dbac94d7b0e44ab8bdcdad694a673cdeae0}{data\_layout::MODEL\_PARALLEL}:
555         dummy = \textcolor{keyword}{new} dummy\_layer<data\_layout::MODEL\_PARALLEL>(\hyperlink{classlbann_1_1model_a0eabaf2b2f829fd5db3dfd26df420df0}{m\_comm}, cudnn);
556         \textcolor{keywordflow}{break};
557       \textcolor{keywordflow}{default}:
558         std::stringstream err;
559         err << \_\_FILE\_\_ << \textcolor{stringliteral}{" "} << \_\_LINE\_\_ << \textcolor{stringliteral}{" :: "} << \textcolor{stringliteral}{"invalid data layout"};
560         \textcolor{keywordflow}{throw} lbann\_exception(err.str());
561       \}
562       dummy->set\_name(layer->get\_name()
563                       + \textcolor{stringliteral}{"\_dummy"}
564                       + std::to\_string(dummy\_layers.size()));
565       layer->add\_child\_layer(dummy);
566       dummy->add\_parent\_layer(layer);
567       dummy\_layers.push\_back(dummy);
568     \}
569 
570     \textcolor{comment}{// Add dummy layers to layer list}
571     \hyperlink{classlbann_1_1model_a0229fc226ec163d1411548446104569d}{m\_layers}.insert(\hyperlink{classlbann_1_1model_a0229fc226ec163d1411548446104569d}{m\_layers}.begin() + i + 1,
572                     dummy\_layers.begin(),
573                     dummy\_layers.end());
574 
575   \}
576 \}
\end{DoxyCode}
Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classlbann_1_1model_a6ba9a836e5ba52c999c5234cfa5e62c2_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classlbann_1_1model_a6ba9a836e5ba52c999c5234cfa5e62c2_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classlbann_1_1model_a5dfa9895024f07d273062b67d7a0dc01}\label{classlbann_1_1model_a5dfa9895024f07d273062b67d7a0dc01}} 
\index{lbann\+::model@{lbann\+::model}!add\+\_\+layer@{add\+\_\+layer}}
\index{add\+\_\+layer@{add\+\_\+layer}!lbann\+::model@{lbann\+::model}}
\subsubsection{\texorpdfstring{add\+\_\+layer()}{add\_layer()}}
{\footnotesize\ttfamily void lbann\+::model\+::add\+\_\+layer (\begin{DoxyParamCaption}\item[{\hyperlink{classlbann_1_1Layer}{Layer} $\ast$}]{layer }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [virtual]}}

Add layer to model. 

Definition at line 178 of file model.\+cpp.


\begin{DoxyCode}
178                               \{
179   \textcolor{keywordflow}{if} (l == \textcolor{keyword}{nullptr}) \{
180     \textcolor{keywordflow}{throw} lbann\_exception(\textcolor{stringliteral}{"model: Attempted to add null pointer as a layer."});
181   \}
182   \hyperlink{classlbann_1_1model_a0229fc226ec163d1411548446104569d}{m\_layers}.push\_back(l);
183 \}
\end{DoxyCode}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classlbann_1_1model_a5dfa9895024f07d273062b67d7a0dc01_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classlbann_1_1model_a2ad536c9aeb5a1dfaa5a96107d62c4a4}\label{classlbann_1_1model_a2ad536c9aeb5a1dfaa5a96107d62c4a4}} 
\index{lbann\+::model@{lbann\+::model}!add\+\_\+metric@{add\+\_\+metric}}
\index{add\+\_\+metric@{add\+\_\+metric}!lbann\+::model@{lbann\+::model}}
\subsubsection{\texorpdfstring{add\+\_\+metric()}{add\_metric()}}
{\footnotesize\ttfamily void lbann\+::model\+::add\+\_\+metric (\begin{DoxyParamCaption}\item[{\hyperlink{classlbann_1_1metric}{metric} $\ast$}]{m }\end{DoxyParamCaption})}

Register a new metric for the model. 

Definition at line 199 of file model.\+cpp.


\begin{DoxyCode}
199                                 \{
200   \textcolor{keywordflow}{if} (m == \textcolor{keyword}{nullptr}) \{
201     \textcolor{keywordflow}{throw} lbann\_exception(\textcolor{stringliteral}{"model: Attempted to add null pointer as a metric."});
202   \}
203   \hyperlink{classlbann_1_1model_ae75c9aafe9e5a93980cc1bbae986bc79}{m\_metrics}.push\_back(m);
204 \}
\end{DoxyCode}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classlbann_1_1model_a2ad536c9aeb5a1dfaa5a96107d62c4a4_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classlbann_1_1model_ac56d43e457cd4dfc3b88122bd10d286e}\label{classlbann_1_1model_ac56d43e457cd4dfc3b88122bd10d286e}} 
\index{lbann\+::model@{lbann\+::model}!add\+\_\+split\+\_\+layers@{add\+\_\+split\+\_\+layers}}
\index{add\+\_\+split\+\_\+layers@{add\+\_\+split\+\_\+layers}!lbann\+::model@{lbann\+::model}}
\subsubsection{\texorpdfstring{add\+\_\+split\+\_\+layers()}{add\_split\_layers()}}
{\footnotesize\ttfamily void lbann\+::model\+::add\+\_\+split\+\_\+layers (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}

Insert split layers after layers with too many children. If a layer expects one child layer but has multiple, add a split layer. The split layer will be the original layer\textquotesingle{}s child and the split layer\textquotesingle{}s children will be the original children. 

Definition at line 578 of file model.\+cpp.


\begin{DoxyCode}
578                              \{
579   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{size\_t} i = 0; i < \hyperlink{classlbann_1_1model_a0229fc226ec163d1411548446104569d}{m\_layers}.size(); ++i) \{
580     \textcolor{keyword}{auto} layer = \hyperlink{classlbann_1_1model_a0229fc226ec163d1411548446104569d}{m\_layers}[i];
581 
582     \textcolor{comment}{// Add split layer if layer expects one child but has multiple}
583     \textcolor{keyword}{auto}& children = layer->get\_child\_layers();
584     \textcolor{keywordflow}{if} (layer->get\_expected\_num\_child\_layers() == 1
585         && children.size() != 1) \{
586 
587       \textcolor{comment}{// Create split layer}
588       Layer *split;
589       \textcolor{keyword}{auto}&& cudnn = layer->get\_cudnn\_manager();
590       \textcolor{keywordflow}{switch} (layer->get\_data\_layout()) \{
591       \textcolor{keywordflow}{case} \hyperlink{base_8hpp_a786677cbfb3f5677b4d84f3056eb08dba37d2a3465f7cbf4ab60f4e79944d0638}{data\_layout::DATA\_PARALLEL}:
592         split = \textcolor{keyword}{new} split\_layer<data\_layout::DATA\_PARALLEL>(\hyperlink{classlbann_1_1model_a0eabaf2b2f829fd5db3dfd26df420df0}{m\_comm}, cudnn);
593         \textcolor{keywordflow}{break};
594       \textcolor{keywordflow}{case} \hyperlink{base_8hpp_a786677cbfb3f5677b4d84f3056eb08dbac94d7b0e44ab8bdcdad694a673cdeae0}{data\_layout::MODEL\_PARALLEL}:
595         split = \textcolor{keyword}{new} split\_layer<data\_layout::MODEL\_PARALLEL>(\hyperlink{classlbann_1_1model_a0eabaf2b2f829fd5db3dfd26df420df0}{m\_comm}, cudnn);
596         \textcolor{keywordflow}{break};
597       \textcolor{keywordflow}{default}:
598         std::stringstream err;
599         err << \_\_FILE\_\_ << \textcolor{stringliteral}{" "} << \_\_LINE\_\_ << \textcolor{stringliteral}{" :: "} << \textcolor{stringliteral}{"invalid data layout"};
600         \textcolor{keywordflow}{throw} lbann\_exception(err.str());
601       \}
602       split->set\_name(layer->get\_name() + \textcolor{stringliteral}{"\_split"});
603 
604       \textcolor{comment}{// Setup relationships between split layer and child layers}
605       \textcolor{keywordflow}{for} (\textcolor{keyword}{auto}&& const\_child : children) \{
606         Layer *child = \textcolor{keyword}{const\_cast<}Layer*\textcolor{keyword}{>}(const\_child);
607         split->add\_child\_layer(child);
608         \textcolor{keyword}{auto}& child\_parents = child->get\_parent\_layers();
609         std::replace(child\_parents.begin(), child\_parents.end(),
610                      layer, split);
611       \}
612 
613       \textcolor{comment}{// Setup relationship between current layer and split layer}
614       children.clear();
615       layer->add\_child\_layer(split);
616       split->add\_parent\_layer(layer);
617 
618       \textcolor{comment}{// Add split layer to layer list}
619       \hyperlink{classlbann_1_1model_a0229fc226ec163d1411548446104569d}{m\_layers}.insert(\hyperlink{classlbann_1_1model_a0229fc226ec163d1411548446104569d}{m\_layers}.begin() + i + 1, split);
620 
621     \}
622 
623   \}
624 \}
\end{DoxyCode}
Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classlbann_1_1model_ac56d43e457cd4dfc3b88122bd10d286e_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classlbann_1_1model_ac56d43e457cd4dfc3b88122bd10d286e_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classlbann_1_1model_af35fca77e75eb6dd570e4727aa3d5b6b}\label{classlbann_1_1model_af35fca77e75eb6dd570e4727aa3d5b6b}} 
\index{lbann\+::model@{lbann\+::model}!add\+\_\+weights@{add\+\_\+weights}}
\index{add\+\_\+weights@{add\+\_\+weights}!lbann\+::model@{lbann\+::model}}
\subsubsection{\texorpdfstring{add\+\_\+weights()}{add\_weights()}}
{\footnotesize\ttfamily void lbann\+::model\+::add\+\_\+weights (\begin{DoxyParamCaption}\item[{\hyperlink{classlbann_1_1weights}{weights} $\ast$}]{w }\end{DoxyParamCaption})}

Add weights to model. 

Definition at line 185 of file model.\+cpp.


\begin{DoxyCode}
185                                   \{
186   \textcolor{keywordflow}{if} (w == \textcolor{keyword}{nullptr}) \{
187     \textcolor{keywordflow}{throw} lbann\_exception(\textcolor{stringliteral}{"model: Attempted to add null pointer as weights."});
188   \}
189   \hyperlink{classlbann_1_1model_aaf9adefe4497d90bf5bc2567e71bfb00}{m\_weights}.push\_back(w);
190 \}
\end{DoxyCode}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classlbann_1_1model_af35fca77e75eb6dd570e4727aa3d5b6b_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classlbann_1_1model_a2ce4444efaab4dd1236c837d6847e438}\label{classlbann_1_1model_a2ce4444efaab4dd1236c837d6847e438}} 
\index{lbann\+::model@{lbann\+::model}!backward\+\_\+prop@{backward\+\_\+prop}}
\index{backward\+\_\+prop@{backward\+\_\+prop}!lbann\+::model@{lbann\+::model}}
\subsubsection{\texorpdfstring{backward\+\_\+prop()}{backward\_prop()}}
{\footnotesize\ttfamily void lbann\+::model\+::backward\+\_\+prop (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}, {\ttfamily [virtual]}}

Backward propagation step. 

Reimplemented in \hyperlink{classlbann_1_1greedy__layerwise__autoencoder_a6d39fda041fe570a668cb72594508062}{lbann\+::greedy\+\_\+layerwise\+\_\+autoencoder}.



Definition at line 801 of file model.\+cpp.


\begin{DoxyCode}
801                           \{
802   \hyperlink{classlbann_1_1model_a8a60eee343381e657b2c042637e56751}{do\_model\_backward\_prop\_begin\_cbs}();
803   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} l = \hyperlink{classlbann_1_1model_a0229fc226ec163d1411548446104569d}{m\_layers}.size() - 1; l >= 0; --l) \{
804 
805     \textcolor{comment}{// Perform backward prop step on current layer}
806     Layer *layer = \hyperlink{classlbann_1_1model_a0229fc226ec163d1411548446104569d}{m\_layers}[l];
807     \hyperlink{classlbann_1_1model_a51dc59ea8dd4bc689854732269aaf001}{do\_layer\_backward\_prop\_begin\_cbs}(layer);
808     layer->back\_prop();
809     \hyperlink{classlbann_1_1model_ab0939d2668cca7efc2cc52355d34df3b}{do\_layer\_backward\_prop\_end\_cbs}(layer);
810 
811     \textcolor{comment}{// Terminate early if all gradients have been computed}
812     \textcolor{keywordtype}{bool} all\_gradients\_computed = \textcolor{keyword}{true};
813     \textcolor{keywordflow}{for} (\textcolor{keyword}{auto}&& w : \hyperlink{classlbann_1_1model_aaf9adefe4497d90bf5bc2567e71bfb00}{m\_weights}) \{
814       \textcolor{keyword}{auto}&& opt = w->get\_optimizer();
815       \textcolor{keywordflow}{if} (opt != \textcolor{keyword}{nullptr} && opt->get\_num\_gradient\_sources() != 0) \{
816         all\_gradients\_computed = \textcolor{keyword}{false};
817         \textcolor{keywordflow}{break};
818       \}
819     \}
820     \textcolor{keywordflow}{if} (all\_gradients\_computed) \{ \textcolor{keywordflow}{break}; \}
821 
822   \}
823   \hyperlink{classlbann_1_1model_a737a0129eadf52be476034888b3eedc2}{do\_model\_backward\_prop\_end\_cbs}();
824 \}
\end{DoxyCode}
Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classlbann_1_1model_a2ce4444efaab4dd1236c837d6847e438_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classlbann_1_1model_a2ce4444efaab4dd1236c837d6847e438_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classlbann_1_1model_a43b3ed176749e0aab6065f274ec2a717}\label{classlbann_1_1model_a43b3ed176749e0aab6065f274ec2a717}} 
\index{lbann\+::model@{lbann\+::model}!clear\+\_\+error\+\_\+signals@{clear\+\_\+error\+\_\+signals}}
\index{clear\+\_\+error\+\_\+signals@{clear\+\_\+error\+\_\+signals}!lbann\+::model@{lbann\+::model}}
\subsubsection{\texorpdfstring{clear\+\_\+error\+\_\+signals()}{clear\_error\_signals()}}
{\footnotesize\ttfamily void lbann\+::model\+::clear\+\_\+error\+\_\+signals (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}, {\ttfamily [virtual]}}

Clear each layer\textquotesingle{}s error signal tensor. This must be called after the input layer\textquotesingle{}s forward prop since it determines the current mini-\/batch size. 

Definition at line 785 of file model.\+cpp.


\begin{DoxyCode}
785                                 \{
786   \textcolor{keywordflow}{for} (\textcolor{keyword}{const} \textcolor{keyword}{auto}& layer : \hyperlink{classlbann_1_1model_a0229fc226ec163d1411548446104569d}{m\_layers}) \{
787     layer->clear\_error\_signals(\hyperlink{classlbann_1_1model_a982cea92d230bab5a47df504f02daf98}{m\_current\_mini\_batch\_size});
788   \}
789 \}
\end{DoxyCode}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classlbann_1_1model_a43b3ed176749e0aab6065f274ec2a717_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classlbann_1_1model_ae4ca41f514498a37503ecc6ba1600bab}\label{classlbann_1_1model_ae4ca41f514498a37503ecc6ba1600bab}} 
\index{lbann\+::model@{lbann\+::model}!clear\+\_\+gradients@{clear\+\_\+gradients}}
\index{clear\+\_\+gradients@{clear\+\_\+gradients}!lbann\+::model@{lbann\+::model}}
\subsubsection{\texorpdfstring{clear\+\_\+gradients()}{clear\_gradients()}}
{\footnotesize\ttfamily void lbann\+::model\+::clear\+\_\+gradients (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}, {\ttfamily [virtual]}}

Clear each optimizer\textquotesingle{}s gradient. This must be called before training forward prop since layers set an optimizer flag during forward prop. 

Definition at line 778 of file model.\+cpp.


\begin{DoxyCode}
778                             \{
779   \textcolor{keywordflow}{for} (\textcolor{keyword}{const} \textcolor{keyword}{auto}& w : \hyperlink{classlbann_1_1model_aaf9adefe4497d90bf5bc2567e71bfb00}{m\_weights}) \{
780     optimizer* opt = w->get\_optimizer();
781     \textcolor{keywordflow}{if} (opt != \textcolor{keyword}{nullptr}) \{ opt->clear\_gradient(); \}
782   \}
783 \}
\end{DoxyCode}
Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=330pt]{classlbann_1_1model_ae4ca41f514498a37503ecc6ba1600bab_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classlbann_1_1model_ae4ca41f514498a37503ecc6ba1600bab_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classlbann_1_1model_aa819e0d7c8bb178155e40e33037cf054}\label{classlbann_1_1model_aa819e0d7c8bb178155e40e33037cf054}} 
\index{lbann\+::model@{lbann\+::model}!collect\+\_\+indices@{collect\+\_\+indices}}
\index{collect\+\_\+indices@{collect\+\_\+indices}!lbann\+::model@{lbann\+::model}}
\subsubsection{\texorpdfstring{collect\+\_\+indices()}{collect\_indices()}}
{\footnotesize\ttfamily void lbann\+::model\+::collect\+\_\+indices (\begin{DoxyParamCaption}\item[{\hyperlink{base_8hpp_a2781a159088df64ed7d47cc91c4dc0a8}{execution\+\_\+mode}}]{mode }\end{DoxyParamCaption})}

Run one epoch using only the input layer; this supports data\+\_\+store functionality 

Definition at line 664 of file model.\+cpp.


\begin{DoxyCode}
664                                                \{
665   \hyperlink{classlbann_1_1model_a5d188d75f53e0a4c6161500181b27c03}{reset\_mode\_and\_model}(mode);
666   \textcolor{keywordflow}{while} (\textcolor{keyword}{true}) \{
667     \hyperlink{classlbann_1_1model_a0229fc226ec163d1411548446104569d}{m\_layers}[0]->forward\_prop();
668     \textcolor{keywordtype}{bool} finished = \textcolor{keyword}{true};
669     finished = \hyperlink{classlbann_1_1model_a0229fc226ec163d1411548446104569d}{m\_layers}[0]->update() && finished;
670     \textcolor{keywordflow}{if} (finished) \{
671       \textcolor{keywordflow}{break};
672     \}
673   \}
674   \textcolor{comment}{//this may not be necessary, but shouldn't hurt}
675   \hyperlink{classlbann_1_1model_a9c6e9c199ca0ae06b8cf7266971ab9c3}{reset\_epoch\_statistics}(mode);
676 \}
\end{DoxyCode}
Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classlbann_1_1model_aa819e0d7c8bb178155e40e33037cf054_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classlbann_1_1model_aa819e0d7c8bb178155e40e33037cf054_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classlbann_1_1model_aef7a4775c70f96610bfc5a4605b946a5}\label{classlbann_1_1model_aef7a4775c70f96610bfc5a4605b946a5}} 
\index{lbann\+::model@{lbann\+::model}!construct\+\_\+layer\+\_\+graph@{construct\+\_\+layer\+\_\+graph}}
\index{construct\+\_\+layer\+\_\+graph@{construct\+\_\+layer\+\_\+graph}!lbann\+::model@{lbann\+::model}}
\subsubsection{\texorpdfstring{construct\+\_\+layer\+\_\+graph()}{construct\_layer\_graph()}}
{\footnotesize\ttfamily void lbann\+::model\+::construct\+\_\+layer\+\_\+graph (\begin{DoxyParamCaption}\item[{std\+::set$<$ int $>$ \&}]{nodes,  }\item[{std\+::map$<$ int, std\+::set$<$ int $>$$>$ \&}]{edges }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [protected]}, {\ttfamily [virtual]}}

Construct a layer graph. 

Definition at line 268 of file model.\+cpp.


\begin{DoxyCode}
269                                                                         \{
270   nodes.clear();
271   edges.clear();
272   \textcolor{keyword}{const} \textcolor{keywordtype}{int} num\_layers = \hyperlink{classlbann_1_1model_a0229fc226ec163d1411548446104569d}{m\_layers}.size();
273   std::unordered\_map<const Layer *,int> layer\_indices;
274   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} node = 0; node < num\_layers; ++node) \{
275     nodes.insert(node);
276     layer\_indices[\hyperlink{classlbann_1_1model_a0229fc226ec163d1411548446104569d}{m\_layers}[node]] = node;
277   \}
278   std::vector<std::set<int>> layer\_graph(num\_layers);
279   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} node = 0; node < num\_layers; ++node) \{
280     \textcolor{keywordflow}{for} (\textcolor{keyword}{const} \textcolor{keyword}{auto}& child : \hyperlink{classlbann_1_1model_a0229fc226ec163d1411548446104569d}{m\_layers}[node]->get\_child\_layers()) \{
281       edges[node].insert(layer\_indices[child]);
282     \}
283   \}
284 \}
\end{DoxyCode}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classlbann_1_1model_aef7a4775c70f96610bfc5a4605b946a5_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classlbann_1_1model_aacd024c11f0897b33a7e7838b9433ba2}\label{classlbann_1_1model_aacd024c11f0897b33a7e7838b9433ba2}} 
\index{lbann\+::model@{lbann\+::model}!copy@{copy}}
\index{copy@{copy}!lbann\+::model@{lbann\+::model}}
\subsubsection{\texorpdfstring{copy()}{copy()}}
{\footnotesize\ttfamily virtual \hyperlink{classlbann_1_1model}{model}$\ast$ lbann\+::model\+::copy (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [pure virtual]}}

Copy model. 

Implemented in \hyperlink{classlbann_1_1recurrent__model_ad184f898241fe026f140db689f129d47}{lbann\+::recurrent\+\_\+model}, \hyperlink{classlbann_1_1directed__acyclic__graph__model_a6a21050a732686e9e6c9f384ff9fda51}{lbann\+::directed\+\_\+acyclic\+\_\+graph\+\_\+model}, \hyperlink{classlbann_1_1sequential__model_a548d44a9c4c6bec3680d60b20ac9bd73}{lbann\+::sequential\+\_\+model}, \hyperlink{classlbann_1_1siamese__model_a26bbedec5306e47e214124cca2cb381b}{lbann\+::siamese\+\_\+model}, and \hyperlink{classlbann_1_1greedy__layerwise__autoencoder_a435fa0830662ebde904b9e70902f7e16}{lbann\+::greedy\+\_\+layerwise\+\_\+autoencoder}.

\mbox{\Hypertarget{classlbann_1_1model_a0d2d5a1eac592e5721a81a9b9ea4b7f2}\label{classlbann_1_1model_a0d2d5a1eac592e5721a81a9b9ea4b7f2}} 
\index{lbann\+::model@{lbann\+::model}!create\+\_\+optimizer@{create\+\_\+optimizer}}
\index{create\+\_\+optimizer@{create\+\_\+optimizer}!lbann\+::model@{lbann\+::model}}
\subsubsection{\texorpdfstring{create\+\_\+optimizer()}{create\_optimizer()}}
{\footnotesize\ttfamily \hyperlink{classlbann_1_1optimizer}{optimizer} $\ast$ lbann\+::model\+::create\+\_\+optimizer (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const}

Construct an instance of the default optimizer. If there is no default optimizer, a null pointer is returned. 

Definition at line 249 of file model.\+cpp.


\begin{DoxyCode}
249                                          \{
250   \textcolor{keywordflow}{if} (\hyperlink{classlbann_1_1model_a68df9efe547f53f7bf2a03ac64527990}{m\_default\_optimizer} != \textcolor{keyword}{nullptr}) \{
251     \textcolor{keywordflow}{return} \hyperlink{classlbann_1_1model_a68df9efe547f53f7bf2a03ac64527990}{m\_default\_optimizer}->\hyperlink{classlbann_1_1optimizer_adf19a1d19d832ebfe70072cc202cdf39}{copy}();
252   \} \textcolor{keywordflow}{else} \{
253     \textcolor{keywordflow}{return} \textcolor{keyword}{nullptr};
254   \}
255 \}
\end{DoxyCode}
Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=336pt]{classlbann_1_1model_a0d2d5a1eac592e5721a81a9b9ea4b7f2_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classlbann_1_1model_a0d2d5a1eac592e5721a81a9b9ea4b7f2_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classlbann_1_1model_a156acfa740b92322d44b6c477636eb26}\label{classlbann_1_1model_a156acfa740b92322d44b6c477636eb26}} 
\index{lbann\+::model@{lbann\+::model}!do\+\_\+batch\+\_\+begin\+\_\+cbs@{do\+\_\+batch\+\_\+begin\+\_\+cbs}}
\index{do\+\_\+batch\+\_\+begin\+\_\+cbs@{do\+\_\+batch\+\_\+begin\+\_\+cbs}!lbann\+::model@{lbann\+::model}}
\subsubsection{\texorpdfstring{do\+\_\+batch\+\_\+begin\+\_\+cbs()}{do\_batch\_begin\_cbs()}}
{\footnotesize\ttfamily void lbann\+::model\+::do\+\_\+batch\+\_\+begin\+\_\+cbs (\begin{DoxyParamCaption}\item[{\hyperlink{base_8hpp_a2781a159088df64ed7d47cc91c4dc0a8}{execution\+\_\+mode}}]{mode }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}, {\ttfamily [virtual]}}

Execute callbacks at start of mini-\/batch. 

Definition at line 907 of file model.\+cpp.


\begin{DoxyCode}
907                                                   \{
908   \textcolor{keywordflow}{for} (\textcolor{keyword}{const} \textcolor{keyword}{auto}& cb : \hyperlink{classlbann_1_1model_a07b511fef30368494c2ad80922ffd0eb}{m\_callbacks}) \{
909     \textcolor{keywordflow}{switch} (mode) \{
910     \textcolor{keywordflow}{case} \hyperlink{base_8hpp_a2781a159088df64ed7d47cc91c4dc0a8ac185ddac8b5a8f5aa23c5b80bc12d214}{execution\_mode::training}:
911       \textcolor{keywordflow}{if} (\hyperlink{classlbann_1_1model_ad0cdcba177434b52dc9c4a97be183a92}{get\_cur\_step}() % cb->get\_batch\_interval() == 0) \{
912         cb->on\_batch\_begin(\textcolor{keyword}{this});
913       \}
914       \textcolor{keywordflow}{break};
915     \textcolor{keywordflow}{case} \hyperlink{base_8hpp_a2781a159088df64ed7d47cc91c4dc0a8aa617908b172c473cb8e8cda059e55bf0}{execution\_mode::validation}:
916     \textcolor{keywordflow}{case} \hyperlink{base_8hpp_a2781a159088df64ed7d47cc91c4dc0a8aae2b1fca515949e5d54fb22b8ed95575}{execution\_mode::testing}:
917       cb->on\_batch\_evaluate\_begin(\textcolor{keyword}{this});
918       \textcolor{keywordflow}{break};
919     \textcolor{keywordflow}{default}:
920       std::stringstream err;
921       err << \_\_FILE\_\_ << \textcolor{stringliteral}{" "} << \_\_LINE\_\_ << \textcolor{stringliteral}{" :: "}
922           << \textcolor{stringliteral}{"invalid execution mode"};
923       \textcolor{keywordflow}{throw} lbann\_exception(err.str());
924     \}
925   \}
926 \}
\end{DoxyCode}
Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classlbann_1_1model_a156acfa740b92322d44b6c477636eb26_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classlbann_1_1model_a156acfa740b92322d44b6c477636eb26_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classlbann_1_1model_a3dc29e9751a53afda7e171aff335273e}\label{classlbann_1_1model_a3dc29e9751a53afda7e171aff335273e}} 
\index{lbann\+::model@{lbann\+::model}!do\+\_\+batch\+\_\+end\+\_\+cbs@{do\+\_\+batch\+\_\+end\+\_\+cbs}}
\index{do\+\_\+batch\+\_\+end\+\_\+cbs@{do\+\_\+batch\+\_\+end\+\_\+cbs}!lbann\+::model@{lbann\+::model}}
\subsubsection{\texorpdfstring{do\+\_\+batch\+\_\+end\+\_\+cbs()}{do\_batch\_end\_cbs()}}
{\footnotesize\ttfamily void lbann\+::model\+::do\+\_\+batch\+\_\+end\+\_\+cbs (\begin{DoxyParamCaption}\item[{\hyperlink{base_8hpp_a2781a159088df64ed7d47cc91c4dc0a8}{execution\+\_\+mode}}]{mode }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}, {\ttfamily [virtual]}}

Execute callbacks at end of mini-\/batch. 

Definition at line 928 of file model.\+cpp.


\begin{DoxyCode}
928                                                 \{
929   \textcolor{keywordflow}{for} (\textcolor{keyword}{const} \textcolor{keyword}{auto}& cb : \hyperlink{classlbann_1_1model_a07b511fef30368494c2ad80922ffd0eb}{m\_callbacks}) \{
930     \textcolor{keywordflow}{switch} (mode) \{
931     \textcolor{keywordflow}{case} \hyperlink{base_8hpp_a2781a159088df64ed7d47cc91c4dc0a8ac185ddac8b5a8f5aa23c5b80bc12d214}{execution\_mode::training}:
932       \textcolor{keywordflow}{if} (\hyperlink{classlbann_1_1model_ad0cdcba177434b52dc9c4a97be183a92}{get\_cur\_step}() % cb->get\_batch\_interval() == 0) \{
933         cb->on\_batch\_end(\textcolor{keyword}{this});
934       \}
935       \textcolor{keywordflow}{break};
936     \textcolor{keywordflow}{case} \hyperlink{base_8hpp_a2781a159088df64ed7d47cc91c4dc0a8aa617908b172c473cb8e8cda059e55bf0}{execution\_mode::validation}:
937     \textcolor{keywordflow}{case} \hyperlink{base_8hpp_a2781a159088df64ed7d47cc91c4dc0a8aae2b1fca515949e5d54fb22b8ed95575}{execution\_mode::testing}:
938       cb->on\_batch\_evaluate\_end(\textcolor{keyword}{this});
939       \textcolor{keywordflow}{break};
940     \textcolor{keywordflow}{default}:
941       std::stringstream err;
942       err << \_\_FILE\_\_ << \textcolor{stringliteral}{" "} << \_\_LINE\_\_ << \textcolor{stringliteral}{" :: "}
943           << \textcolor{stringliteral}{"invalid execution mode"};
944       \textcolor{keywordflow}{throw} lbann\_exception(err.str());
945     \}
946   \}
947 \}
\end{DoxyCode}
Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classlbann_1_1model_a3dc29e9751a53afda7e171aff335273e_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classlbann_1_1model_a3dc29e9751a53afda7e171aff335273e_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classlbann_1_1model_a6f975af3ff4921d78a9eb1aca12eaf5e}\label{classlbann_1_1model_a6f975af3ff4921d78a9eb1aca12eaf5e}} 
\index{lbann\+::model@{lbann\+::model}!do\+\_\+epoch\+\_\+begin\+\_\+cbs@{do\+\_\+epoch\+\_\+begin\+\_\+cbs}}
\index{do\+\_\+epoch\+\_\+begin\+\_\+cbs@{do\+\_\+epoch\+\_\+begin\+\_\+cbs}!lbann\+::model@{lbann\+::model}}
\subsubsection{\texorpdfstring{do\+\_\+epoch\+\_\+begin\+\_\+cbs()}{do\_epoch\_begin\_cbs()}}
{\footnotesize\ttfamily void lbann\+::model\+::do\+\_\+epoch\+\_\+begin\+\_\+cbs (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}, {\ttfamily [virtual]}}

Execute callbacks at start of epoch. 

Definition at line 895 of file model.\+cpp.


\begin{DoxyCode}
895                                \{
896   \textcolor{keywordflow}{for} (\textcolor{keyword}{const} \textcolor{keyword}{auto}& cb : \hyperlink{classlbann_1_1model_a07b511fef30368494c2ad80922ffd0eb}{m\_callbacks}) \{
897     cb->on\_epoch\_begin(\textcolor{keyword}{this});
898   \}
899 \}
\end{DoxyCode}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classlbann_1_1model_a6f975af3ff4921d78a9eb1aca12eaf5e_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classlbann_1_1model_a93e43a6c5aaf8ad890ef50ff97dfa176}\label{classlbann_1_1model_a93e43a6c5aaf8ad890ef50ff97dfa176}} 
\index{lbann\+::model@{lbann\+::model}!do\+\_\+epoch\+\_\+end\+\_\+cbs@{do\+\_\+epoch\+\_\+end\+\_\+cbs}}
\index{do\+\_\+epoch\+\_\+end\+\_\+cbs@{do\+\_\+epoch\+\_\+end\+\_\+cbs}!lbann\+::model@{lbann\+::model}}
\subsubsection{\texorpdfstring{do\+\_\+epoch\+\_\+end\+\_\+cbs()}{do\_epoch\_end\_cbs()}}
{\footnotesize\ttfamily void lbann\+::model\+::do\+\_\+epoch\+\_\+end\+\_\+cbs (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}, {\ttfamily [virtual]}}

Execute callbacks at end of epoch. 

Definition at line 901 of file model.\+cpp.


\begin{DoxyCode}
901                              \{
902   \textcolor{keywordflow}{for} (\textcolor{keyword}{const} \textcolor{keyword}{auto}& cb : \hyperlink{classlbann_1_1model_a07b511fef30368494c2ad80922ffd0eb}{m\_callbacks}) \{
903     cb->on\_epoch\_end(\textcolor{keyword}{this});
904   \}
905 \}
\end{DoxyCode}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classlbann_1_1model_a93e43a6c5aaf8ad890ef50ff97dfa176_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classlbann_1_1model_ab14bedea05bd5ef549d95ceb2b57b7a4}\label{classlbann_1_1model_ab14bedea05bd5ef549d95ceb2b57b7a4}} 
\index{lbann\+::model@{lbann\+::model}!do\+\_\+evaluate\+\_\+begin\+\_\+cbs@{do\+\_\+evaluate\+\_\+begin\+\_\+cbs}}
\index{do\+\_\+evaluate\+\_\+begin\+\_\+cbs@{do\+\_\+evaluate\+\_\+begin\+\_\+cbs}!lbann\+::model@{lbann\+::model}}
\subsubsection{\texorpdfstring{do\+\_\+evaluate\+\_\+begin\+\_\+cbs()}{do\_evaluate\_begin\_cbs()}}
{\footnotesize\ttfamily void lbann\+::model\+::do\+\_\+evaluate\+\_\+begin\+\_\+cbs (\begin{DoxyParamCaption}\item[{\hyperlink{base_8hpp_a2781a159088df64ed7d47cc91c4dc0a8}{execution\+\_\+mode}}]{mode }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}, {\ttfamily [virtual]}}

Execute callbacks at start of evaluation. 

Definition at line 863 of file model.\+cpp.


\begin{DoxyCode}
863                                                      \{
864   \textcolor{keywordflow}{for} (\textcolor{keyword}{const} \textcolor{keyword}{auto}& cb : \hyperlink{classlbann_1_1model_a07b511fef30368494c2ad80922ffd0eb}{m\_callbacks}) \{
865     \textcolor{keywordflow}{switch} (mode) \{
866     \textcolor{keywordflow}{case} \hyperlink{base_8hpp_a2781a159088df64ed7d47cc91c4dc0a8aa617908b172c473cb8e8cda059e55bf0}{execution\_mode::validation}:
867       cb->on\_validation\_begin(\textcolor{keyword}{this}); \textcolor{keywordflow}{break};
868     \textcolor{keywordflow}{case} \hyperlink{base_8hpp_a2781a159088df64ed7d47cc91c4dc0a8aae2b1fca515949e5d54fb22b8ed95575}{execution\_mode::testing}:
869       cb->on\_test\_begin(\textcolor{keyword}{this}); \textcolor{keywordflow}{break};
870     \textcolor{keywordflow}{default}:
871       std::stringstream err;
872       err << \_\_FILE\_\_ << \textcolor{stringliteral}{" "} << \_\_LINE\_\_ << \textcolor{stringliteral}{" :: "}
873           << \textcolor{stringliteral}{"invalid execution mode"};
874       \textcolor{keywordflow}{throw} lbann\_exception(err.str());
875     \}
876   \}
877 \}
\end{DoxyCode}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classlbann_1_1model_ab14bedea05bd5ef549d95ceb2b57b7a4_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classlbann_1_1model_ab123ed691fb6e9f52d468914a1f4460c}\label{classlbann_1_1model_ab123ed691fb6e9f52d468914a1f4460c}} 
\index{lbann\+::model@{lbann\+::model}!do\+\_\+evaluate\+\_\+end\+\_\+cbs@{do\+\_\+evaluate\+\_\+end\+\_\+cbs}}
\index{do\+\_\+evaluate\+\_\+end\+\_\+cbs@{do\+\_\+evaluate\+\_\+end\+\_\+cbs}!lbann\+::model@{lbann\+::model}}
\subsubsection{\texorpdfstring{do\+\_\+evaluate\+\_\+end\+\_\+cbs()}{do\_evaluate\_end\_cbs()}}
{\footnotesize\ttfamily void lbann\+::model\+::do\+\_\+evaluate\+\_\+end\+\_\+cbs (\begin{DoxyParamCaption}\item[{\hyperlink{base_8hpp_a2781a159088df64ed7d47cc91c4dc0a8}{execution\+\_\+mode}}]{mode }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}, {\ttfamily [virtual]}}

Execute callbacks at end of evaluation. 

Definition at line 879 of file model.\+cpp.


\begin{DoxyCode}
879                                                    \{
880   \textcolor{keywordflow}{for} (\textcolor{keyword}{const} \textcolor{keyword}{auto}& cb : \hyperlink{classlbann_1_1model_a07b511fef30368494c2ad80922ffd0eb}{m\_callbacks}) \{
881     \textcolor{keywordflow}{switch} (mode) \{
882     \textcolor{keywordflow}{case} \hyperlink{base_8hpp_a2781a159088df64ed7d47cc91c4dc0a8aa617908b172c473cb8e8cda059e55bf0}{execution\_mode::validation}:
883       cb->on\_validation\_end(\textcolor{keyword}{this}); \textcolor{keywordflow}{break};
884     \textcolor{keywordflow}{case} \hyperlink{base_8hpp_a2781a159088df64ed7d47cc91c4dc0a8aae2b1fca515949e5d54fb22b8ed95575}{execution\_mode::testing}:
885       cb->on\_test\_end(\textcolor{keyword}{this}); \textcolor{keywordflow}{break};
886     \textcolor{keywordflow}{default}:
887       std::stringstream err;
888       err << \_\_FILE\_\_ << \textcolor{stringliteral}{" "} << \_\_LINE\_\_ << \textcolor{stringliteral}{" :: "}
889           << \textcolor{stringliteral}{"invalid execution mode"};
890       \textcolor{keywordflow}{throw} lbann\_exception(err.str());
891     \}
892   \}
893 \}
\end{DoxyCode}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classlbann_1_1model_ab123ed691fb6e9f52d468914a1f4460c_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classlbann_1_1model_a51dc59ea8dd4bc689854732269aaf001}\label{classlbann_1_1model_a51dc59ea8dd4bc689854732269aaf001}} 
\index{lbann\+::model@{lbann\+::model}!do\+\_\+layer\+\_\+backward\+\_\+prop\+\_\+begin\+\_\+cbs@{do\+\_\+layer\+\_\+backward\+\_\+prop\+\_\+begin\+\_\+cbs}}
\index{do\+\_\+layer\+\_\+backward\+\_\+prop\+\_\+begin\+\_\+cbs@{do\+\_\+layer\+\_\+backward\+\_\+prop\+\_\+begin\+\_\+cbs}!lbann\+::model@{lbann\+::model}}
\subsubsection{\texorpdfstring{do\+\_\+layer\+\_\+backward\+\_\+prop\+\_\+begin\+\_\+cbs()}{do\_layer\_backward\_prop\_begin\_cbs()}}
{\footnotesize\ttfamily void lbann\+::model\+::do\+\_\+layer\+\_\+backward\+\_\+prop\+\_\+begin\+\_\+cbs (\begin{DoxyParamCaption}\item[{\hyperlink{classlbann_1_1Layer}{Layer} $\ast$}]{l }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}, {\ttfamily [virtual]}}

Execute callbacks at start of layer backward propagation. 

Definition at line 1049 of file model.\+cpp.


\begin{DoxyCode}
1049                                                      \{
1050   \textcolor{keywordflow}{for} (\textcolor{keyword}{const} \textcolor{keyword}{auto}& cb : \hyperlink{classlbann_1_1model_a07b511fef30368494c2ad80922ffd0eb}{m\_callbacks}) \{
1051     \textcolor{keywordflow}{if} (\hyperlink{classlbann_1_1model_ad0cdcba177434b52dc9c4a97be183a92}{get\_cur\_step}() % cb->get\_batch\_interval() == 0) \{
1052       cb->on\_backward\_prop\_begin(\textcolor{keyword}{this}, l);
1053     \}
1054   \}
1055 \}
\end{DoxyCode}
Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classlbann_1_1model_a51dc59ea8dd4bc689854732269aaf001_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classlbann_1_1model_a51dc59ea8dd4bc689854732269aaf001_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classlbann_1_1model_ab0939d2668cca7efc2cc52355d34df3b}\label{classlbann_1_1model_ab0939d2668cca7efc2cc52355d34df3b}} 
\index{lbann\+::model@{lbann\+::model}!do\+\_\+layer\+\_\+backward\+\_\+prop\+\_\+end\+\_\+cbs@{do\+\_\+layer\+\_\+backward\+\_\+prop\+\_\+end\+\_\+cbs}}
\index{do\+\_\+layer\+\_\+backward\+\_\+prop\+\_\+end\+\_\+cbs@{do\+\_\+layer\+\_\+backward\+\_\+prop\+\_\+end\+\_\+cbs}!lbann\+::model@{lbann\+::model}}
\subsubsection{\texorpdfstring{do\+\_\+layer\+\_\+backward\+\_\+prop\+\_\+end\+\_\+cbs()}{do\_layer\_backward\_prop\_end\_cbs()}}
{\footnotesize\ttfamily void lbann\+::model\+::do\+\_\+layer\+\_\+backward\+\_\+prop\+\_\+end\+\_\+cbs (\begin{DoxyParamCaption}\item[{\hyperlink{classlbann_1_1Layer}{Layer} $\ast$}]{l }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}, {\ttfamily [virtual]}}

Execute callbacks at end of layer backward propagation. 

Definition at line 1057 of file model.\+cpp.


\begin{DoxyCode}
1057                                                    \{
1058   \textcolor{keywordflow}{for} (\textcolor{keyword}{const} \textcolor{keyword}{auto}& cb : \hyperlink{classlbann_1_1model_a07b511fef30368494c2ad80922ffd0eb}{m\_callbacks}) \{
1059     \textcolor{keywordflow}{if} (\hyperlink{classlbann_1_1model_ad0cdcba177434b52dc9c4a97be183a92}{get\_cur\_step}() % cb->get\_batch\_interval() == 0) \{
1060       cb->on\_backward\_prop\_end(\textcolor{keyword}{this}, l);
1061     \}
1062   \}
1063 \}
\end{DoxyCode}
Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classlbann_1_1model_ab0939d2668cca7efc2cc52355d34df3b_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classlbann_1_1model_ab0939d2668cca7efc2cc52355d34df3b_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classlbann_1_1model_ac19ce0dd060f9caddd6e14974a6e7713}\label{classlbann_1_1model_ac19ce0dd060f9caddd6e14974a6e7713}} 
\index{lbann\+::model@{lbann\+::model}!do\+\_\+layer\+\_\+forward\+\_\+prop\+\_\+begin\+\_\+cbs@{do\+\_\+layer\+\_\+forward\+\_\+prop\+\_\+begin\+\_\+cbs}}
\index{do\+\_\+layer\+\_\+forward\+\_\+prop\+\_\+begin\+\_\+cbs@{do\+\_\+layer\+\_\+forward\+\_\+prop\+\_\+begin\+\_\+cbs}!lbann\+::model@{lbann\+::model}}
\subsubsection{\texorpdfstring{do\+\_\+layer\+\_\+forward\+\_\+prop\+\_\+begin\+\_\+cbs()}{do\_layer\_forward\_prop\_begin\_cbs()}}
{\footnotesize\ttfamily void lbann\+::model\+::do\+\_\+layer\+\_\+forward\+\_\+prop\+\_\+begin\+\_\+cbs (\begin{DoxyParamCaption}\item[{\hyperlink{base_8hpp_a2781a159088df64ed7d47cc91c4dc0a8}{execution\+\_\+mode}}]{mode,  }\item[{\hyperlink{classlbann_1_1Layer}{Layer} $\ast$}]{l }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}, {\ttfamily [virtual]}}

Execute callbacks at start of layer forward propagation. 

Definition at line 991 of file model.\+cpp.


\begin{DoxyCode}
991                                                                          \{
992   \textcolor{keywordflow}{for} (\textcolor{keyword}{const} \textcolor{keyword}{auto}& cb : \hyperlink{classlbann_1_1model_a07b511fef30368494c2ad80922ffd0eb}{m\_callbacks}) \{
993     \textcolor{keywordflow}{switch} (mode) \{
994     \textcolor{keywordflow}{case} \hyperlink{base_8hpp_a2781a159088df64ed7d47cc91c4dc0a8ac185ddac8b5a8f5aa23c5b80bc12d214}{execution\_mode::training}:
995       \textcolor{keywordflow}{if} (\hyperlink{classlbann_1_1model_ad0cdcba177434b52dc9c4a97be183a92}{get\_cur\_step}() % cb->get\_batch\_interval() == 0) \{
996         cb->on\_forward\_prop\_begin(\textcolor{keyword}{this}, l);
997       \}
998       \textcolor{keywordflow}{break};
999     \textcolor{keywordflow}{case} \hyperlink{base_8hpp_a2781a159088df64ed7d47cc91c4dc0a8aa617908b172c473cb8e8cda059e55bf0}{execution\_mode::validation}:
1000     \textcolor{keywordflow}{case} \hyperlink{base_8hpp_a2781a159088df64ed7d47cc91c4dc0a8aae2b1fca515949e5d54fb22b8ed95575}{execution\_mode::testing}:
1001       cb->on\_evaluate\_forward\_prop\_begin(\textcolor{keyword}{this}, l);
1002       \textcolor{keywordflow}{break};
1003     \textcolor{keywordflow}{default}:
1004       std::stringstream err;
1005       err << \_\_FILE\_\_ << \textcolor{stringliteral}{" "} << \_\_LINE\_\_ << \textcolor{stringliteral}{" :: "}
1006           << \textcolor{stringliteral}{"invalid execution mode"};
1007       \textcolor{keywordflow}{throw} lbann\_exception(err.str());
1008     \}
1009   \}
1010 \}
\end{DoxyCode}
Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classlbann_1_1model_ac19ce0dd060f9caddd6e14974a6e7713_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classlbann_1_1model_ac19ce0dd060f9caddd6e14974a6e7713_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classlbann_1_1model_a7d6b891f58a7df9726e4f2c48d1f957a}\label{classlbann_1_1model_a7d6b891f58a7df9726e4f2c48d1f957a}} 
\index{lbann\+::model@{lbann\+::model}!do\+\_\+layer\+\_\+forward\+\_\+prop\+\_\+end\+\_\+cbs@{do\+\_\+layer\+\_\+forward\+\_\+prop\+\_\+end\+\_\+cbs}}
\index{do\+\_\+layer\+\_\+forward\+\_\+prop\+\_\+end\+\_\+cbs@{do\+\_\+layer\+\_\+forward\+\_\+prop\+\_\+end\+\_\+cbs}!lbann\+::model@{lbann\+::model}}
\subsubsection{\texorpdfstring{do\+\_\+layer\+\_\+forward\+\_\+prop\+\_\+end\+\_\+cbs()}{do\_layer\_forward\_prop\_end\_cbs()}}
{\footnotesize\ttfamily void lbann\+::model\+::do\+\_\+layer\+\_\+forward\+\_\+prop\+\_\+end\+\_\+cbs (\begin{DoxyParamCaption}\item[{\hyperlink{base_8hpp_a2781a159088df64ed7d47cc91c4dc0a8}{execution\+\_\+mode}}]{mode,  }\item[{\hyperlink{classlbann_1_1Layer}{Layer} $\ast$}]{l }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}, {\ttfamily [virtual]}}

Execute callbacks at end of layer forward propagation. 

Definition at line 1012 of file model.\+cpp.


\begin{DoxyCode}
1012                                                                        \{
1013   \textcolor{keywordflow}{for} (\textcolor{keyword}{const} \textcolor{keyword}{auto}& cb : \hyperlink{classlbann_1_1model_a07b511fef30368494c2ad80922ffd0eb}{m\_callbacks}) \{
1014     \textcolor{keywordflow}{switch} (mode) \{
1015     \textcolor{keywordflow}{case} \hyperlink{base_8hpp_a2781a159088df64ed7d47cc91c4dc0a8ac185ddac8b5a8f5aa23c5b80bc12d214}{execution\_mode::training}:
1016       \textcolor{keywordflow}{if} (\hyperlink{classlbann_1_1model_ad0cdcba177434b52dc9c4a97be183a92}{get\_cur\_step}() % cb->get\_batch\_interval() == 0) \{
1017         cb->on\_forward\_prop\_end(\textcolor{keyword}{this}, l);
1018       \}
1019       \textcolor{keywordflow}{break};
1020     \textcolor{keywordflow}{case} \hyperlink{base_8hpp_a2781a159088df64ed7d47cc91c4dc0a8aa617908b172c473cb8e8cda059e55bf0}{execution\_mode::validation}:
1021     \textcolor{keywordflow}{case} \hyperlink{base_8hpp_a2781a159088df64ed7d47cc91c4dc0a8aae2b1fca515949e5d54fb22b8ed95575}{execution\_mode::testing}:
1022       cb->on\_evaluate\_forward\_prop\_end(\textcolor{keyword}{this}, l);
1023       \textcolor{keywordflow}{break};
1024     \textcolor{keywordflow}{default}:
1025       std::stringstream err;
1026       err << \_\_FILE\_\_ << \textcolor{stringliteral}{" "} << \_\_LINE\_\_ << \textcolor{stringliteral}{" :: "}
1027           << \textcolor{stringliteral}{"invalid execution mode"};
1028       \textcolor{keywordflow}{throw} lbann\_exception(err.str());
1029     \}
1030   \}
1031 \}
\end{DoxyCode}
Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classlbann_1_1model_a7d6b891f58a7df9726e4f2c48d1f957a_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classlbann_1_1model_a7d6b891f58a7df9726e4f2c48d1f957a_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classlbann_1_1model_a8a60eee343381e657b2c042637e56751}\label{classlbann_1_1model_a8a60eee343381e657b2c042637e56751}} 
\index{lbann\+::model@{lbann\+::model}!do\+\_\+model\+\_\+backward\+\_\+prop\+\_\+begin\+\_\+cbs@{do\+\_\+model\+\_\+backward\+\_\+prop\+\_\+begin\+\_\+cbs}}
\index{do\+\_\+model\+\_\+backward\+\_\+prop\+\_\+begin\+\_\+cbs@{do\+\_\+model\+\_\+backward\+\_\+prop\+\_\+begin\+\_\+cbs}!lbann\+::model@{lbann\+::model}}
\subsubsection{\texorpdfstring{do\+\_\+model\+\_\+backward\+\_\+prop\+\_\+begin\+\_\+cbs()}{do\_model\_backward\_prop\_begin\_cbs()}}
{\footnotesize\ttfamily void lbann\+::model\+::do\+\_\+model\+\_\+backward\+\_\+prop\+\_\+begin\+\_\+cbs (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}, {\ttfamily [virtual]}}

Execute callbacks at start of model backward propagation. 

Definition at line 1033 of file model.\+cpp.


\begin{DoxyCode}
1033                                              \{
1034   \textcolor{keywordflow}{for} (\textcolor{keyword}{const} \textcolor{keyword}{auto}& cb : \hyperlink{classlbann_1_1model_a07b511fef30368494c2ad80922ffd0eb}{m\_callbacks}) \{
1035     \textcolor{keywordflow}{if} (\hyperlink{classlbann_1_1model_ad0cdcba177434b52dc9c4a97be183a92}{get\_cur\_step}() % cb->get\_batch\_interval() == 0) \{
1036       cb->on\_backward\_prop\_begin(\textcolor{keyword}{this});
1037     \}
1038   \}
1039 \}
\end{DoxyCode}
Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classlbann_1_1model_a8a60eee343381e657b2c042637e56751_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classlbann_1_1model_a8a60eee343381e657b2c042637e56751_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classlbann_1_1model_a737a0129eadf52be476034888b3eedc2}\label{classlbann_1_1model_a737a0129eadf52be476034888b3eedc2}} 
\index{lbann\+::model@{lbann\+::model}!do\+\_\+model\+\_\+backward\+\_\+prop\+\_\+end\+\_\+cbs@{do\+\_\+model\+\_\+backward\+\_\+prop\+\_\+end\+\_\+cbs}}
\index{do\+\_\+model\+\_\+backward\+\_\+prop\+\_\+end\+\_\+cbs@{do\+\_\+model\+\_\+backward\+\_\+prop\+\_\+end\+\_\+cbs}!lbann\+::model@{lbann\+::model}}
\subsubsection{\texorpdfstring{do\+\_\+model\+\_\+backward\+\_\+prop\+\_\+end\+\_\+cbs()}{do\_model\_backward\_prop\_end\_cbs()}}
{\footnotesize\ttfamily void lbann\+::model\+::do\+\_\+model\+\_\+backward\+\_\+prop\+\_\+end\+\_\+cbs (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}, {\ttfamily [virtual]}}

Execute callbacks at end of model backward propagation. 

Definition at line 1041 of file model.\+cpp.


\begin{DoxyCode}
1041                                            \{
1042   \textcolor{keywordflow}{for} (\textcolor{keyword}{const} \textcolor{keyword}{auto}& cb : \hyperlink{classlbann_1_1model_a07b511fef30368494c2ad80922ffd0eb}{m\_callbacks}) \{
1043     \textcolor{keywordflow}{if} (\hyperlink{classlbann_1_1model_ad0cdcba177434b52dc9c4a97be183a92}{get\_cur\_step}() % cb->get\_batch\_interval() == 0) \{
1044       cb->on\_backward\_prop\_end(\textcolor{keyword}{this});
1045     \}
1046   \}
1047 \}
\end{DoxyCode}
Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classlbann_1_1model_a737a0129eadf52be476034888b3eedc2_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classlbann_1_1model_a737a0129eadf52be476034888b3eedc2_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classlbann_1_1model_af3c45642bbacf1bd07e8504d7e689ec0}\label{classlbann_1_1model_af3c45642bbacf1bd07e8504d7e689ec0}} 
\index{lbann\+::model@{lbann\+::model}!do\+\_\+model\+\_\+forward\+\_\+prop\+\_\+begin\+\_\+cbs@{do\+\_\+model\+\_\+forward\+\_\+prop\+\_\+begin\+\_\+cbs}}
\index{do\+\_\+model\+\_\+forward\+\_\+prop\+\_\+begin\+\_\+cbs@{do\+\_\+model\+\_\+forward\+\_\+prop\+\_\+begin\+\_\+cbs}!lbann\+::model@{lbann\+::model}}
\subsubsection{\texorpdfstring{do\+\_\+model\+\_\+forward\+\_\+prop\+\_\+begin\+\_\+cbs()}{do\_model\_forward\_prop\_begin\_cbs()}}
{\footnotesize\ttfamily void lbann\+::model\+::do\+\_\+model\+\_\+forward\+\_\+prop\+\_\+begin\+\_\+cbs (\begin{DoxyParamCaption}\item[{\hyperlink{base_8hpp_a2781a159088df64ed7d47cc91c4dc0a8}{execution\+\_\+mode}}]{mode }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}, {\ttfamily [virtual]}}

Execute callbacks at start of model forward propagation. 

Definition at line 949 of file model.\+cpp.


\begin{DoxyCode}
949                                                                \{
950   \textcolor{keywordflow}{for} (\textcolor{keyword}{const} \textcolor{keyword}{auto}& cb : \hyperlink{classlbann_1_1model_a07b511fef30368494c2ad80922ffd0eb}{m\_callbacks}) \{
951     \textcolor{keywordflow}{switch} (mode) \{
952     \textcolor{keywordflow}{case} \hyperlink{base_8hpp_a2781a159088df64ed7d47cc91c4dc0a8ac185ddac8b5a8f5aa23c5b80bc12d214}{execution\_mode::training}:
953       \textcolor{keywordflow}{if} (\hyperlink{classlbann_1_1model_ad0cdcba177434b52dc9c4a97be183a92}{get\_cur\_step}() % cb->get\_batch\_interval() == 0) \{
954         cb->on\_forward\_prop\_begin(\textcolor{keyword}{this});
955       \}
956       \textcolor{keywordflow}{break};
957     \textcolor{keywordflow}{case} \hyperlink{base_8hpp_a2781a159088df64ed7d47cc91c4dc0a8aa617908b172c473cb8e8cda059e55bf0}{execution\_mode::validation}:
958     \textcolor{keywordflow}{case} \hyperlink{base_8hpp_a2781a159088df64ed7d47cc91c4dc0a8aae2b1fca515949e5d54fb22b8ed95575}{execution\_mode::testing}:
959       cb->on\_evaluate\_forward\_prop\_begin(\textcolor{keyword}{this});
960       \textcolor{keywordflow}{break};
961     \textcolor{keywordflow}{default}:
962       std::stringstream err;
963       err << \_\_FILE\_\_ << \textcolor{stringliteral}{" "} << \_\_LINE\_\_ << \textcolor{stringliteral}{" :: "}
964           << \textcolor{stringliteral}{"invalid execution mode"};
965       \textcolor{keywordflow}{throw} lbann\_exception(err.str());
966     \}
967   \}
968 \}
\end{DoxyCode}
Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classlbann_1_1model_af3c45642bbacf1bd07e8504d7e689ec0_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classlbann_1_1model_af3c45642bbacf1bd07e8504d7e689ec0_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classlbann_1_1model_a9d67f4f3a027327d2db8767759f9c2bf}\label{classlbann_1_1model_a9d67f4f3a027327d2db8767759f9c2bf}} 
\index{lbann\+::model@{lbann\+::model}!do\+\_\+model\+\_\+forward\+\_\+prop\+\_\+end\+\_\+cbs@{do\+\_\+model\+\_\+forward\+\_\+prop\+\_\+end\+\_\+cbs}}
\index{do\+\_\+model\+\_\+forward\+\_\+prop\+\_\+end\+\_\+cbs@{do\+\_\+model\+\_\+forward\+\_\+prop\+\_\+end\+\_\+cbs}!lbann\+::model@{lbann\+::model}}
\subsubsection{\texorpdfstring{do\+\_\+model\+\_\+forward\+\_\+prop\+\_\+end\+\_\+cbs()}{do\_model\_forward\_prop\_end\_cbs()}}
{\footnotesize\ttfamily void lbann\+::model\+::do\+\_\+model\+\_\+forward\+\_\+prop\+\_\+end\+\_\+cbs (\begin{DoxyParamCaption}\item[{\hyperlink{base_8hpp_a2781a159088df64ed7d47cc91c4dc0a8}{execution\+\_\+mode}}]{mode }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}, {\ttfamily [virtual]}}

Execute callbacks at end of model forward propagation. 

Definition at line 970 of file model.\+cpp.


\begin{DoxyCode}
970                                                              \{
971   \textcolor{keywordflow}{for} (\textcolor{keyword}{const} \textcolor{keyword}{auto}& cb : \hyperlink{classlbann_1_1model_a07b511fef30368494c2ad80922ffd0eb}{m\_callbacks}) \{
972     \textcolor{keywordflow}{switch} (mode) \{
973     \textcolor{keywordflow}{case} \hyperlink{base_8hpp_a2781a159088df64ed7d47cc91c4dc0a8ac185ddac8b5a8f5aa23c5b80bc12d214}{execution\_mode::training}:
974       \textcolor{keywordflow}{if} (\hyperlink{classlbann_1_1model_ad0cdcba177434b52dc9c4a97be183a92}{get\_cur\_step}() % cb->get\_batch\_interval() == 0) \{
975         cb->on\_forward\_prop\_end(\textcolor{keyword}{this});
976       \}
977       \textcolor{keywordflow}{break};
978     \textcolor{keywordflow}{case} \hyperlink{base_8hpp_a2781a159088df64ed7d47cc91c4dc0a8aa617908b172c473cb8e8cda059e55bf0}{execution\_mode::validation}:
979     \textcolor{keywordflow}{case} \hyperlink{base_8hpp_a2781a159088df64ed7d47cc91c4dc0a8aae2b1fca515949e5d54fb22b8ed95575}{execution\_mode::testing}:
980       cb->on\_evaluate\_forward\_prop\_end(\textcolor{keyword}{this});
981       \textcolor{keywordflow}{break};
982     \textcolor{keywordflow}{default}:
983       std::stringstream err;
984       err << \_\_FILE\_\_ << \textcolor{stringliteral}{" "} << \_\_LINE\_\_ << \textcolor{stringliteral}{" :: "}
985           << \textcolor{stringliteral}{"invalid execution mode"};
986       \textcolor{keywordflow}{throw} lbann\_exception(err.str());
987     \}
988   \}
989 \}
\end{DoxyCode}
Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classlbann_1_1model_a9d67f4f3a027327d2db8767759f9c2bf_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classlbann_1_1model_a9d67f4f3a027327d2db8767759f9c2bf_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classlbann_1_1model_a19c96544ccf733646f3454be887f3a08}\label{classlbann_1_1model_a19c96544ccf733646f3454be887f3a08}} 
\index{lbann\+::model@{lbann\+::model}!do\+\_\+model\+\_\+optimize\+\_\+begin\+\_\+cbs@{do\+\_\+model\+\_\+optimize\+\_\+begin\+\_\+cbs}}
\index{do\+\_\+model\+\_\+optimize\+\_\+begin\+\_\+cbs@{do\+\_\+model\+\_\+optimize\+\_\+begin\+\_\+cbs}!lbann\+::model@{lbann\+::model}}
\subsubsection{\texorpdfstring{do\+\_\+model\+\_\+optimize\+\_\+begin\+\_\+cbs()}{do\_model\_optimize\_begin\_cbs()}}
{\footnotesize\ttfamily void lbann\+::model\+::do\+\_\+model\+\_\+optimize\+\_\+begin\+\_\+cbs (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}, {\ttfamily [virtual]}}

Execute callbacks at start of model optimization. 

Definition at line 1065 of file model.\+cpp.


\begin{DoxyCode}
1065                                         \{
1066   \textcolor{keywordflow}{for} (\textcolor{keyword}{const} \textcolor{keyword}{auto}& cb : \hyperlink{classlbann_1_1model_a07b511fef30368494c2ad80922ffd0eb}{m\_callbacks}) \{
1067     \textcolor{keywordflow}{if} (\hyperlink{classlbann_1_1model_ad0cdcba177434b52dc9c4a97be183a92}{get\_cur\_step}() % cb->get\_batch\_interval() == 0) \{
1068       cb->on\_optimize\_begin(\textcolor{keyword}{this});
1069     \}
1070   \}
1071 \}
\end{DoxyCode}
Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classlbann_1_1model_a19c96544ccf733646f3454be887f3a08_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classlbann_1_1model_a19c96544ccf733646f3454be887f3a08_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classlbann_1_1model_ac0b37e4f4881e274bd9c4889d4852fe8}\label{classlbann_1_1model_ac0b37e4f4881e274bd9c4889d4852fe8}} 
\index{lbann\+::model@{lbann\+::model}!do\+\_\+model\+\_\+optimize\+\_\+end\+\_\+cbs@{do\+\_\+model\+\_\+optimize\+\_\+end\+\_\+cbs}}
\index{do\+\_\+model\+\_\+optimize\+\_\+end\+\_\+cbs@{do\+\_\+model\+\_\+optimize\+\_\+end\+\_\+cbs}!lbann\+::model@{lbann\+::model}}
\subsubsection{\texorpdfstring{do\+\_\+model\+\_\+optimize\+\_\+end\+\_\+cbs()}{do\_model\_optimize\_end\_cbs()}}
{\footnotesize\ttfamily void lbann\+::model\+::do\+\_\+model\+\_\+optimize\+\_\+end\+\_\+cbs (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}, {\ttfamily [virtual]}}

Execute callbacks at end of model optimization. 

Definition at line 1073 of file model.\+cpp.


\begin{DoxyCode}
1073                                       \{
1074   \textcolor{keywordflow}{for} (\textcolor{keyword}{const} \textcolor{keyword}{auto}& cb : \hyperlink{classlbann_1_1model_a07b511fef30368494c2ad80922ffd0eb}{m\_callbacks}) \{
1075     \textcolor{keywordflow}{if} (\hyperlink{classlbann_1_1model_ad0cdcba177434b52dc9c4a97be183a92}{get\_cur\_step}() % cb->get\_batch\_interval() == 0) \{
1076       cb->on\_optimize\_end(\textcolor{keyword}{this});
1077     \}
1078   \}
1079 \}
\end{DoxyCode}
Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classlbann_1_1model_ac0b37e4f4881e274bd9c4889d4852fe8_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classlbann_1_1model_ac0b37e4f4881e274bd9c4889d4852fe8_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classlbann_1_1model_a780395fa740102adda5537aa5d257698}\label{classlbann_1_1model_a780395fa740102adda5537aa5d257698}} 
\index{lbann\+::model@{lbann\+::model}!do\+\_\+train\+\_\+begin\+\_\+cbs@{do\+\_\+train\+\_\+begin\+\_\+cbs}}
\index{do\+\_\+train\+\_\+begin\+\_\+cbs@{do\+\_\+train\+\_\+begin\+\_\+cbs}!lbann\+::model@{lbann\+::model}}
\subsubsection{\texorpdfstring{do\+\_\+train\+\_\+begin\+\_\+cbs()}{do\_train\_begin\_cbs()}}
{\footnotesize\ttfamily void lbann\+::model\+::do\+\_\+train\+\_\+begin\+\_\+cbs (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}, {\ttfamily [virtual]}}

Execute callbacks at start of training. 

Definition at line 851 of file model.\+cpp.


\begin{DoxyCode}
851                                \{
852   \textcolor{keywordflow}{for} (\textcolor{keyword}{const} \textcolor{keyword}{auto}& cb : \hyperlink{classlbann_1_1model_a07b511fef30368494c2ad80922ffd0eb}{m\_callbacks}) \{
853     cb->on\_train\_begin(\textcolor{keyword}{this});
854   \}
855 \}
\end{DoxyCode}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classlbann_1_1model_a780395fa740102adda5537aa5d257698_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classlbann_1_1model_a13bb6edae42c719b78454a8af9549122}\label{classlbann_1_1model_a13bb6edae42c719b78454a8af9549122}} 
\index{lbann\+::model@{lbann\+::model}!do\+\_\+train\+\_\+end\+\_\+cbs@{do\+\_\+train\+\_\+end\+\_\+cbs}}
\index{do\+\_\+train\+\_\+end\+\_\+cbs@{do\+\_\+train\+\_\+end\+\_\+cbs}!lbann\+::model@{lbann\+::model}}
\subsubsection{\texorpdfstring{do\+\_\+train\+\_\+end\+\_\+cbs()}{do\_train\_end\_cbs()}}
{\footnotesize\ttfamily void lbann\+::model\+::do\+\_\+train\+\_\+end\+\_\+cbs (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}, {\ttfamily [virtual]}}

Execute callbacks at end of training. 

Definition at line 857 of file model.\+cpp.


\begin{DoxyCode}
857                              \{
858   \textcolor{keywordflow}{for} (\textcolor{keyword}{const} \textcolor{keyword}{auto}& cb : \hyperlink{classlbann_1_1model_a07b511fef30368494c2ad80922ffd0eb}{m\_callbacks}) \{
859     cb->on\_train\_end(\textcolor{keyword}{this});
860   \}
861 \}
\end{DoxyCode}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classlbann_1_1model_a13bb6edae42c719b78454a8af9549122_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classlbann_1_1model_a24b668fa62ce0215d3b1773636b7eced}\label{classlbann_1_1model_a24b668fa62ce0215d3b1773636b7eced}} 
\index{lbann\+::model@{lbann\+::model}!do\+\_\+weight\+\_\+optimize\+\_\+begin\+\_\+cbs@{do\+\_\+weight\+\_\+optimize\+\_\+begin\+\_\+cbs}}
\index{do\+\_\+weight\+\_\+optimize\+\_\+begin\+\_\+cbs@{do\+\_\+weight\+\_\+optimize\+\_\+begin\+\_\+cbs}!lbann\+::model@{lbann\+::model}}
\subsubsection{\texorpdfstring{do\+\_\+weight\+\_\+optimize\+\_\+begin\+\_\+cbs()}{do\_weight\_optimize\_begin\_cbs()}}
{\footnotesize\ttfamily void lbann\+::model\+::do\+\_\+weight\+\_\+optimize\+\_\+begin\+\_\+cbs (\begin{DoxyParamCaption}\item[{\hyperlink{classlbann_1_1weights}{weights} $\ast$}]{w }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}, {\ttfamily [virtual]}}

Execute callbacks at the start of weight optimization. 

Definition at line 1081 of file model.\+cpp.


\begin{DoxyCode}
1081                                                    \{
1082   \textcolor{keywordflow}{for} (\textcolor{keyword}{const} \textcolor{keyword}{auto}& cb : \hyperlink{classlbann_1_1model_a07b511fef30368494c2ad80922ffd0eb}{m\_callbacks}) \{
1083     \textcolor{keywordflow}{if} (\hyperlink{classlbann_1_1model_ad0cdcba177434b52dc9c4a97be183a92}{get\_cur\_step}() % cb->get\_batch\_interval() == 0) \{
1084       cb->on\_optimize\_begin(\textcolor{keyword}{this}, w);
1085     \}
1086   \}
1087 \}
\end{DoxyCode}
Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classlbann_1_1model_a24b668fa62ce0215d3b1773636b7eced_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classlbann_1_1model_a24b668fa62ce0215d3b1773636b7eced_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classlbann_1_1model_af1e22d2b06d0ca90ae79fd5cf1d82066}\label{classlbann_1_1model_af1e22d2b06d0ca90ae79fd5cf1d82066}} 
\index{lbann\+::model@{lbann\+::model}!do\+\_\+weight\+\_\+optimize\+\_\+end\+\_\+cbs@{do\+\_\+weight\+\_\+optimize\+\_\+end\+\_\+cbs}}
\index{do\+\_\+weight\+\_\+optimize\+\_\+end\+\_\+cbs@{do\+\_\+weight\+\_\+optimize\+\_\+end\+\_\+cbs}!lbann\+::model@{lbann\+::model}}
\subsubsection{\texorpdfstring{do\+\_\+weight\+\_\+optimize\+\_\+end\+\_\+cbs()}{do\_weight\_optimize\_end\_cbs()}}
{\footnotesize\ttfamily void lbann\+::model\+::do\+\_\+weight\+\_\+optimize\+\_\+end\+\_\+cbs (\begin{DoxyParamCaption}\item[{\hyperlink{classlbann_1_1weights}{weights} $\ast$}]{w }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}, {\ttfamily [virtual]}}

Execute callbacks at the end of weight optimization. 

Definition at line 1089 of file model.\+cpp.


\begin{DoxyCode}
1089                                                  \{
1090   \textcolor{keywordflow}{for} (\textcolor{keyword}{const} \textcolor{keyword}{auto}& cb : \hyperlink{classlbann_1_1model_a07b511fef30368494c2ad80922ffd0eb}{m\_callbacks}) \{
1091     \textcolor{keywordflow}{if} (\hyperlink{classlbann_1_1model_ad0cdcba177434b52dc9c4a97be183a92}{get\_cur\_step}() % cb->get\_batch\_interval() == 0) \{
1092       cb->on\_optimize\_end(\textcolor{keyword}{this}, w);
1093     \}
1094   \}
1095 \}
\end{DoxyCode}
Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classlbann_1_1model_af1e22d2b06d0ca90ae79fd5cf1d82066_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classlbann_1_1model_af1e22d2b06d0ca90ae79fd5cf1d82066_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classlbann_1_1model_a4191097fdbcd1686525e9cd150f958ef}\label{classlbann_1_1model_a4191097fdbcd1686525e9cd150f958ef}} 
\index{lbann\+::model@{lbann\+::model}!evaluate@{evaluate}}
\index{evaluate@{evaluate}!lbann\+::model@{lbann\+::model}}
\subsubsection{\texorpdfstring{evaluate()}{evaluate()}}
{\footnotesize\ttfamily void lbann\+::model\+::evaluate (\begin{DoxyParamCaption}\item[{\hyperlink{base_8hpp_a2781a159088df64ed7d47cc91c4dc0a8}{execution\+\_\+mode}}]{mode }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [virtual]}}

Evaluate model. 

Definition at line 643 of file model.\+cpp.


\begin{DoxyCode}
643                                         \{
644 
645   \textcolor{comment}{// Return early if execution mode is invalid}
646   \textcolor{keywordflow}{if} (!\hyperlink{classlbann_1_1model_a2c82c9def03b1c60e48f52fca7708833}{is\_execution\_mode\_valid}(mode)) \textcolor{keywordflow}{return};
647   \textcolor{keywordflow}{if} (mode != \hyperlink{base_8hpp_a2781a159088df64ed7d47cc91c4dc0a8aa617908b172c473cb8e8cda059e55bf0}{execution\_mode::validation}
648       && mode != \hyperlink{base_8hpp_a2781a159088df64ed7d47cc91c4dc0a8aae2b1fca515949e5d54fb22b8ed95575}{execution\_mode::testing}) \{
649     std::stringstream err;
650     err << \_\_FILE\_\_ << \textcolor{stringliteral}{" "} << \_\_LINE\_\_ << \textcolor{stringliteral}{" :: "}
651         << \textcolor{stringliteral}{"invalid execution mode for evaluation"};
652     \textcolor{keywordflow}{throw} lbann\_exception(err.str());
653   \}
654 
655   \textcolor{comment}{// Evaluate on all mini-batches}
656   \hyperlink{classlbann_1_1model_a9c6e9c199ca0ae06b8cf7266971ab9c3}{reset\_epoch\_statistics}(mode);
657   \hyperlink{classlbann_1_1model_a5d188d75f53e0a4c6161500181b27c03}{reset\_mode\_and\_model}(mode);
658   \hyperlink{classlbann_1_1model_ab14bedea05bd5ef549d95ceb2b57b7a4}{do\_evaluate\_begin\_cbs}(mode);
659   \textcolor{keywordflow}{while} (!\hyperlink{classlbann_1_1model_a9716a956bdc7d20dbc8ce8bf08bbcea7}{evaluate\_mini\_batch}(mode)) \{\}
660   \hyperlink{classlbann_1_1model_ab123ed691fb6e9f52d468914a1f4460c}{do\_evaluate\_end\_cbs}(mode);
661 \}
\end{DoxyCode}
Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classlbann_1_1model_a4191097fdbcd1686525e9cd150f958ef_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classlbann_1_1model_a4191097fdbcd1686525e9cd150f958ef_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classlbann_1_1model_a9716a956bdc7d20dbc8ce8bf08bbcea7}\label{classlbann_1_1model_a9716a956bdc7d20dbc8ce8bf08bbcea7}} 
\index{lbann\+::model@{lbann\+::model}!evaluate\+\_\+mini\+\_\+batch@{evaluate\+\_\+mini\+\_\+batch}}
\index{evaluate\+\_\+mini\+\_\+batch@{evaluate\+\_\+mini\+\_\+batch}!lbann\+::model@{lbann\+::model}}
\subsubsection{\texorpdfstring{evaluate\+\_\+mini\+\_\+batch()}{evaluate\_mini\_batch()}}
{\footnotesize\ttfamily bool lbann\+::model\+::evaluate\+\_\+mini\+\_\+batch (\begin{DoxyParamCaption}\item[{\hyperlink{base_8hpp_a2781a159088df64ed7d47cc91c4dc0a8}{execution\+\_\+mode}}]{mode }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}, {\ttfamily [virtual]}}

Evaluate model on a mini-\/batch 

Definition at line 720 of file model.\+cpp.


\begin{DoxyCode}
720                                                    \{
721   \hyperlink{classlbann_1_1model_a5d188d75f53e0a4c6161500181b27c03}{reset\_mode\_and\_model}(mode);
722   \hyperlink{classlbann_1_1model_a156acfa740b92322d44b6c477636eb26}{do\_batch\_begin\_cbs}(mode);
723   \hyperlink{classlbann_1_1model_adc4f845c8e292afe2d8686f459729484}{forward\_prop}(mode);
724   \hyperlink{classlbann_1_1model_a24c50e7108dd7698671aed7df5b22e8b}{m\_objective\_function}->\hyperlink{classlbann_1_1objective__function_a3edb6708894d31ec2a014c6eb8a61df2}{start\_evaluation}(mode, 
      \hyperlink{classlbann_1_1model_a3eaad8fd538b99ecab9afca6dc3327fd}{get\_current\_mini\_batch\_size}());
725   \hyperlink{classlbann_1_1model_a24c50e7108dd7698671aed7df5b22e8b}{m\_objective\_function}->\hyperlink{classlbann_1_1objective__function_ad35ce9b7daa87d197d00b1762b691a02}{finish\_evaluation}(mode, 
      \hyperlink{classlbann_1_1model_a3eaad8fd538b99ecab9afca6dc3327fd}{get\_current\_mini\_batch\_size}());
726   \textcolor{keywordflow}{for} (\textcolor{keyword}{const} \textcolor{keyword}{auto}& m : \hyperlink{classlbann_1_1model_ae75c9aafe9e5a93980cc1bbae986bc79}{m\_metrics}) \{
727     m->evaluate(mode, \hyperlink{classlbann_1_1model_a3eaad8fd538b99ecab9afca6dc3327fd}{get\_current\_mini\_batch\_size}());
728   \}
729   \textcolor{keyword}{const} \textcolor{keywordtype}{bool} finished = \hyperlink{classlbann_1_1model_a7518775e0fd29ed682319193e2d264cc}{update\_layers}();
730   \textcolor{keywordflow}{switch}(\hyperlink{classlbann_1_1model_a2166e2aad256a335ace3bdcae5da2614}{m\_execution\_mode}) \{
731   \textcolor{keywordflow}{case} \hyperlink{base_8hpp_a2781a159088df64ed7d47cc91c4dc0a8aa617908b172c473cb8e8cda059e55bf0}{execution\_mode::validation}:
732     ++\hyperlink{classlbann_1_1model_af69e5f6bf49a4990fd4c18984705ab87}{m\_current\_validation\_step};
733     \textcolor{keywordflow}{break};
734   \textcolor{keywordflow}{case} \hyperlink{base_8hpp_a2781a159088df64ed7d47cc91c4dc0a8aae2b1fca515949e5d54fb22b8ed95575}{execution\_mode::testing}:
735     ++\hyperlink{classlbann_1_1model_a2acf043862ba878cb7a91cb0d26c3791}{m\_current\_testing\_step};
736     \textcolor{keywordflow}{break};
737   \textcolor{keywordflow}{default}:
738     \textcolor{keywordflow}{throw} lbann\_exception(\textcolor{stringliteral}{"Illegal execution mode in evaluate mini-batch function"});
739   \}
740   \hyperlink{classlbann_1_1model_a3dc29e9751a53afda7e171aff335273e}{do\_batch\_end\_cbs}(mode);
741   \textcolor{keywordflow}{return} finished;
742 \}
\end{DoxyCode}
Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classlbann_1_1model_a9716a956bdc7d20dbc8ce8bf08bbcea7_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classlbann_1_1model_a9716a956bdc7d20dbc8ce8bf08bbcea7_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classlbann_1_1model_adc4f845c8e292afe2d8686f459729484}\label{classlbann_1_1model_adc4f845c8e292afe2d8686f459729484}} 
\index{lbann\+::model@{lbann\+::model}!forward\+\_\+prop@{forward\+\_\+prop}}
\index{forward\+\_\+prop@{forward\+\_\+prop}!lbann\+::model@{lbann\+::model}}
\subsubsection{\texorpdfstring{forward\+\_\+prop()}{forward\_prop()}}
{\footnotesize\ttfamily void lbann\+::model\+::forward\+\_\+prop (\begin{DoxyParamCaption}\item[{\hyperlink{base_8hpp_a2781a159088df64ed7d47cc91c4dc0a8}{execution\+\_\+mode}}]{mode }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}, {\ttfamily [virtual]}}

Forward propagation step. 

Reimplemented in \hyperlink{classlbann_1_1greedy__layerwise__autoencoder_af16aa7d2336a3f64e27970241cb2cd3e}{lbann\+::greedy\+\_\+layerwise\+\_\+autoencoder}.



Definition at line 791 of file model.\+cpp.


\begin{DoxyCode}
791                                             \{
792   \hyperlink{classlbann_1_1model_af3c45642bbacf1bd07e8504d7e689ec0}{do\_model\_forward\_prop\_begin\_cbs}(mode);
793   \textcolor{keywordflow}{for} (\textcolor{keyword}{const} \textcolor{keyword}{auto}& layer : \hyperlink{classlbann_1_1model_a0229fc226ec163d1411548446104569d}{m\_layers}) \{
794     \hyperlink{classlbann_1_1model_ac19ce0dd060f9caddd6e14974a6e7713}{do\_layer\_forward\_prop\_begin\_cbs}(mode, layer);
795     layer->forward\_prop();
796     \hyperlink{classlbann_1_1model_a7d6b891f58a7df9726e4f2c48d1f957a}{do\_layer\_forward\_prop\_end\_cbs}(mode, layer);
797   \}
798   \hyperlink{classlbann_1_1model_a9d67f4f3a027327d2db8767759f9c2bf}{do\_model\_forward\_prop\_end\_cbs}(mode);
799 \}
\end{DoxyCode}
Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classlbann_1_1model_adc4f845c8e292afe2d8686f459729484_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classlbann_1_1model_adc4f845c8e292afe2d8686f459729484_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classlbann_1_1model_ad0131e36e763470a7bbf67e83b42cd14}\label{classlbann_1_1model_ad0131e36e763470a7bbf67e83b42cd14}} 
\index{lbann\+::model@{lbann\+::model}!freeze\+\_\+layers\+\_\+under\+\_\+frozen\+\_\+surface@{freeze\+\_\+layers\+\_\+under\+\_\+frozen\+\_\+surface}}
\index{freeze\+\_\+layers\+\_\+under\+\_\+frozen\+\_\+surface@{freeze\+\_\+layers\+\_\+under\+\_\+frozen\+\_\+surface}!lbann\+::model@{lbann\+::model}}
\subsubsection{\texorpdfstring{freeze\+\_\+layers\+\_\+under\+\_\+frozen\+\_\+surface()}{freeze\_layers\_under\_frozen\_surface()}}
{\footnotesize\ttfamily void lbann\+::model\+::freeze\+\_\+layers\+\_\+under\+\_\+frozen\+\_\+surface (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}, {\ttfamily [virtual]}}

In case that a layer is frozen, also freeze layers that precede it if that makes senses for the particular model, such as sequential or siamese. For othe models, users can manually control the behaivor by indicating whether to freeze each layer in the model description prototext. 

Reimplemented in \hyperlink{classlbann_1_1directed__acyclic__graph__model_a9f2a6e9472235ec91c5a50356471b3cb}{lbann\+::directed\+\_\+acyclic\+\_\+graph\+\_\+model}, \hyperlink{classlbann_1_1siamese__model_a3960a32fd45059516f3acb41549e1e92}{lbann\+::siamese\+\_\+model}, and \hyperlink{classlbann_1_1recurrent__model_aa4e43de8bf0d11a0f51dedbcf22a73cc}{lbann\+::recurrent\+\_\+model}.



Definition at line 364 of file model.\+cpp.


\begin{DoxyCode}
364                                                \{
365   \textcolor{keywordtype}{bool} freezing = \textcolor{keyword}{false};
366   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{size\_t} i = \hyperlink{classlbann_1_1model_a0229fc226ec163d1411548446104569d}{m\_layers}.size(); i-- > 0u; ) \{
367     \textcolor{keyword}{auto}& l = \hyperlink{classlbann_1_1model_a0229fc226ec163d1411548446104569d}{m\_layers}[i];
368     \textcolor{keywordflow}{if} (dynamic\_cast<io\_layer*>(l) != \textcolor{keyword}{nullptr}) \{
369       \textcolor{keywordflow}{if} (l->is\_frozen()) \{
370         \textcolor{keywordflow}{throw} lbann\_exception(\textcolor{stringliteral}{"Frozen io\_layer!"});
371       \}
372       \textcolor{keywordflow}{continue};
373     \}
374     \textcolor{keywordflow}{if} (!freezing) \{
375       freezing = l->is\_frozen();
376     \} \textcolor{keywordflow}{else} \{
377       l->freeze();
378     \}
379   \}
380 \}
\end{DoxyCode}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classlbann_1_1model_ad0131e36e763470a7bbf67e83b42cd14_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classlbann_1_1model_a38c71a455870e087c4c07acb78e4477c}\label{classlbann_1_1model_a38c71a455870e087c4c07acb78e4477c}} 
\index{lbann\+::model@{lbann\+::model}!get\+\_\+callbacks@{get\+\_\+callbacks}}
\index{get\+\_\+callbacks@{get\+\_\+callbacks}!lbann\+::model@{lbann\+::model}}
\subsubsection{\texorpdfstring{get\+\_\+callbacks()}{get\_callbacks()}}
{\footnotesize\ttfamily virtual std\+::vector$<$\hyperlink{classlbann_1_1lbann__callback}{lbann\+\_\+callback}$\ast$$>$\& lbann\+::model\+::get\+\_\+callbacks (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [virtual]}}

Get the list of callbacks for the model. 

Definition at line 88 of file model.\+hpp.


\begin{DoxyCode}
88                                                       \{
89     \textcolor{keywordflow}{return} \hyperlink{classlbann_1_1model_a07b511fef30368494c2ad80922ffd0eb}{m\_callbacks};
90   \}
\end{DoxyCode}
Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classlbann_1_1model_a38c71a455870e087c4c07acb78e4477c_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classlbann_1_1model_a38c71a455870e087c4c07acb78e4477c_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classlbann_1_1model_a9e1cfe449d2f4858a32994f6be0042fb}\label{classlbann_1_1model_a9e1cfe449d2f4858a32994f6be0042fb}} 
\index{lbann\+::model@{lbann\+::model}!get\+\_\+comm@{get\+\_\+comm}}
\index{get\+\_\+comm@{get\+\_\+comm}!lbann\+::model@{lbann\+::model}}
\subsubsection{\texorpdfstring{get\+\_\+comm()}{get\_comm()}}
{\footnotesize\ttfamily \hyperlink{classlbann_1_1lbann__comm}{lbann\+\_\+comm}$\ast$ lbann\+::model\+::get\+\_\+comm (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}

Get the model\textquotesingle{}s comm. 

Definition at line 123 of file model.\+hpp.


\begin{DoxyCode}
123                                       \{
124     \textcolor{keywordflow}{return} \hyperlink{classlbann_1_1model_a0eabaf2b2f829fd5db3dfd26df420df0}{m\_comm};
125   \}
\end{DoxyCode}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=550pt]{classlbann_1_1model_a9e1cfe449d2f4858a32994f6be0042fb_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classlbann_1_1model_a1cf70e098524cc5013bce56edd96dfe7}\label{classlbann_1_1model_a1cf70e098524cc5013bce56edd96dfe7}} 
\index{lbann\+::model@{lbann\+::model}!get\+\_\+cur\+\_\+epoch@{get\+\_\+cur\+\_\+epoch}}
\index{get\+\_\+cur\+\_\+epoch@{get\+\_\+cur\+\_\+epoch}!lbann\+::model@{lbann\+::model}}
\subsubsection{\texorpdfstring{get\+\_\+cur\+\_\+epoch()}{get\_cur\_epoch()}}
{\footnotesize\ttfamily int lbann\+::model\+::get\+\_\+cur\+\_\+epoch (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}

Get the current epoch for the model. 

Definition at line 128 of file model.\+hpp.


\begin{DoxyCode}
128                                    \{
129     \textcolor{keywordflow}{return} \hyperlink{classlbann_1_1model_a305fac94b9063e59198c7f936923221a}{m\_current\_epoch};
130   \}
\end{DoxyCode}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=550pt]{classlbann_1_1model_a1cf70e098524cc5013bce56edd96dfe7_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classlbann_1_1model_ad0cdcba177434b52dc9c4a97be183a92}\label{classlbann_1_1model_ad0cdcba177434b52dc9c4a97be183a92}} 
\index{lbann\+::model@{lbann\+::model}!get\+\_\+cur\+\_\+step@{get\+\_\+cur\+\_\+step}}
\index{get\+\_\+cur\+\_\+step@{get\+\_\+cur\+\_\+step}!lbann\+::model@{lbann\+::model}}
\subsubsection{\texorpdfstring{get\+\_\+cur\+\_\+step()}{get\_cur\_step()}}
{\footnotesize\ttfamily int lbann\+::model\+::get\+\_\+cur\+\_\+step (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}

Get the current step for the model. \begin{DoxyRefDesc}{Todo}
\item[\hyperlink{todo__todo000026}{Todo}]This should be renamed to get\+\_\+cur\+\_\+training step and replaced with one that returns the current based on execution mode \end{DoxyRefDesc}


Definition at line 132 of file model.\+hpp.


\begin{DoxyCode}
132                                   \{
133     \textcolor{keywordflow}{return} \hyperlink{classlbann_1_1model_af31a76afc53061747d2170a65e98f692}{m\_current\_step};  
134   \}
\end{DoxyCode}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classlbann_1_1model_ad0cdcba177434b52dc9c4a97be183a92_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classlbann_1_1model_a4040b1f06a2a5d5187a72c06060124c1}\label{classlbann_1_1model_a4040b1f06a2a5d5187a72c06060124c1}} 
\index{lbann\+::model@{lbann\+::model}!get\+\_\+cur\+\_\+testing\+\_\+step@{get\+\_\+cur\+\_\+testing\+\_\+step}}
\index{get\+\_\+cur\+\_\+testing\+\_\+step@{get\+\_\+cur\+\_\+testing\+\_\+step}!lbann\+::model@{lbann\+::model}}
\subsubsection{\texorpdfstring{get\+\_\+cur\+\_\+testing\+\_\+step()}{get\_cur\_testing\_step()}}
{\footnotesize\ttfamily int lbann\+::model\+::get\+\_\+cur\+\_\+testing\+\_\+step (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}

Get the current testing step for the model. 

Definition at line 141 of file model.\+hpp.


\begin{DoxyCode}
141                                           \{
142     \textcolor{keywordflow}{return} \hyperlink{classlbann_1_1model_a2acf043862ba878cb7a91cb0d26c3791}{m\_current\_testing\_step};
143   \}
\end{DoxyCode}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classlbann_1_1model_a4040b1f06a2a5d5187a72c06060124c1_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classlbann_1_1model_a680ef8ecf644dbc821b5e7488d3bd2c4}\label{classlbann_1_1model_a680ef8ecf644dbc821b5e7488d3bd2c4}} 
\index{lbann\+::model@{lbann\+::model}!get\+\_\+cur\+\_\+validation\+\_\+step@{get\+\_\+cur\+\_\+validation\+\_\+step}}
\index{get\+\_\+cur\+\_\+validation\+\_\+step@{get\+\_\+cur\+\_\+validation\+\_\+step}!lbann\+::model@{lbann\+::model}}
\subsubsection{\texorpdfstring{get\+\_\+cur\+\_\+validation\+\_\+step()}{get\_cur\_validation\_step()}}
{\footnotesize\ttfamily int lbann\+::model\+::get\+\_\+cur\+\_\+validation\+\_\+step (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}

Get the current validation step for the model. 

Definition at line 137 of file model.\+hpp.


\begin{DoxyCode}
137                                              \{
138     \textcolor{keywordflow}{return} \hyperlink{classlbann_1_1model_af69e5f6bf49a4990fd4c18984705ab87}{m\_current\_validation\_step};
139   \}
\end{DoxyCode}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classlbann_1_1model_a680ef8ecf644dbc821b5e7488d3bd2c4_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classlbann_1_1model_a3eaad8fd538b99ecab9afca6dc3327fd}\label{classlbann_1_1model_a3eaad8fd538b99ecab9afca6dc3327fd}} 
\index{lbann\+::model@{lbann\+::model}!get\+\_\+current\+\_\+mini\+\_\+batch\+\_\+size@{get\+\_\+current\+\_\+mini\+\_\+batch\+\_\+size}}
\index{get\+\_\+current\+\_\+mini\+\_\+batch\+\_\+size@{get\+\_\+current\+\_\+mini\+\_\+batch\+\_\+size}!lbann\+::model@{lbann\+::model}}
\subsubsection{\texorpdfstring{get\+\_\+current\+\_\+mini\+\_\+batch\+\_\+size()}{get\_current\_mini\_batch\_size()}}
{\footnotesize\ttfamily int lbann\+::model\+::get\+\_\+current\+\_\+mini\+\_\+batch\+\_\+size (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}

Get the model\textquotesingle{}s current mini-\/batch size. 

Definition at line 157 of file model.\+hpp.


\begin{DoxyCode}
157                                                  \{
158     \textcolor{keywordflow}{return} \hyperlink{classlbann_1_1model_a982cea92d230bab5a47df504f02daf98}{m\_current\_mini\_batch\_size};
159   \}
\end{DoxyCode}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classlbann_1_1model_a3eaad8fd538b99ecab9afca6dc3327fd_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classlbann_1_1model_afd569027be9b7a6adb08f486331384ac}\label{classlbann_1_1model_afd569027be9b7a6adb08f486331384ac}} 
\index{lbann\+::model@{lbann\+::model}!get\+\_\+current\+\_\+phase@{get\+\_\+current\+\_\+phase}}
\index{get\+\_\+current\+\_\+phase@{get\+\_\+current\+\_\+phase}!lbann\+::model@{lbann\+::model}}
\subsubsection{\texorpdfstring{get\+\_\+current\+\_\+phase()}{get\_current\_phase()}}
{\footnotesize\ttfamily int lbann\+::model\+::get\+\_\+current\+\_\+phase (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}

Get the current phase (multiple epochs) in layer-\/wise model training. 

Definition at line 175 of file model.\+hpp.


\begin{DoxyCode}
175                                        \{
176     \textcolor{keywordflow}{return} \hyperlink{classlbann_1_1model_a150ef033f81982936e007b10c421f488}{m\_current\_phase};
177   \}
\end{DoxyCode}
Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classlbann_1_1model_afd569027be9b7a6adb08f486331384ac_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classlbann_1_1model_afd569027be9b7a6adb08f486331384ac_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classlbann_1_1model_a2a9b4cfa1c8c91e4131908751f9c4a6a}\label{classlbann_1_1model_a2a9b4cfa1c8c91e4131908751f9c4a6a}} 
\index{lbann\+::model@{lbann\+::model}!get\+\_\+effective\+\_\+mini\+\_\+batch\+\_\+size@{get\+\_\+effective\+\_\+mini\+\_\+batch\+\_\+size}}
\index{get\+\_\+effective\+\_\+mini\+\_\+batch\+\_\+size@{get\+\_\+effective\+\_\+mini\+\_\+batch\+\_\+size}!lbann\+::model@{lbann\+::model}}
\subsubsection{\texorpdfstring{get\+\_\+effective\+\_\+mini\+\_\+batch\+\_\+size()}{get\_effective\_mini\_batch\_size()}}
{\footnotesize\ttfamily int lbann\+::model\+::get\+\_\+effective\+\_\+mini\+\_\+batch\+\_\+size (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}

Get the model\textquotesingle{}s effective mini-\/batch size. 

Definition at line 165 of file model.\+hpp.


\begin{DoxyCode}
165                                                    \{
166     \textcolor{keywordflow}{return} \hyperlink{classlbann_1_1model_a4887fd2816e7c51b24cb8bf8e4a80a1c}{m\_effective\_mini\_batch\_size};
167   \}
\end{DoxyCode}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classlbann_1_1model_a2a9b4cfa1c8c91e4131908751f9c4a6a_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classlbann_1_1model_addb40597cf29aa6d31b6a7d09ef48608}\label{classlbann_1_1model_addb40597cf29aa6d31b6a7d09ef48608}} 
\index{lbann\+::model@{lbann\+::model}!get\+\_\+execution\+\_\+mode@{get\+\_\+execution\+\_\+mode}}
\index{get\+\_\+execution\+\_\+mode@{get\+\_\+execution\+\_\+mode}!lbann\+::model@{lbann\+::model}}
\subsubsection{\texorpdfstring{get\+\_\+execution\+\_\+mode()}{get\_execution\_mode()}}
{\footnotesize\ttfamily \hyperlink{base_8hpp_a2781a159088df64ed7d47cc91c4dc0a8}{execution\+\_\+mode} lbann\+::model\+::get\+\_\+execution\+\_\+mode (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}

Get the model\textquotesingle{}s execution mode. 

Definition at line 149 of file model.\+hpp.


\begin{DoxyCode}
149                                                    \{
150     \textcolor{keywordflow}{return} \hyperlink{classlbann_1_1model_a2166e2aad256a335ace3bdcae5da2614}{m\_execution\_mode};
151   \}
\end{DoxyCode}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=550pt]{classlbann_1_1model_addb40597cf29aa6d31b6a7d09ef48608_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classlbann_1_1model_ae14f4b2cc8882b3739d4aeb25d9e73c9}\label{classlbann_1_1model_ae14f4b2cc8882b3739d4aeb25d9e73c9}} 
\index{lbann\+::model@{lbann\+::model}!get\+\_\+layers@{get\+\_\+layers}}
\index{get\+\_\+layers@{get\+\_\+layers}!lbann\+::model@{lbann\+::model}}
\subsubsection{\texorpdfstring{get\+\_\+layers()}{get\_layers()}}
{\footnotesize\ttfamily virtual const std\+::vector$<$\hyperlink{classlbann_1_1Layer}{Layer} $\ast$$>$\& lbann\+::model\+::get\+\_\+layers (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [virtual]}}

Return the model\textquotesingle{}s layers. 

Definition at line 114 of file model.\+hpp.


\begin{DoxyCode}
114 \{ \textcolor{keywordflow}{return} \hyperlink{classlbann_1_1model_a0229fc226ec163d1411548446104569d}{m\_layers}; \}
\end{DoxyCode}
Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classlbann_1_1model_ae14f4b2cc8882b3739d4aeb25d9e73c9_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classlbann_1_1model_ae14f4b2cc8882b3739d4aeb25d9e73c9_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classlbann_1_1model_a8c311798ff4acaeafdfbf85162ba5084}\label{classlbann_1_1model_a8c311798ff4acaeafdfbf85162ba5084}} 
\index{lbann\+::model@{lbann\+::model}!get\+\_\+max\+\_\+mini\+\_\+batch\+\_\+size@{get\+\_\+max\+\_\+mini\+\_\+batch\+\_\+size}}
\index{get\+\_\+max\+\_\+mini\+\_\+batch\+\_\+size@{get\+\_\+max\+\_\+mini\+\_\+batch\+\_\+size}!lbann\+::model@{lbann\+::model}}
\subsubsection{\texorpdfstring{get\+\_\+max\+\_\+mini\+\_\+batch\+\_\+size()}{get\_max\_mini\_batch\_size()}}
{\footnotesize\ttfamily int lbann\+::model\+::get\+\_\+max\+\_\+mini\+\_\+batch\+\_\+size (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}

Get the model\textquotesingle{}s maximum mini-\/batch size. 

Definition at line 161 of file model.\+hpp.


\begin{DoxyCode}
161                                              \{
162     \textcolor{keywordflow}{return} \hyperlink{classlbann_1_1model_acc496503e7cf8d635e5a31ba09b3c81a}{m\_max\_mini\_batch\_size};
163   \}
\end{DoxyCode}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classlbann_1_1model_a8c311798ff4acaeafdfbf85162ba5084_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classlbann_1_1model_a84c738fd219b8c2936e76a9360f68936}\label{classlbann_1_1model_a84c738fd219b8c2936e76a9360f68936}} 
\index{lbann\+::model@{lbann\+::model}!get\+\_\+metrics@{get\+\_\+metrics}}
\index{get\+\_\+metrics@{get\+\_\+metrics}!lbann\+::model@{lbann\+::model}}
\subsubsection{\texorpdfstring{get\+\_\+metrics()}{get\_metrics()}}
{\footnotesize\ttfamily virtual const std\+::vector$<$\hyperlink{classlbann_1_1metric}{metric} $\ast$$>$\& lbann\+::model\+::get\+\_\+metrics (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [virtual]}}

Return the model\textquotesingle{}s metrics. 

Definition at line 106 of file model.\+hpp.


\begin{DoxyCode}
106                                                          \{
107     \textcolor{keywordflow}{return} \hyperlink{classlbann_1_1model_ae75c9aafe9e5a93980cc1bbae986bc79}{m\_metrics};
108   \}
\end{DoxyCode}
Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classlbann_1_1model_a84c738fd219b8c2936e76a9360f68936_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classlbann_1_1model_a84c738fd219b8c2936e76a9360f68936_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classlbann_1_1model_a32a189033b8ff92d233781b1039c70f1}\label{classlbann_1_1model_a32a189033b8ff92d233781b1039c70f1}} 
\index{lbann\+::model@{lbann\+::model}!get\+\_\+num\+\_\+iterations\+\_\+per\+\_\+epoch@{get\+\_\+num\+\_\+iterations\+\_\+per\+\_\+epoch}}
\index{get\+\_\+num\+\_\+iterations\+\_\+per\+\_\+epoch@{get\+\_\+num\+\_\+iterations\+\_\+per\+\_\+epoch}!lbann\+::model@{lbann\+::model}}
\subsubsection{\texorpdfstring{get\+\_\+num\+\_\+iterations\+\_\+per\+\_\+epoch()}{get\_num\_iterations\_per\_epoch()}}
{\footnotesize\ttfamily int lbann\+::model\+::get\+\_\+num\+\_\+iterations\+\_\+per\+\_\+epoch (\begin{DoxyParamCaption}\item[{\hyperlink{base_8hpp_a2781a159088df64ed7d47cc91c4dc0a8}{execution\+\_\+mode}}]{mode }\end{DoxyParamCaption}) const}



Definition at line 626 of file model.\+cpp.


\begin{DoxyCode}
626                                                                  \{
627   generic\_input\_layer* input = \textcolor{keyword}{nullptr};
628   \textcolor{keywordflow}{for} (\textcolor{keyword}{auto}&& l : \hyperlink{classlbann_1_1model_a0229fc226ec163d1411548446104569d}{m\_layers}) \{
629     input = \textcolor{keyword}{dynamic\_cast<}generic\_input\_layer*\textcolor{keyword}{>}(l);
630     \textcolor{keywordflow}{if} (input != \textcolor{keyword}{nullptr}) \{ \textcolor{keywordflow}{break}; \}
631   \}
632   \textcolor{keywordflow}{if} (input == \textcolor{keyword}{nullptr}) \{
633     \textcolor{keywordflow}{return} 0;
634   \} \textcolor{keywordflow}{else} \{
635     \textcolor{keywordflow}{return} input->get\_num\_iterations\_per\_epoch(mode);
636   \}
637 \}
\end{DoxyCode}
Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classlbann_1_1model_a32a189033b8ff92d233781b1039c70f1_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classlbann_1_1model_a32a189033b8ff92d233781b1039c70f1_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classlbann_1_1model_aee5530467523924a662dec891b9a7993}\label{classlbann_1_1model_aee5530467523924a662dec891b9a7993}} 
\index{lbann\+::model@{lbann\+::model}!get\+\_\+objective\+\_\+function@{get\+\_\+objective\+\_\+function}}
\index{get\+\_\+objective\+\_\+function@{get\+\_\+objective\+\_\+function}!lbann\+::model@{lbann\+::model}}
\subsubsection{\texorpdfstring{get\+\_\+objective\+\_\+function()}{get\_objective\_function()}}
{\footnotesize\ttfamily \hyperlink{classlbann_1_1objective__function}{objective\+\_\+function}$\ast$ lbann\+::model\+::get\+\_\+objective\+\_\+function (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}

Return the model\textquotesingle{}s objective function. 

Definition at line 101 of file model.\+hpp.


\begin{DoxyCode}
101                                                      \{
102     \textcolor{keywordflow}{return} \hyperlink{classlbann_1_1model_a24c50e7108dd7698671aed7df5b22e8b}{m\_objective\_function};
103   \}
\end{DoxyCode}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classlbann_1_1model_aee5530467523924a662dec891b9a7993_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classlbann_1_1model_a90363b6a20269cf7197701e49f1f52a3}\label{classlbann_1_1model_a90363b6a20269cf7197701e49f1f52a3}} 
\index{lbann\+::model@{lbann\+::model}!get\+\_\+terminate\+\_\+training@{get\+\_\+terminate\+\_\+training}}
\index{get\+\_\+terminate\+\_\+training@{get\+\_\+terminate\+\_\+training}!lbann\+::model@{lbann\+::model}}
\subsubsection{\texorpdfstring{get\+\_\+terminate\+\_\+training()}{get\_terminate\_training()}}
{\footnotesize\ttfamily bool lbann\+::model\+::get\+\_\+terminate\+\_\+training (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}

Return true if the flag to stop training is set. 

Definition at line 191 of file model.\+hpp.


\begin{DoxyCode}
191                                       \{
192     \textcolor{keywordflow}{return} \hyperlink{classlbann_1_1model_a639f9c3fcb81b905085f8b1932f8920f}{m\_terminate\_training};
193   \}
\end{DoxyCode}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classlbann_1_1model_a90363b6a20269cf7197701e49f1f52a3_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classlbann_1_1model_ac0a89794f1f51e7c502fff2745c973e6}\label{classlbann_1_1model_ac0a89794f1f51e7c502fff2745c973e6}} 
\index{lbann\+::model@{lbann\+::model}!get\+\_\+weights@{get\+\_\+weights}}
\index{get\+\_\+weights@{get\+\_\+weights}!lbann\+::model@{lbann\+::model}}
\subsubsection{\texorpdfstring{get\+\_\+weights()}{get\_weights()}}
{\footnotesize\ttfamily const std\+::vector$<$\hyperlink{classlbann_1_1weights}{weights} $\ast$$>$\& lbann\+::model\+::get\+\_\+weights (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}

Return the model\textquotesingle{}s weights. 

Definition at line 120 of file model.\+hpp.


\begin{DoxyCode}
120 \{ \textcolor{keywordflow}{return} \hyperlink{classlbann_1_1model_aaf9adefe4497d90bf5bc2567e71bfb00}{m\_weights}; \}
\end{DoxyCode}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classlbann_1_1model_ac0a89794f1f51e7c502fff2745c973e6_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classlbann_1_1model_a2c82c9def03b1c60e48f52fca7708833}\label{classlbann_1_1model_a2c82c9def03b1c60e48f52fca7708833}} 
\index{lbann\+::model@{lbann\+::model}!is\+\_\+execution\+\_\+mode\+\_\+valid@{is\+\_\+execution\+\_\+mode\+\_\+valid}}
\index{is\+\_\+execution\+\_\+mode\+\_\+valid@{is\+\_\+execution\+\_\+mode\+\_\+valid}!lbann\+::model@{lbann\+::model}}
\subsubsection{\texorpdfstring{is\+\_\+execution\+\_\+mode\+\_\+valid()}{is\_execution\_mode\_valid()}}
{\footnotesize\ttfamily bool lbann\+::model\+::is\+\_\+execution\+\_\+mode\+\_\+valid (\begin{DoxyParamCaption}\item[{\hyperlink{base_8hpp_a2781a159088df64ed7d47cc91c4dc0a8}{execution\+\_\+mode}}]{mode }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [protected]}, {\ttfamily [virtual]}}

Check if the model execution mode is valid. 

Definition at line 257 of file model.\+cpp.


\begin{DoxyCode}
257                                                              \{
258   \textcolor{keywordflow}{for} (\textcolor{keyword}{const} \textcolor{keyword}{auto}& layer : \hyperlink{classlbann_1_1model_a0229fc226ec163d1411548446104569d}{m\_layers}) \{
259     \textcolor{keyword}{const} \textcolor{keyword}{auto} *input = \textcolor{keyword}{dynamic\_cast<}\textcolor{keyword}{const }generic\_input\_layer*\textcolor{keyword}{>}(layer);
260     \textcolor{keywordflow}{if} (input != \textcolor{keyword}{nullptr}
261         && !input->is\_execution\_mode\_valid(mode)) \{
262       \textcolor{keywordflow}{return} \textcolor{keyword}{false};
263     \}
264   \}
265   \textcolor{keywordflow}{return} \textcolor{keyword}{true};
266 \}
\end{DoxyCode}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classlbann_1_1model_a2c82c9def03b1c60e48f52fca7708833_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classlbann_1_1model_a2e02dda11636e015ea0c892ffa541881}\label{classlbann_1_1model_a2e02dda11636e015ea0c892ffa541881}} 
\index{lbann\+::model@{lbann\+::model}!load\+\_\+from\+\_\+checkpoint\+\_\+shared@{load\+\_\+from\+\_\+checkpoint\+\_\+shared}}
\index{load\+\_\+from\+\_\+checkpoint\+\_\+shared@{load\+\_\+from\+\_\+checkpoint\+\_\+shared}!lbann\+::model@{lbann\+::model}}
\subsubsection{\texorpdfstring{load\+\_\+from\+\_\+checkpoint\+\_\+shared()}{load\_from\_checkpoint\_shared()}}
{\footnotesize\ttfamily bool lbann\+::model\+::load\+\_\+from\+\_\+checkpoint\+\_\+shared (\begin{DoxyParamCaption}\item[{\hyperlink{classlbann_1_1persist}{persist} \&}]{p }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [virtual]}}

Restore model by reading checkpoint from given file descriptor, return number of bytes read 

Reimplemented in \hyperlink{classlbann_1_1sequential__model_aa52cca299012c67f88483206d50abb21}{lbann\+::sequential\+\_\+model}.



Definition at line 1173 of file model.\+cpp.


\begin{DoxyCode}
1173                                                   \{
1174   \textcolor{comment}{// have rank 0 read the file}
1175   \textcolor{comment}{// read state from file}
1176   \textcolor{keyword}{struct }lbann\_model\_header header;
1177   \textcolor{keywordflow}{if} (p.get\_rank() == 0) \{
1178     p.read\_uint32(\hyperlink{namespacelbann_adee41f31f15f3906cbdcce4a1417eb56a61b3a8faa9c1091806675c230a9abe64}{persist\_type::train}, \textcolor{stringliteral}{"execution\_mode"},     &header.execution\_mode);
1179     p.read\_uint32(\hyperlink{namespacelbann_adee41f31f15f3906cbdcce4a1417eb56a61b3a8faa9c1091806675c230a9abe64}{persist\_type::train}, \textcolor{stringliteral}{"terminate\_training"}, &header.terminate\_training)
      ;
1180     p.read\_uint64(\hyperlink{namespacelbann_adee41f31f15f3906cbdcce4a1417eb56a61b3a8faa9c1091806675c230a9abe64}{persist\_type::train}, \textcolor{stringliteral}{"current\_epoch"},      &header.current\_epoch);
1181     p.read\_uint64(\hyperlink{namespacelbann_adee41f31f15f3906cbdcce4a1417eb56a61b3a8faa9c1091806675c230a9abe64}{persist\_type::train}, \textcolor{stringliteral}{"current\_step"},       &header.current\_step);
1182     p.read\_uint64(\hyperlink{namespacelbann_adee41f31f15f3906cbdcce4a1417eb56af9ab05454998236921a6b0e281fae632}{persist\_type::validate}, \textcolor{stringliteral}{"current\_validation\_step"},       &header.
      current\_validation\_step);
1183     p.read\_uint64(\hyperlink{namespacelbann_adee41f31f15f3906cbdcce4a1417eb56a61b3a8faa9c1091806675c230a9abe64}{persist\_type::train}, \textcolor{stringliteral}{"current\_testing\_step"},       &header.
      current\_testing\_step);
1184     p.read\_uint32(\hyperlink{namespacelbann_adee41f31f15f3906cbdcce4a1417eb56a61b3a8faa9c1091806675c230a9abe64}{persist\_type::train}, \textcolor{stringliteral}{"max\_mini\_batch\_size"},      &header.
      max\_mini\_batch\_size);
1185     p.read\_uint32(\hyperlink{namespacelbann_adee41f31f15f3906cbdcce4a1417eb56a61b3a8faa9c1091806675c230a9abe64}{persist\_type::train}, \textcolor{stringliteral}{"current\_mini\_batch\_size"},      &header.
      current\_mini\_batch\_size);
1186     p.read\_uint32(\hyperlink{namespacelbann_adee41f31f15f3906cbdcce4a1417eb56a61b3a8faa9c1091806675c230a9abe64}{persist\_type::train}, \textcolor{stringliteral}{"current\_phase"},      &header.current\_phase);
1187     \hyperlink{namespacelbann_ab76114a0e8cc90c28bcb9e7d01eec89a}{load\_rng\_from\_checkpoint\_shared}(p);
1188   \}
1189   
1190 
1191   \textcolor{comment}{// TODO: this assumes homogeneous processors}
1192   \textcolor{comment}{// broadcast state from rank 0}
1193   MPI\_Bcast(&header, \textcolor{keyword}{sizeof}(header), MPI\_BYTE, 0, MPI\_COMM\_WORLD);
1194 
1195   \textcolor{comment}{// set our member params from values read from disk}
1196   \hyperlink{classlbann_1_1model_a2166e2aad256a335ace3bdcae5da2614}{m\_execution\_mode}     = (\hyperlink{base_8hpp_a2781a159088df64ed7d47cc91c4dc0a8}{execution\_mode}) header.execution\_mode;
1197   \hyperlink{classlbann_1_1model_a639f9c3fcb81b905085f8b1932f8920f}{m\_terminate\_training} = (\textcolor{keywordtype}{bool})           header.terminate\_training;
1198   \hyperlink{classlbann_1_1model_a305fac94b9063e59198c7f936923221a}{m\_current\_epoch}      = (int)            header.current\_epoch;
1199   \hyperlink{classlbann_1_1model_af31a76afc53061747d2170a65e98f692}{m\_current\_step}       = (\textcolor{keywordtype}{int})            header.current\_step;
1200   \hyperlink{classlbann_1_1model_af69e5f6bf49a4990fd4c18984705ab87}{m\_current\_validation\_step} = (int)       header.current\_validation\_step;
1201   \hyperlink{classlbann_1_1model_a2acf043862ba878cb7a91cb0d26c3791}{m\_current\_testing\_step} = (\textcolor{keywordtype}{int})          header.current\_testing\_step;
1202   \hyperlink{classlbann_1_1model_acc496503e7cf8d635e5a31ba09b3c81a}{m\_max\_mini\_batch\_size} = (int)           header.max\_mini\_batch\_size;
1203   \hyperlink{classlbann_1_1model_a982cea92d230bab5a47df504f02daf98}{m\_current\_mini\_batch\_size} = (\textcolor{keywordtype}{int})       header.current\_mini\_batch\_size;
1204   \hyperlink{classlbann_1_1model_a150ef033f81982936e007b10c421f488}{m\_current\_phase}      =                  header.current\_phase;
1205   \textcolor{comment}{//for (const auto& m : m\_metrics) \{}
1206   \textcolor{comment}{//  m->load\_from\_checkpoint\_shared(p);}
1207   \textcolor{comment}{//\}}
1208   \textcolor{keywordflow}{return} \textcolor{keyword}{true};
1209 \}
\end{DoxyCode}
Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classlbann_1_1model_a2e02dda11636e015ea0c892ffa541881_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classlbann_1_1model_a2e02dda11636e015ea0c892ffa541881_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classlbann_1_1model_a7e471599eded909c4ce7178689dd13b6}\label{classlbann_1_1model_a7e471599eded909c4ce7178689dd13b6}} 
\index{lbann\+::model@{lbann\+::model}!name@{name}}
\index{name@{name}!lbann\+::model@{lbann\+::model}}
\subsubsection{\texorpdfstring{name()}{name()}}
{\footnotesize\ttfamily virtual std\+::string lbann\+::model\+::name (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [pure virtual]}}

Return the model\textquotesingle{}s name. 

Implemented in \hyperlink{classlbann_1_1recurrent__model_a01b4f6dce63bc2e0545b2bd7603b32b2}{lbann\+::recurrent\+\_\+model}, \hyperlink{classlbann_1_1directed__acyclic__graph__model_ad2b97ab2670e76538a754e28e19b5c94}{lbann\+::directed\+\_\+acyclic\+\_\+graph\+\_\+model}, \hyperlink{classlbann_1_1sequential__model_abf2b69dacb5ee3165289377e1d961cd5}{lbann\+::sequential\+\_\+model}, \hyperlink{classlbann_1_1greedy__layerwise__autoencoder_a975ea739b9a97e76fac46ce8191dea84}{lbann\+::greedy\+\_\+layerwise\+\_\+autoencoder}, and \hyperlink{classlbann_1_1siamese__model_ad745961977aa395e11543d263103126e}{lbann\+::siamese\+\_\+model}.

\mbox{\Hypertarget{classlbann_1_1model_a05e8bd6c745ce4414be98462147ec52e}\label{classlbann_1_1model_a05e8bd6c745ce4414be98462147ec52e}} 
\index{lbann\+::model@{lbann\+::model}!operator=@{operator=}}
\index{operator=@{operator=}!lbann\+::model@{lbann\+::model}}
\subsubsection{\texorpdfstring{operator=()}{operator=()}}
{\footnotesize\ttfamily \hyperlink{classlbann_1_1model}{model} \& lbann\+::model\+::operator= (\begin{DoxyParamCaption}\item[{const \hyperlink{classlbann_1_1model}{model} \&}]{other }\end{DoxyParamCaption})}

Copy assignment operator. 

Definition at line 114 of file model.\+cpp.


\begin{DoxyCode}
114                                           \{
115 
116   \textcolor{comment}{// Delete objects}
117   \textcolor{keywordflow}{if} (\hyperlink{classlbann_1_1model_a24c50e7108dd7698671aed7df5b22e8b}{m\_objective\_function} != \textcolor{keyword}{nullptr}) \{ \textcolor{keyword}{delete} 
      \hyperlink{classlbann_1_1model_a24c50e7108dd7698671aed7df5b22e8b}{m\_objective\_function}; \}
118   \textcolor{keywordflow}{for} (\textcolor{keyword}{const} \textcolor{keyword}{auto}& m : \hyperlink{classlbann_1_1model_ae75c9aafe9e5a93980cc1bbae986bc79}{m\_metrics})      \{ \textcolor{keyword}{delete} m; \}
119   \textcolor{keywordflow}{for} (\textcolor{keyword}{const} \textcolor{keyword}{auto}& cb : \hyperlink{classlbann_1_1model_a07b511fef30368494c2ad80922ffd0eb}{m\_callbacks})   \{ \textcolor{keyword}{delete} cb; \}
120   \textcolor{keywordflow}{for} (\textcolor{keyword}{const} \textcolor{keyword}{auto}& l : \hyperlink{classlbann_1_1model_a0229fc226ec163d1411548446104569d}{m\_layers})       \{ \textcolor{keyword}{delete} l; \}
121   \textcolor{keywordflow}{for} (\textcolor{keyword}{const} \textcolor{keyword}{auto}& w : \hyperlink{classlbann_1_1model_aaf9adefe4497d90bf5bc2567e71bfb00}{m\_weights})      \{ \textcolor{keyword}{delete} w; \}
122 
123   \textcolor{comment}{// Shallow copies}
124   \hyperlink{classlbann_1_1model_a2166e2aad256a335ace3bdcae5da2614}{m\_execution\_mode} = other.m\_execution\_mode;
125   \hyperlink{classlbann_1_1model_a639f9c3fcb81b905085f8b1932f8920f}{m\_terminate\_training} = other.m\_terminate\_training;
126   \hyperlink{classlbann_1_1model_a305fac94b9063e59198c7f936923221a}{m\_current\_epoch} = other.m\_current\_epoch;
127   \hyperlink{classlbann_1_1model_af31a76afc53061747d2170a65e98f692}{m\_current\_step} = other.m\_current\_step;
128   \hyperlink{classlbann_1_1model_af69e5f6bf49a4990fd4c18984705ab87}{m\_current\_validation\_step} = other.m\_current\_validation\_step;
129   \hyperlink{classlbann_1_1model_a2acf043862ba878cb7a91cb0d26c3791}{m\_current\_testing\_step} = other.m\_current\_testing\_step;
130   \hyperlink{classlbann_1_1model_acc496503e7cf8d635e5a31ba09b3c81a}{m\_max\_mini\_batch\_size} = other.m\_max\_mini\_batch\_size;
131   \hyperlink{classlbann_1_1model_a982cea92d230bab5a47df504f02daf98}{m\_current\_mini\_batch\_size} = other.m\_current\_mini\_batch\_size;
132   \hyperlink{classlbann_1_1model_a4887fd2816e7c51b24cb8bf8e4a80a1c}{m\_effective\_mini\_batch\_size} = other.m\_effective\_mini\_batch\_size;
133   \hyperlink{classlbann_1_1model_a150ef033f81982936e007b10c421f488}{m\_current\_phase} = other.m\_current\_phase;
134   \hyperlink{classlbann_1_1model_a0eabaf2b2f829fd5db3dfd26df420df0}{m\_comm} = other.m\_comm;
135 
136   \textcolor{comment}{// Deep copies}
137   \hyperlink{classlbann_1_1model_a24c50e7108dd7698671aed7df5b22e8b}{m\_objective\_function} = other.m\_objective\_function;
138   m\_metrics            = other.m\_metrics;
139   m\_callbacks          = other.m\_callbacks;
140   m\_layers             = other.m\_layers;
141   m\_weights            = other.m\_weights;
142   \textcolor{keywordflow}{if} (\hyperlink{classlbann_1_1model_a24c50e7108dd7698671aed7df5b22e8b}{m\_objective\_function} != \textcolor{keyword}{nullptr}) \{
143     \hyperlink{classlbann_1_1model_a24c50e7108dd7698671aed7df5b22e8b}{m\_objective\_function} = \hyperlink{classlbann_1_1model_a24c50e7108dd7698671aed7df5b22e8b}{m\_objective\_function}->
      \hyperlink{classlbann_1_1objective__function_a8ab03f0dc1d2c067b895f5859bacd810}{copy}();
144   \}
145   \textcolor{keywordflow}{for} (\textcolor{keyword}{auto}& m : m\_metrics) \{
146     m = m->\hyperlink{classlbann_1_1objective__function_a8ab03f0dc1d2c067b895f5859bacd810}{copy}();
147   \}
148   \textcolor{keywordflow}{for} (\textcolor{keyword}{auto}& cb : m\_callbacks) \{
149     cb = cb->\hyperlink{classlbann_1_1objective__function_a8ab03f0dc1d2c067b895f5859bacd810}{copy}();
150   \}
151   std::unordered\_map<Layer *,Layer *> layer\_map;
152   \textcolor{keywordflow}{for} (\textcolor{keyword}{auto}& l : m\_layers) \{
153     l = layer\_map[l] = l->\hyperlink{classlbann_1_1objective__function_a8ab03f0dc1d2c067b895f5859bacd810}{copy}();
154     l->set\_model(\textcolor{keyword}{this});
155   \}
156   std::unordered\_map<weights *,weights *> weights\_map;
157   \textcolor{keywordflow}{for} (\textcolor{keyword}{auto}& w : m\_weights) \{
158     w = weights\_map[w] = w->\hyperlink{classlbann_1_1objective__function_a8ab03f0dc1d2c067b895f5859bacd810}{copy}();
159   \}
160   \hyperlink{classlbann_1_1model_ac6cc0f5d850cfb997bbbc70eefa0d68f}{remap\_pointers}(layer\_map, weights\_map);
161 
162   \textcolor{keywordflow}{return} *\textcolor{keyword}{this};
163 \}
\end{DoxyCode}
Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classlbann_1_1model_a05e8bd6c745ce4414be98462147ec52e_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classlbann_1_1model_a31c281b63593a0ec7110664f7309b01a}\label{classlbann_1_1model_a31c281b63593a0ec7110664f7309b01a}} 
\index{lbann\+::model@{lbann\+::model}!permute\+\_\+layers@{permute\+\_\+layers}}
\index{permute\+\_\+layers@{permute\+\_\+layers}!lbann\+::model@{lbann\+::model}}
\subsubsection{\texorpdfstring{permute\+\_\+layers()}{permute\_layers()}}
{\footnotesize\ttfamily void lbann\+::model\+::permute\+\_\+layers (\begin{DoxyParamCaption}\item[{const std\+::vector$<$ int $>$ \&}]{permutation }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}, {\ttfamily [virtual]}}

Reorder layers. 

Definition at line 286 of file model.\+cpp.


\begin{DoxyCode}
286                                                             \{
287   \textcolor{keyword}{const} \textcolor{keyword}{auto} original\_layers = \hyperlink{classlbann_1_1model_a0229fc226ec163d1411548446104569d}{m\_layers};
288   \hyperlink{classlbann_1_1model_a0229fc226ec163d1411548446104569d}{m\_layers}.clear();
289   \textcolor{keywordflow}{for} (\textcolor{keyword}{const} \textcolor{keyword}{auto}& i : permutation) \{
290     \hyperlink{classlbann_1_1model_a0229fc226ec163d1411548446104569d}{m\_layers}.push\_back(original\_layers[i]);
291   \}
292 \}
\end{DoxyCode}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classlbann_1_1model_a31c281b63593a0ec7110664f7309b01a_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classlbann_1_1model_ab173fd93a80a2980059ff292c308cbf5}\label{classlbann_1_1model_ab173fd93a80a2980059ff292c308cbf5}} 
\index{lbann\+::model@{lbann\+::model}!print\+\_\+layer\+\_\+description@{print\+\_\+layer\+\_\+description}}
\index{print\+\_\+layer\+\_\+description@{print\+\_\+layer\+\_\+description}!lbann\+::model@{lbann\+::model}}
\subsubsection{\texorpdfstring{print\+\_\+layer\+\_\+description()}{print\_layer\_description()}}
{\footnotesize\ttfamily std\+::string lbann\+::model\+::print\+\_\+layer\+\_\+description (\begin{DoxyParamCaption}\item[{const \hyperlink{classlbann_1_1Layer}{Layer} $\ast$}]{layer }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [protected]}, {\ttfamily [virtual]}}

Print out the description of a layer set up. 

Definition at line 294 of file model.\+cpp.


\begin{DoxyCode}
294                                                                  \{
295   \textcolor{keywordflow}{if} (layer == \textcolor{keyword}{nullptr}) \textcolor{keywordflow}{return} std::string();
296   std::stringstream os;
297   \textcolor{comment}{//std::string description = layer->get\_description();}
298   os << std::setw(12) << layer->get\_name() << \textcolor{stringliteral}{":["} << std::setw(18)
299      << layer->get\_type() <<  \textcolor{stringliteral}{"] Set up a layer with input "} << std::setw(7)
300      << layer->get\_num\_prev\_neurons() << \textcolor{stringliteral}{" and "} << std::setw(7)
301      << layer->get\_num\_neurons() << \textcolor{stringliteral}{" neurons."};
302   std::string s = layer->get\_topo\_description();
303   \textcolor{keywordflow}{if}(s != \textcolor{stringliteral}{""}) \{
304     os << \textcolor{stringliteral}{" ("} << s << \textcolor{stringliteral}{")"};
305   \}
306   \textcolor{keywordflow}{if} (layer->is\_frozen()) \{
307     os << \textcolor{stringliteral}{" frozen"};
308   \}
309   \textcolor{keywordflow}{return} os.str();
310 \}
\end{DoxyCode}
Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classlbann_1_1model_ab173fd93a80a2980059ff292c308cbf5_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classlbann_1_1model_ab173fd93a80a2980059ff292c308cbf5_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classlbann_1_1model_ac6cc0f5d850cfb997bbbc70eefa0d68f}\label{classlbann_1_1model_ac6cc0f5d850cfb997bbbc70eefa0d68f}} 
\index{lbann\+::model@{lbann\+::model}!remap\+\_\+pointers@{remap\+\_\+pointers}}
\index{remap\+\_\+pointers@{remap\+\_\+pointers}!lbann\+::model@{lbann\+::model}}
\subsubsection{\texorpdfstring{remap\+\_\+pointers()}{remap\_pointers()}}
{\footnotesize\ttfamily void lbann\+::model\+::remap\+\_\+pointers (\begin{DoxyParamCaption}\item[{const std\+::unordered\+\_\+map$<$ \hyperlink{classlbann_1_1Layer}{Layer} $\ast$, \hyperlink{classlbann_1_1Layer}{Layer} $\ast$$>$ \&}]{layer\+\_\+map,  }\item[{const std\+::unordered\+\_\+map$<$ \hyperlink{classlbann_1_1weights}{weights} $\ast$, \hyperlink{classlbann_1_1weights}{weights} $\ast$$>$ \&}]{weights\+\_\+map }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}, {\ttfamily [virtual]}}

Remap pointers. \hyperlink{classlbann_1_1Layer}{Layer} and weights pointers are remapped using the provided maps. If a pointer is not a key in the corresponding map, the pointer is not changed. 

Definition at line 312 of file model.\+cpp.


\begin{DoxyCode}
313                                                                                      \{
314 
315   \textcolor{comment}{// Fix pointers in objective function}
316   \textcolor{keywordflow}{if} (\hyperlink{classlbann_1_1model_a24c50e7108dd7698671aed7df5b22e8b}{m\_objective\_function} != \textcolor{keyword}{nullptr}) \{
317     \textcolor{keyword}{auto} layer\_pointers = \hyperlink{classlbann_1_1model_a24c50e7108dd7698671aed7df5b22e8b}{m\_objective\_function}->
      \hyperlink{classlbann_1_1objective__function_a1055da2236a7faf79c5a2632f8dfc683}{get\_layer\_pointers}();
318     \textcolor{keywordflow}{for} (\textcolor{keyword}{auto}& layer\_pointer : layer\_pointers) \{
319       \textcolor{keywordflow}{if} (layer\_map.count(layer\_pointer) > 0) \{
320         layer\_pointer = layer\_map.at(layer\_pointer);
321       \}
322     \}
323     \hyperlink{classlbann_1_1model_a24c50e7108dd7698671aed7df5b22e8b}{m\_objective\_function}->\hyperlink{classlbann_1_1objective__function_a0f934e078b55528dd0ec1ec8ad34c73b}{set\_layer\_pointers}(layer\_pointers);
324     \textcolor{keyword}{auto} weights\_pointers = \hyperlink{classlbann_1_1model_a24c50e7108dd7698671aed7df5b22e8b}{m\_objective\_function}->
      \hyperlink{classlbann_1_1objective__function_a8e37f76e42f6f341ea3592001b3794e5}{get\_weights\_pointers}();
325     \textcolor{keywordflow}{for} (\textcolor{keyword}{auto}& weights\_pointer : weights\_pointers) \{
326       \textcolor{keywordflow}{if} (weights\_map.count(weights\_pointer) > 0) \{
327         weights\_pointer = weights\_map.at(weights\_pointer);
328       \}
329     \}
330     \hyperlink{classlbann_1_1model_a24c50e7108dd7698671aed7df5b22e8b}{m\_objective\_function}->\hyperlink{classlbann_1_1objective__function_a9c3211354ca1cee8a7ba219f4e56e03c}{set\_weights\_pointers}(weights\_pointers);
331   \}
332 
333   \textcolor{comment}{// Fix pointers in metrics}
334   \textcolor{keywordflow}{for} (\textcolor{keyword}{const} \textcolor{keyword}{auto}& m : \hyperlink{classlbann_1_1model_ae75c9aafe9e5a93980cc1bbae986bc79}{m\_metrics}) \{
335     \textcolor{keyword}{auto} layer\_pointers = m->get\_layer\_pointers();
336     \textcolor{keywordflow}{for} (\textcolor{keyword}{auto}& layer\_pointer : layer\_pointers) \{
337       \textcolor{keywordflow}{if} (layer\_map.count(layer\_pointer) > 0) \{
338         layer\_pointer = layer\_map.at(layer\_pointer);
339       \}
340     \}
341     m->set\_layer\_pointers(layer\_pointers);
342   \}
343 
344   \textcolor{comment}{// Fix pointers in layers}
345   \textcolor{keywordflow}{for} (\textcolor{keyword}{const} \textcolor{keyword}{auto}& l : \hyperlink{classlbann_1_1model_a0229fc226ec163d1411548446104569d}{m\_layers}) \{
346     \textcolor{keyword}{auto} layer\_pointers = l->get\_layer\_pointers();
347     \textcolor{keywordflow}{for} (\textcolor{keyword}{auto}& layer\_pointer : layer\_pointers) \{
348       \textcolor{keywordflow}{if} (layer\_map.count(layer\_pointer) > 0) \{
349         layer\_pointer = layer\_map.at(layer\_pointer);
350       \}
351     \}
352     l->set\_layer\_pointers(layer\_pointers);
353     \textcolor{keyword}{auto} weights\_pointers = l->get\_weights();
354     \textcolor{keywordflow}{for} (\textcolor{keyword}{auto}& weights\_pointer : weights\_pointers) \{
355       \textcolor{keywordflow}{if} (weights\_map.count(weights\_pointer) > 0) \{
356         weights\_pointer = weights\_map.at(weights\_pointer);
357       \}
358     \}
359     l->set\_weights(weights\_pointers);
360   \}
361 
362 \}
\end{DoxyCode}
Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=349pt]{classlbann_1_1model_ac6cc0f5d850cfb997bbbc70eefa0d68f_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classlbann_1_1model_ac6cc0f5d850cfb997bbbc70eefa0d68f_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classlbann_1_1model_aaed20219476dc1458bbd058be36de1ec}\label{classlbann_1_1model_aaed20219476dc1458bbd058be36de1ec}} 
\index{lbann\+::model@{lbann\+::model}!replace\+\_\+weights@{replace\+\_\+weights}}
\index{replace\+\_\+weights@{replace\+\_\+weights}!lbann\+::model@{lbann\+::model}}
\subsubsection{\texorpdfstring{replace\+\_\+weights()}{replace\_weights()}}
{\footnotesize\ttfamily void lbann\+::model\+::replace\+\_\+weights (\begin{DoxyParamCaption}\item[{std\+::vector$<$ \hyperlink{classlbann_1_1weights}{weights} $\ast$$>$ \&}]{w }\end{DoxyParamCaption})}

Replace the model\textquotesingle{}s weights. 

Definition at line 221 of file model.\+cpp.


\begin{DoxyCode}
221                                                             \{
222 
223   \textcolor{comment}{// Check that number of weights is valid}
224   \textcolor{keywordflow}{if} (new\_weights.size() > \hyperlink{classlbann_1_1model_aaf9adefe4497d90bf5bc2567e71bfb00}{m\_weights}.size()) \{
225     std::stringstream err;
226     err << \_\_FILE\_\_ << \textcolor{stringliteral}{" "} << \_\_LINE\_\_ << \textcolor{stringliteral}{" :: "}
227         << \textcolor{stringliteral}{"attempted to replace weights with an invalid number of weights "}
228         << \textcolor{stringliteral}{"(expected at most "} << \hyperlink{classlbann_1_1model_aaf9adefe4497d90bf5bc2567e71bfb00}{m\_weights}.size() << \textcolor{stringliteral}{", found "} << new\_weights.size() << \textcolor{stringliteral}{")"};
229     \textcolor{keywordflow}{throw} lbann\_exception(err.str());
230   \}
231 
232   \textcolor{comment}{// Replace weights in list}
233   std::vector<weights *> old\_weights(\hyperlink{classlbann_1_1model_aaf9adefe4497d90bf5bc2567e71bfb00}{m\_weights}.begin(),
234                                      \hyperlink{classlbann_1_1model_aaf9adefe4497d90bf5bc2567e71bfb00}{m\_weights}.begin() + new\_weights.size());
235   std::unordered\_map<weights *,weights *> weights\_map;
236   std::unordered\_map<Layer *,Layer *> layer\_map;
237   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{size\_t} i = 0; i < new\_weights.size(); ++i) \{
238     \hyperlink{classlbann_1_1model_aaf9adefe4497d90bf5bc2567e71bfb00}{m\_weights}[i] = weights\_map[old\_weights[i]] = new\_weights[i];
239   \}
240   \hyperlink{classlbann_1_1model_ac6cc0f5d850cfb997bbbc70eefa0d68f}{remap\_pointers}(layer\_map, weights\_map);
241 
242   \textcolor{comment}{// Delete old weights}
243   \textcolor{keywordflow}{for} (\textcolor{keyword}{const} \textcolor{keyword}{auto}& w : old\_weights) \{
244     \textcolor{keyword}{delete} w;
245   \}
246 
247 \}
\end{DoxyCode}
Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classlbann_1_1model_aaed20219476dc1458bbd058be36de1ec_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classlbann_1_1model_aaed20219476dc1458bbd058be36de1ec_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classlbann_1_1model_a9c6e9c199ca0ae06b8cf7266971ab9c3}\label{classlbann_1_1model_a9c6e9c199ca0ae06b8cf7266971ab9c3}} 
\index{lbann\+::model@{lbann\+::model}!reset\+\_\+epoch\+\_\+statistics@{reset\+\_\+epoch\+\_\+statistics}}
\index{reset\+\_\+epoch\+\_\+statistics@{reset\+\_\+epoch\+\_\+statistics}!lbann\+::model@{lbann\+::model}}
\subsubsection{\texorpdfstring{reset\+\_\+epoch\+\_\+statistics()}{reset\_epoch\_statistics()}}
{\footnotesize\ttfamily void lbann\+::model\+::reset\+\_\+epoch\+\_\+statistics (\begin{DoxyParamCaption}\item[{\hyperlink{base_8hpp_a2781a159088df64ed7d47cc91c4dc0a8}{execution\+\_\+mode}}]{mode }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}, {\ttfamily [virtual]}}

Reset model statistics for an epoch. 

Definition at line 713 of file model.\+cpp.


\begin{DoxyCode}
713                                                       \{
714   \hyperlink{classlbann_1_1model_a24c50e7108dd7698671aed7df5b22e8b}{m\_objective\_function}->\hyperlink{classlbann_1_1objective__function_acf7a6c67e7a45a1fd03684ca897d6324}{reset\_statistics}(mode);
715   \textcolor{keywordflow}{for} (\textcolor{keyword}{const} \textcolor{keyword}{auto}& m : \hyperlink{classlbann_1_1model_ae75c9aafe9e5a93980cc1bbae986bc79}{m\_metrics}) \{
716     m->reset\_statistics(mode);
717   \}
718 \}
\end{DoxyCode}
Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=343pt]{classlbann_1_1model_a9c6e9c199ca0ae06b8cf7266971ab9c3_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classlbann_1_1model_a9c6e9c199ca0ae06b8cf7266971ab9c3_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classlbann_1_1model_a5d188d75f53e0a4c6161500181b27c03}\label{classlbann_1_1model_a5d188d75f53e0a4c6161500181b27c03}} 
\index{lbann\+::model@{lbann\+::model}!reset\+\_\+mode\+\_\+and\+\_\+model@{reset\+\_\+mode\+\_\+and\+\_\+model}}
\index{reset\+\_\+mode\+\_\+and\+\_\+model@{reset\+\_\+mode\+\_\+and\+\_\+model}!lbann\+::model@{lbann\+::model}}
\subsubsection{\texorpdfstring{reset\+\_\+mode\+\_\+and\+\_\+model()}{reset\_mode\_and\_model()}}
{\footnotesize\ttfamily void lbann\+::model\+::reset\+\_\+mode\+\_\+and\+\_\+model (\begin{DoxyParamCaption}\item[{\hyperlink{base_8hpp_a2781a159088df64ed7d47cc91c4dc0a8}{execution\+\_\+mode}}]{mode }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}, {\ttfamily [virtual]}}

Reset model pointer and execution mode. 

Definition at line 705 of file model.\+cpp.


\begin{DoxyCode}
705                                                     \{
706   \hyperlink{classlbann_1_1model_a375372b5b864ffbc4eaa0963f6939f65}{set\_execution\_mode}(mode);
707   \textcolor{keywordflow}{for} (\textcolor{keyword}{const} \textcolor{keyword}{auto}& l : \hyperlink{classlbann_1_1model_a0229fc226ec163d1411548446104569d}{m\_layers}) \{
708     l->set\_model(\textcolor{keyword}{this});
709   \}
710 \}
\end{DoxyCode}
Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classlbann_1_1model_a5d188d75f53e0a4c6161500181b27c03_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classlbann_1_1model_a5d188d75f53e0a4c6161500181b27c03_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classlbann_1_1model_a3d589d2e46ad35d0a1221e25bef70fa4}\label{classlbann_1_1model_a3d589d2e46ad35d0a1221e25bef70fa4}} 
\index{lbann\+::model@{lbann\+::model}!save\+\_\+to\+\_\+checkpoint\+\_\+shared@{save\+\_\+to\+\_\+checkpoint\+\_\+shared}}
\index{save\+\_\+to\+\_\+checkpoint\+\_\+shared@{save\+\_\+to\+\_\+checkpoint\+\_\+shared}!lbann\+::model@{lbann\+::model}}
\subsubsection{\texorpdfstring{save\+\_\+to\+\_\+checkpoint\+\_\+shared()}{save\_to\_checkpoint\_shared()}}
{\footnotesize\ttfamily bool lbann\+::model\+::save\+\_\+to\+\_\+checkpoint\+\_\+shared (\begin{DoxyParamCaption}\item[{\hyperlink{classlbann_1_1persist}{persist} \&}]{p,  }\item[{bool}]{val\+\_\+end }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [virtual]}}

Checkpoint model to given file descriptor, return number of bytes written 

Reimplemented in \hyperlink{classlbann_1_1sequential__model_a226032d9890b8770c6fca54bf70d69eb}{lbann\+::sequential\+\_\+model}.



Definition at line 1151 of file model.\+cpp.


\begin{DoxyCode}
1151                                                               \{
1152   \textcolor{comment}{// write out fields we need to save for model}
1153   \textcolor{keywordflow}{if} (p.get\_rank() == 0 && !val\_end) \{
1154     p.write\_uint32(\hyperlink{namespacelbann_adee41f31f15f3906cbdcce4a1417eb56a61b3a8faa9c1091806675c230a9abe64}{persist\_type::train}, \textcolor{stringliteral}{"execution\_mode"},     (uint32\_t) 
      \hyperlink{classlbann_1_1model_a2166e2aad256a335ace3bdcae5da2614}{m\_execution\_mode});
1155     p.write\_uint32(\hyperlink{namespacelbann_adee41f31f15f3906cbdcce4a1417eb56a61b3a8faa9c1091806675c230a9abe64}{persist\_type::train}, \textcolor{stringliteral}{"terminate\_training"}, (uint32\_t) 
      \hyperlink{classlbann_1_1model_a639f9c3fcb81b905085f8b1932f8920f}{m\_terminate\_training});
1156     p.write\_uint64(\hyperlink{namespacelbann_adee41f31f15f3906cbdcce4a1417eb56a61b3a8faa9c1091806675c230a9abe64}{persist\_type::train}, \textcolor{stringliteral}{"current\_epoch"},      (uint64\_t) 
      \hyperlink{classlbann_1_1model_a305fac94b9063e59198c7f936923221a}{m\_current\_epoch});
1157     p.write\_uint64(\hyperlink{namespacelbann_adee41f31f15f3906cbdcce4a1417eb56a61b3a8faa9c1091806675c230a9abe64}{persist\_type::train}, \textcolor{stringliteral}{"current\_step"},       (uint64\_t) 
      \hyperlink{classlbann_1_1model_af31a76afc53061747d2170a65e98f692}{m\_current\_step});
1158     p.write\_uint64(\hyperlink{namespacelbann_adee41f31f15f3906cbdcce4a1417eb56a61b3a8faa9c1091806675c230a9abe64}{persist\_type::train}, \textcolor{stringliteral}{"current\_testing\_step"},       (uint64\_t) 
      \hyperlink{classlbann_1_1model_a2acf043862ba878cb7a91cb0d26c3791}{m\_current\_testing\_step});
1159     p.write\_uint32(\hyperlink{namespacelbann_adee41f31f15f3906cbdcce4a1417eb56a61b3a8faa9c1091806675c230a9abe64}{persist\_type::train}, \textcolor{stringliteral}{"max\_mini\_batch\_size"},      (uint32\_t) 
      \hyperlink{classlbann_1_1model_acc496503e7cf8d635e5a31ba09b3c81a}{m\_max\_mini\_batch\_size});
1160     p.write\_uint32(\hyperlink{namespacelbann_adee41f31f15f3906cbdcce4a1417eb56a61b3a8faa9c1091806675c230a9abe64}{persist\_type::train}, \textcolor{stringliteral}{"current\_mini\_batch\_size"},      (uint32\_t) 
      \hyperlink{classlbann_1_1model_a982cea92d230bab5a47df504f02daf98}{m\_current\_mini\_batch\_size});
1161     p.write\_uint32(\hyperlink{namespacelbann_adee41f31f15f3906cbdcce4a1417eb56a61b3a8faa9c1091806675c230a9abe64}{persist\_type::train}, \textcolor{stringliteral}{"current\_phase"},      (uint32\_t) 
      \hyperlink{classlbann_1_1model_a150ef033f81982936e007b10c421f488}{m\_current\_phase});
1162   \}
1163   \textcolor{keywordflow}{if}(p.get\_rank() == 0 && val\_end)\{
1164     p.write\_uint64(\hyperlink{namespacelbann_adee41f31f15f3906cbdcce4a1417eb56af9ab05454998236921a6b0e281fae632}{persist\_type::validate}, \textcolor{stringliteral}{"current\_validataion\_step"},       (
      uint64\_t) \hyperlink{classlbann_1_1model_af69e5f6bf49a4990fd4c18984705ab87}{m\_current\_validation\_step});
1165     \hyperlink{namespacelbann_af68acf5b249e5360289d4c6a7bfa8985}{save\_rng\_to\_checkpoint\_shared}(p);
1166     \textcolor{comment}{//for (const auto& m : m\_metrics) \{}
1167     \textcolor{comment}{//  m->save\_to\_checkpoint\_shared(p);}
1168     \textcolor{comment}{//\}}
1169   \}
1170   \textcolor{keywordflow}{return} \textcolor{keyword}{true};
1171 \}
\end{DoxyCode}
Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classlbann_1_1model_a3d589d2e46ad35d0a1221e25bef70fa4_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classlbann_1_1model_a3d589d2e46ad35d0a1221e25bef70fa4_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classlbann_1_1model_a4f3cc91f8495870723389be15f77184a}\label{classlbann_1_1model_a4f3cc91f8495870723389be15f77184a}} 
\index{lbann\+::model@{lbann\+::model}!set\+\_\+current\+\_\+mini\+\_\+batch\+\_\+size@{set\+\_\+current\+\_\+mini\+\_\+batch\+\_\+size}}
\index{set\+\_\+current\+\_\+mini\+\_\+batch\+\_\+size@{set\+\_\+current\+\_\+mini\+\_\+batch\+\_\+size}!lbann\+::model@{lbann\+::model}}
\subsubsection{\texorpdfstring{set\+\_\+current\+\_\+mini\+\_\+batch\+\_\+size()}{set\_current\_mini\_batch\_size()}}
{\footnotesize\ttfamily void lbann\+::model\+::set\+\_\+current\+\_\+mini\+\_\+batch\+\_\+size (\begin{DoxyParamCaption}\item[{int}]{mini\+\_\+batch\+\_\+size }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}

Set the model\textquotesingle{}s current mini-\/batch size. 

Definition at line 153 of file model.\+hpp.


\begin{DoxyCode}
153                                                                \{
154     \hyperlink{classlbann_1_1model_a982cea92d230bab5a47df504f02daf98}{m\_current\_mini\_batch\_size} = mini\_batch\_size;
155   \}
\end{DoxyCode}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classlbann_1_1model_a4f3cc91f8495870723389be15f77184a_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classlbann_1_1model_aa64829cba8a84928a396893172a1d116}\label{classlbann_1_1model_aa64829cba8a84928a396893172a1d116}} 
\index{lbann\+::model@{lbann\+::model}!set\+\_\+effective\+\_\+mini\+\_\+batch\+\_\+size@{set\+\_\+effective\+\_\+mini\+\_\+batch\+\_\+size}}
\index{set\+\_\+effective\+\_\+mini\+\_\+batch\+\_\+size@{set\+\_\+effective\+\_\+mini\+\_\+batch\+\_\+size}!lbann\+::model@{lbann\+::model}}
\subsubsection{\texorpdfstring{set\+\_\+effective\+\_\+mini\+\_\+batch\+\_\+size()}{set\_effective\_mini\_batch\_size()}}
{\footnotesize\ttfamily void lbann\+::model\+::set\+\_\+effective\+\_\+mini\+\_\+batch\+\_\+size (\begin{DoxyParamCaption}\item[{int}]{mini\+\_\+batch\+\_\+size }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}

Set the model\textquotesingle{}s effective mini-\/batch size. 

Definition at line 169 of file model.\+hpp.


\begin{DoxyCode}
169                                                                  \{
170     \hyperlink{classlbann_1_1model_a4887fd2816e7c51b24cb8bf8e4a80a1c}{m\_effective\_mini\_batch\_size} = mini\_batch\_size;
171   \}
\end{DoxyCode}
Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classlbann_1_1model_aa64829cba8a84928a396893172a1d116_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classlbann_1_1model_aa64829cba8a84928a396893172a1d116_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classlbann_1_1model_a375372b5b864ffbc4eaa0963f6939f65}\label{classlbann_1_1model_a375372b5b864ffbc4eaa0963f6939f65}} 
\index{lbann\+::model@{lbann\+::model}!set\+\_\+execution\+\_\+mode@{set\+\_\+execution\+\_\+mode}}
\index{set\+\_\+execution\+\_\+mode@{set\+\_\+execution\+\_\+mode}!lbann\+::model@{lbann\+::model}}
\subsubsection{\texorpdfstring{set\+\_\+execution\+\_\+mode()}{set\_execution\_mode()}}
{\footnotesize\ttfamily void lbann\+::model\+::set\+\_\+execution\+\_\+mode (\begin{DoxyParamCaption}\item[{\hyperlink{base_8hpp_a2781a159088df64ed7d47cc91c4dc0a8}{execution\+\_\+mode}}]{mode }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}

Set the model (and all layers\textquotesingle{}) execution mode. 

Definition at line 145 of file model.\+hpp.


\begin{DoxyCode}
145                                                       \{
146     \hyperlink{classlbann_1_1model_a2166e2aad256a335ace3bdcae5da2614}{m\_execution\_mode} = mode;
147   \}
\end{DoxyCode}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classlbann_1_1model_a375372b5b864ffbc4eaa0963f6939f65_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classlbann_1_1model_a95fb74f678f69b763d51b2ce987c8fde}\label{classlbann_1_1model_a95fb74f678f69b763d51b2ce987c8fde}} 
\index{lbann\+::model@{lbann\+::model}!set\+\_\+layers@{set\+\_\+layers}}
\index{set\+\_\+layers@{set\+\_\+layers}!lbann\+::model@{lbann\+::model}}
\subsubsection{\texorpdfstring{set\+\_\+layers()}{set\_layers()}}
{\footnotesize\ttfamily void lbann\+::model\+::set\+\_\+layers (\begin{DoxyParamCaption}\item[{std\+::vector$<$ \hyperlink{classlbann_1_1Layer}{Layer} $\ast$$>$ \&}]{layers }\end{DoxyParamCaption})}

Set the model\textquotesingle{}s layers. 

Definition at line 206 of file model.\+cpp.


\begin{DoxyCode}
206                                                 \{
207 
208   \textcolor{comment}{// Delete old layers}
209   \textcolor{keywordflow}{for} (\textcolor{keyword}{const} \textcolor{keyword}{auto}& layer : \hyperlink{classlbann_1_1model_a0229fc226ec163d1411548446104569d}{m\_layers}) \{
210     \textcolor{keyword}{delete} layer;
211   \}
212   m\_layers.clear();
213 
214   \textcolor{comment}{// Add new layers}
215   \textcolor{keywordflow}{for} (\textcolor{keyword}{const} \textcolor{keyword}{auto}& layer : layers) \{
216     \hyperlink{classlbann_1_1model_a5dfa9895024f07d273062b67d7a0dc01}{add\_layer}(layer);
217   \}
218 
219 \}
\end{DoxyCode}
Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classlbann_1_1model_a95fb74f678f69b763d51b2ce987c8fde_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classlbann_1_1model_a95fb74f678f69b763d51b2ce987c8fde_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classlbann_1_1model_a5bafc4e84671490c6118959becb22e16}\label{classlbann_1_1model_a5bafc4e84671490c6118959becb22e16}} 
\index{lbann\+::model@{lbann\+::model}!set\+\_\+terminate\+\_\+training@{set\+\_\+terminate\+\_\+training}}
\index{set\+\_\+terminate\+\_\+training@{set\+\_\+terminate\+\_\+training}!lbann\+::model@{lbann\+::model}}
\subsubsection{\texorpdfstring{set\+\_\+terminate\+\_\+training()}{set\_terminate\_training()}}
{\footnotesize\ttfamily void lbann\+::model\+::set\+\_\+terminate\+\_\+training (\begin{DoxyParamCaption}\item[{bool}]{f }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}

Set the terminate training flag (on or off). 

Definition at line 195 of file model.\+hpp.


\begin{DoxyCode}
195                                       \{
196     \hyperlink{classlbann_1_1model_a639f9c3fcb81b905085f8b1932f8920f}{m\_terminate\_training} = f;
197   \}
\end{DoxyCode}
Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classlbann_1_1model_a5bafc4e84671490c6118959becb22e16_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classlbann_1_1model_a5bafc4e84671490c6118959becb22e16_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classlbann_1_1model_afd9dbca79503a40b7aa5c78da4d6f391}\label{classlbann_1_1model_afd9dbca79503a40b7aa5c78da4d6f391}} 
\index{lbann\+::model@{lbann\+::model}!setup@{setup}}
\index{setup@{setup}!lbann\+::model@{lbann\+::model}}
\subsubsection{\texorpdfstring{setup()}{setup()}}
{\footnotesize\ttfamily void lbann\+::model\+::setup (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [virtual]}}

Set up the model. 

Definition at line 386 of file model.\+cpp.


\begin{DoxyCode}
386                   \{
387 
388   \textcolor{comment}{// Setup layers}
389   \hyperlink{classlbann_1_1model_a7b3e2a643c658dcaa7478d2568f29784}{setup\_layer\_topology}();
390   \hyperlink{classlbann_1_1model_ab0e8af146d4121c1b8b04b4a3c2a455c}{setup\_layer\_execution\_order}();
391   \hyperlink{classlbann_1_1model_a989ab581e359f65c9238d627cce5b589}{setup\_layers}();
392 
393   \textcolor{comment}{// Setup weights}
394   \hyperlink{classlbann_1_1model_a582edc0f930e1594381ecc7922e91b08}{setup\_weights}();
395 
396   \textcolor{comment}{// Setup objective function}
397   \hyperlink{classlbann_1_1model_a24c50e7108dd7698671aed7df5b22e8b}{m\_objective\_function}->\hyperlink{classlbann_1_1objective__function_ac14bb274978e0a5182122fd179579878}{setup}(*\textcolor{keyword}{this});
398 
399   \textcolor{comment}{// Setup metrics}
400   \textcolor{keywordflow}{for} (\textcolor{keyword}{const} \textcolor{keyword}{auto}& m : \hyperlink{classlbann_1_1model_ae75c9aafe9e5a93980cc1bbae986bc79}{m\_metrics}) \{
401     m->setup(*\textcolor{keyword}{this});
402   \}
403 
404   \textcolor{comment}{// Set up callbacks}
405   \textcolor{keywordflow}{for} (\textcolor{keyword}{const} \textcolor{keyword}{auto}& cb : \hyperlink{classlbann_1_1model_a07b511fef30368494c2ad80922ffd0eb}{m\_callbacks}) \{
406     cb->setup(\textcolor{keyword}{this});
407   \}
408 
409 \}
\end{DoxyCode}
Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classlbann_1_1model_afd9dbca79503a40b7aa5c78da4d6f391_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classlbann_1_1model_ab0e8af146d4121c1b8b04b4a3c2a455c}\label{classlbann_1_1model_ab0e8af146d4121c1b8b04b4a3c2a455c}} 
\index{lbann\+::model@{lbann\+::model}!setup\+\_\+layer\+\_\+execution\+\_\+order@{setup\+\_\+layer\+\_\+execution\+\_\+order}}
\index{setup\+\_\+layer\+\_\+execution\+\_\+order@{setup\+\_\+layer\+\_\+execution\+\_\+order}!lbann\+::model@{lbann\+::model}}
\subsubsection{\texorpdfstring{setup\+\_\+layer\+\_\+execution\+\_\+order()}{setup\_layer\_execution\_order()}}
{\footnotesize\ttfamily void lbann\+::model\+::setup\+\_\+layer\+\_\+execution\+\_\+order (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}, {\ttfamily [virtual]}}

Set up layer execution order. Called in setup function. 

Reimplemented in \hyperlink{classlbann_1_1directed__acyclic__graph__model_a2a70d5719832c481db9fa962f6e5f2bd}{lbann\+::directed\+\_\+acyclic\+\_\+graph\+\_\+model}.



Definition at line 432 of file model.\+cpp.


\begin{DoxyCode}
432                                         \{
433 
434   \textcolor{comment}{// Find input layers}
435   std::vector<generic\_input\_layer*> input\_layers;
436   std::vector<Layer*> other\_layers;
437   \textcolor{keywordflow}{for} (\textcolor{keyword}{auto}&& l : \hyperlink{classlbann_1_1model_a0229fc226ec163d1411548446104569d}{m\_layers}) \{
438     \textcolor{keyword}{auto}&& input = \textcolor{keyword}{dynamic\_cast<}generic\_input\_layer*\textcolor{keyword}{>}(l);
439     \textcolor{keywordflow}{if} (input != \textcolor{keyword}{nullptr}) \{
440       input\_layers.push\_back(input);
441     \} \textcolor{keywordflow}{else} \{
442       other\_layers.push\_back(l);
443     \}
444   \}
445 
446   \textcolor{comment}{// Make sure input layers are executed first}
447   m\_layers.clear();
448   m\_layers.insert(m\_layers.end(),
449                   input\_layers.begin(),
450                   input\_layers.end());
451   m\_layers.insert(m\_layers.end(),
452                   other\_layers.begin(),
453                   other\_layers.end());
454 
455 \}
\end{DoxyCode}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classlbann_1_1model_ab0e8af146d4121c1b8b04b4a3c2a455c_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classlbann_1_1model_a7b3e2a643c658dcaa7478d2568f29784}\label{classlbann_1_1model_a7b3e2a643c658dcaa7478d2568f29784}} 
\index{lbann\+::model@{lbann\+::model}!setup\+\_\+layer\+\_\+topology@{setup\+\_\+layer\+\_\+topology}}
\index{setup\+\_\+layer\+\_\+topology@{setup\+\_\+layer\+\_\+topology}!lbann\+::model@{lbann\+::model}}
\subsubsection{\texorpdfstring{setup\+\_\+layer\+\_\+topology()}{setup\_layer\_topology()}}
{\footnotesize\ttfamily void lbann\+::model\+::setup\+\_\+layer\+\_\+topology (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}, {\ttfamily [virtual]}}

Set up topology of layer graph. Called in setup function. All layers in connected component of layer graph are added to the model and all parent/child relationships between layers are reciprocated. 

Reimplemented in \hyperlink{classlbann_1_1greedy__layerwise__autoencoder_a115607e435ae4685531a81852ce01fe7}{lbann\+::greedy\+\_\+layerwise\+\_\+autoencoder}, \hyperlink{classlbann_1_1sequential__model_a3801a58530388fb6a8cb3e1c018e827d}{lbann\+::sequential\+\_\+model}, \hyperlink{classlbann_1_1siamese__model_a7ff41cffb060500605124959f1a2a6cf}{lbann\+::siamese\+\_\+model}, and \hyperlink{classlbann_1_1recurrent__model_ac89ddfa607e5cb6b940eb389ebbce6f6}{lbann\+::recurrent\+\_\+model}.



Definition at line 411 of file model.\+cpp.


\begin{DoxyCode}
411                                  \{
412 
413   \textcolor{comment}{// Search layer graph and add all connected layers}
414   \hyperlink{classlbann_1_1model_a3fb0304e6426dd28a436f50559ef2bef}{add\_connected\_layers}();
415 
416   \textcolor{comment}{// Make sure parent/child relationships are reciprocated}
417   \textcolor{keywordflow}{for} (\textcolor{keyword}{const} \textcolor{keyword}{auto}& layer : \hyperlink{classlbann_1_1model_a0229fc226ec163d1411548446104569d}{m\_layers}) \{
418     \textcolor{keywordflow}{for} (\textcolor{keyword}{const} \textcolor{keyword}{auto}& parent : layer->get\_parent\_layers()) \{
419       \textcolor{keyword}{const\_cast<}Layer *\textcolor{keyword}{>}(parent)->add\_child\_layer(layer);
420     \}
421     \textcolor{keywordflow}{for} (\textcolor{keyword}{const} \textcolor{keyword}{auto}& child : layer->get\_child\_layers()) \{
422       \textcolor{keyword}{const\_cast<}Layer *\textcolor{keyword}{>}(child)->add\_parent\_layer(layer);
423     \}
424   \}
425 
426   \textcolor{comment}{// Add utility layers if needed}
427   \hyperlink{classlbann_1_1model_a6ba9a836e5ba52c999c5234cfa5e62c2}{add\_dummy\_layers}();
428   \hyperlink{classlbann_1_1model_ac56d43e457cd4dfc3b88122bd10d286e}{add\_split\_layers}();
429 
430 \}
\end{DoxyCode}
Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classlbann_1_1model_a7b3e2a643c658dcaa7478d2568f29784_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classlbann_1_1model_a7b3e2a643c658dcaa7478d2568f29784_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classlbann_1_1model_a989ab581e359f65c9238d627cce5b589}\label{classlbann_1_1model_a989ab581e359f65c9238d627cce5b589}} 
\index{lbann\+::model@{lbann\+::model}!setup\+\_\+layers@{setup\+\_\+layers}}
\index{setup\+\_\+layers@{setup\+\_\+layers}!lbann\+::model@{lbann\+::model}}
\subsubsection{\texorpdfstring{setup\+\_\+layers()}{setup\_layers()}}
{\footnotesize\ttfamily void lbann\+::model\+::setup\+\_\+layers (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}, {\ttfamily [virtual]}}

Set up layers. Called in setup function. 

Reimplemented in \hyperlink{classlbann_1_1siamese__model_afefdbaf473d40e571b2b58539001c9c0}{lbann\+::siamese\+\_\+model}, and \hyperlink{classlbann_1_1recurrent__model_a712dabb1c1e90f6e268b42f6abaedd93}{lbann\+::recurrent\+\_\+model}.



Definition at line 457 of file model.\+cpp.


\begin{DoxyCode}
457                          \{
458   \textcolor{keywordflow}{for} (\textcolor{keyword}{const} \textcolor{keyword}{auto}& layer : \hyperlink{classlbann_1_1model_a0229fc226ec163d1411548446104569d}{m\_layers}) \{
459     layer->set\_model(\textcolor{keyword}{this});
460     layer->setup();
461     layer->check\_setup();
462     \textcolor{keywordflow}{if} (\hyperlink{classlbann_1_1model_a0eabaf2b2f829fd5db3dfd26df420df0}{m\_comm}->\hyperlink{classlbann_1_1lbann__comm_a1ef526486183a29feadca9bef096a534}{am\_world\_master}()) \{
463       std::cout << \hyperlink{classlbann_1_1model_ab173fd93a80a2980059ff292c308cbf5}{print\_layer\_description}(layer) << std::endl;
464     \}
465   \}
466 \}
\end{DoxyCode}
Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classlbann_1_1model_a989ab581e359f65c9238d627cce5b589_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=323pt]{classlbann_1_1model_a989ab581e359f65c9238d627cce5b589_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classlbann_1_1model_a582edc0f930e1594381ecc7922e91b08}\label{classlbann_1_1model_a582edc0f930e1594381ecc7922e91b08}} 
\index{lbann\+::model@{lbann\+::model}!setup\+\_\+weights@{setup\+\_\+weights}}
\index{setup\+\_\+weights@{setup\+\_\+weights}!lbann\+::model@{lbann\+::model}}
\subsubsection{\texorpdfstring{setup\+\_\+weights()}{setup\_weights()}}
{\footnotesize\ttfamily void lbann\+::model\+::setup\+\_\+weights (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}, {\ttfamily [virtual]}}

Set up weights. Called in setup function. All weights being used by layers or the objective function are added to the model and all unused weights are deleted. 

Definition at line 468 of file model.\+cpp.


\begin{DoxyCode}
468                           \{
469 
470   \textcolor{comment}{// List of used and unused weights}
471   std::unordered\_set<weights *> weights\_set(\hyperlink{classlbann_1_1model_aaf9adefe4497d90bf5bc2567e71bfb00}{m\_weights}.begin(),
472                                             \hyperlink{classlbann_1_1model_aaf9adefe4497d90bf5bc2567e71bfb00}{m\_weights}.end());
473   std::set<weights *> unused\_weights(\hyperlink{classlbann_1_1model_aaf9adefe4497d90bf5bc2567e71bfb00}{m\_weights}.begin(),
474                                      \hyperlink{classlbann_1_1model_aaf9adefe4497d90bf5bc2567e71bfb00}{m\_weights}.end());
475 
476   \textcolor{comment}{// Find weights used by layers}
477   \textcolor{keywordflow}{for} (\textcolor{keyword}{const} \textcolor{keyword}{auto}& layer : \hyperlink{classlbann_1_1model_a0229fc226ec163d1411548446104569d}{m\_layers}) \{
478     \textcolor{keywordflow}{for} (\textcolor{keyword}{const} \textcolor{keyword}{auto}& w : layer->get\_weights()) \{
479       \textcolor{keywordflow}{if} (weights\_set.count(w) == 0) \{
480         \hyperlink{classlbann_1_1model_aaf9adefe4497d90bf5bc2567e71bfb00}{m\_weights}.push\_back(w);
481         weights\_set.insert(w);
482       \}
483       unused\_weights.erase(w);
484     \}
485   \}
486 
487   \textcolor{comment}{// Find weights used by objective function}
488   \textcolor{keywordflow}{for} (\textcolor{keyword}{const} \textcolor{keyword}{auto}& w : \hyperlink{classlbann_1_1model_a24c50e7108dd7698671aed7df5b22e8b}{m\_objective\_function}->
      \hyperlink{classlbann_1_1objective__function_a8e37f76e42f6f341ea3592001b3794e5}{get\_weights\_pointers}()) \{
489     \textcolor{keywordflow}{if} (weights\_set.count(w) == 0) \{
490       \hyperlink{classlbann_1_1model_aaf9adefe4497d90bf5bc2567e71bfb00}{m\_weights}.push\_back(w);
491       weights\_set.insert(w);
492     \}
493     unused\_weights.erase(w);
494   \}
495 
496   \textcolor{comment}{// Delete unused weights}
497   \textcolor{keywordflow}{for} (\textcolor{keyword}{const} \textcolor{keyword}{auto}& w : unused\_weights) \{
498     \hyperlink{classlbann_1_1model_aaf9adefe4497d90bf5bc2567e71bfb00}{m\_weights}.erase(std::remove(\hyperlink{classlbann_1_1model_aaf9adefe4497d90bf5bc2567e71bfb00}{m\_weights}.begin(), \hyperlink{classlbann_1_1model_aaf9adefe4497d90bf5bc2567e71bfb00}{m\_weights}.end(), w),
499                     \hyperlink{classlbann_1_1model_aaf9adefe4497d90bf5bc2567e71bfb00}{m\_weights}.end());
500   \}
501 
502 \}
\end{DoxyCode}
Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=345pt]{classlbann_1_1model_a582edc0f930e1594381ecc7922e91b08_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=323pt]{classlbann_1_1model_a582edc0f930e1594381ecc7922e91b08_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classlbann_1_1model_a0824e757e4806fad77630d69926a8911}\label{classlbann_1_1model_a0824e757e4806fad77630d69926a8911}} 
\index{lbann\+::model@{lbann\+::model}!summarize\+\_\+matrices@{summarize\+\_\+matrices}}
\index{summarize\+\_\+matrices@{summarize\+\_\+matrices}!lbann\+::model@{lbann\+::model}}
\subsubsection{\texorpdfstring{summarize\+\_\+matrices()}{summarize\_matrices()}}
{\footnotesize\ttfamily void lbann\+::model\+::summarize\+\_\+matrices (\begin{DoxyParamCaption}\item[{\hyperlink{classlbann_1_1lbann__summary}{lbann\+\_\+summary} \&}]{summarizer }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [virtual]}}

Summarize matrices (e.\+g. means); these are called less frequently and can be more expensive. 

Definition at line 1128 of file model.\+cpp.


\begin{DoxyCode}
1128                                                         \{
1129   \textcolor{keywordflow}{for} (\textcolor{keyword}{const} \textcolor{keyword}{auto}& layer : \hyperlink{classlbann_1_1model_a0229fc226ec163d1411548446104569d}{m\_layers}) \{
1130     layer->summarize\_matrices(summarizer, \hyperlink{classlbann_1_1model_ad0cdcba177434b52dc9c4a97be183a92}{get\_cur\_step}());
1131   \}
1132 \}
\end{DoxyCode}
Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classlbann_1_1model_a0824e757e4806fad77630d69926a8911_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classlbann_1_1model_a0824e757e4806fad77630d69926a8911_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classlbann_1_1model_a1eb5efcc8f73ba9478b2ce1efb9f2d8c}\label{classlbann_1_1model_a1eb5efcc8f73ba9478b2ce1efb9f2d8c}} 
\index{lbann\+::model@{lbann\+::model}!summarize\+\_\+stats@{summarize\+\_\+stats}}
\index{summarize\+\_\+stats@{summarize\+\_\+stats}!lbann\+::model@{lbann\+::model}}
\subsubsection{\texorpdfstring{summarize\+\_\+stats()}{summarize\_stats()}}
{\footnotesize\ttfamily void lbann\+::model\+::summarize\+\_\+stats (\begin{DoxyParamCaption}\item[{\hyperlink{classlbann_1_1lbann__summary}{lbann\+\_\+summary} \&}]{summarizer }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [virtual]}}

Summarize statistics (e.\+g. timers, counters); these should be computable quickly. 

Definition at line 1101 of file model.\+cpp.


\begin{DoxyCode}
1101                                                      \{
1102   \textcolor{keywordflow}{for} (\textcolor{keyword}{const} \textcolor{keyword}{auto}& layer : \hyperlink{classlbann_1_1model_a0229fc226ec163d1411548446104569d}{m\_layers}) \{
1103     layer->summarize\_stats(summarizer, \hyperlink{classlbann_1_1model_ad0cdcba177434b52dc9c4a97be183a92}{get\_cur\_step}());
1104   \}
1105   summarizer.reduce\_scalar(\textcolor{stringliteral}{"objective"},
1106                            \hyperlink{classlbann_1_1model_a24c50e7108dd7698671aed7df5b22e8b}{m\_objective\_function}->
      \hyperlink{classlbann_1_1objective__function_a0aa271e497363e97ba3741292961d47d}{get\_mean\_value}(\hyperlink{classlbann_1_1model_a2166e2aad256a335ace3bdcae5da2614}{m\_execution\_mode}),
1107                            \hyperlink{classlbann_1_1model_ad0cdcba177434b52dc9c4a97be183a92}{get\_cur\_step}());
1108   summarizer.reduce\_scalar(
1109     \textcolor{stringliteral}{"objective\_evaluation\_time"},
1110     \hyperlink{classlbann_1_1model_a24c50e7108dd7698671aed7df5b22e8b}{m\_objective\_function}->\hyperlink{classlbann_1_1objective__function_a4a23b4c51fe61584c97a471d28f7b8d7}{get\_evaluation\_time}(),
1111     \hyperlink{classlbann_1_1model_ad0cdcba177434b52dc9c4a97be183a92}{get\_cur\_step}());
1112   summarizer.reduce\_scalar(
1113     \textcolor{stringliteral}{"objective\_differentiation\_time"},
1114     \hyperlink{classlbann_1_1model_a24c50e7108dd7698671aed7df5b22e8b}{m\_objective\_function}->\hyperlink{classlbann_1_1objective__function_af968b6949c170721d04895f1268b03dd}{get\_differentiation\_time}(),
1115     \hyperlink{classlbann_1_1model_ad0cdcba177434b52dc9c4a97be183a92}{get\_cur\_step}());
1116   \hyperlink{classlbann_1_1model_a24c50e7108dd7698671aed7df5b22e8b}{m\_objective\_function}->\hyperlink{classlbann_1_1objective__function_a92b248be17049b1d7e82accbd913d6f1}{reset\_counters}();
1117   \textcolor{keywordtype}{double} total\_metric\_time = 0.0;
1118   \textcolor{keywordflow}{for} (\textcolor{keyword}{auto}&& m : \hyperlink{classlbann_1_1model_ae75c9aafe9e5a93980cc1bbae986bc79}{m\_metrics}) \{
1119     total\_metric\_time += m->get\_evaluate\_time();
1120     m->reset\_counters();
1121   \}
1122   summarizer.reduce\_scalar(
1123     \textcolor{stringliteral}{"metric\_evaluation\_time"},
1124     total\_metric\_time,
1125     \hyperlink{classlbann_1_1model_ad0cdcba177434b52dc9c4a97be183a92}{get\_cur\_step}());
1126 \}
\end{DoxyCode}
Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classlbann_1_1model_a1eb5efcc8f73ba9478b2ce1efb9f2d8c_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classlbann_1_1model_a1eb5efcc8f73ba9478b2ce1efb9f2d8c_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classlbann_1_1model_a11c79dc3783d11b799bdc40ff9c92ddc}\label{classlbann_1_1model_a11c79dc3783d11b799bdc40ff9c92ddc}} 
\index{lbann\+::model@{lbann\+::model}!train@{train}}
\index{train@{train}!lbann\+::model@{lbann\+::model}}
\subsubsection{\texorpdfstring{train()}{train()}}
{\footnotesize\ttfamily void lbann\+::model\+::train (\begin{DoxyParamCaption}\item[{int}]{num\+\_\+epochs }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [virtual]}}

Train model. 

Reimplemented in \hyperlink{classlbann_1_1greedy__layerwise__autoencoder_a085f0b2debb82d9c4927a1c8b11dd353}{lbann\+::greedy\+\_\+layerwise\+\_\+autoencoder}.



Definition at line 679 of file model.\+cpp.


\begin{DoxyCode}
679                                 \{
680   \hyperlink{classlbann_1_1model_a780395fa740102adda5537aa5d257698}{do\_train\_begin\_cbs}();
681   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} epoch = \hyperlink{classlbann_1_1model_a305fac94b9063e59198c7f936923221a}{m\_current\_epoch}; epoch < num\_epochs; ++epoch) \{
682 
683     \textcolor{comment}{// Stop if training has been terminated}
684     \textcolor{keywordflow}{if} (\hyperlink{classlbann_1_1model_a90363b6a20269cf7197701e49f1f52a3}{get\_terminate\_training}()) \{ \textcolor{keywordflow}{break}; \}
685 
686     \textcolor{comment}{// Setup epoch}
687     \hyperlink{classlbann_1_1model_a5d188d75f53e0a4c6161500181b27c03}{reset\_mode\_and\_model}(\hyperlink{base_8hpp_a2781a159088df64ed7d47cc91c4dc0a8ac185ddac8b5a8f5aa23c5b80bc12d214}{execution\_mode::training});
688 
689     \textcolor{comment}{// Train on mini-batches}
690     \hyperlink{classlbann_1_1model_a6f975af3ff4921d78a9eb1aca12eaf5e}{do\_epoch\_begin\_cbs}();
691     \textcolor{keywordflow}{while} (!\hyperlink{classlbann_1_1model_a462105993a63277a1ead39c30ebae1bb}{train\_mini\_batch}()) \{\}
692     \textcolor{comment}{// Once the epoch is complete, Increase the count}
693     ++\hyperlink{classlbann_1_1model_a305fac94b9063e59198c7f936923221a}{m\_current\_epoch};
694     \hyperlink{classlbann_1_1model_a93e43a6c5aaf8ad890ef50ff97dfa176}{do\_epoch\_end\_cbs}();
695     \hyperlink{classlbann_1_1model_a9c6e9c199ca0ae06b8cf7266971ab9c3}{reset\_epoch\_statistics}(\hyperlink{base_8hpp_a2781a159088df64ed7d47cc91c4dc0a8ac185ddac8b5a8f5aa23c5b80bc12d214}{execution\_mode::training});
696 
697     \textcolor{comment}{// Evaluate on validation set}
698     \hyperlink{classlbann_1_1model_a4191097fdbcd1686525e9cd150f958ef}{evaluate}(\hyperlink{base_8hpp_a2781a159088df64ed7d47cc91c4dc0a8aa617908b172c473cb8e8cda059e55bf0}{execution\_mode::validation});
699   \}
700   \hyperlink{classlbann_1_1model_a13bb6edae42c719b78454a8af9549122}{do\_train\_end\_cbs}();
701 \}
\end{DoxyCode}
Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classlbann_1_1model_a11c79dc3783d11b799bdc40ff9c92ddc_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classlbann_1_1model_a11c79dc3783d11b799bdc40ff9c92ddc_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classlbann_1_1model_a462105993a63277a1ead39c30ebae1bb}\label{classlbann_1_1model_a462105993a63277a1ead39c30ebae1bb}} 
\index{lbann\+::model@{lbann\+::model}!train\+\_\+mini\+\_\+batch@{train\+\_\+mini\+\_\+batch}}
\index{train\+\_\+mini\+\_\+batch@{train\+\_\+mini\+\_\+batch}!lbann\+::model@{lbann\+::model}}
\subsubsection{\texorpdfstring{train\+\_\+mini\+\_\+batch()}{train\_mini\_batch()}}
{\footnotesize\ttfamily bool lbann\+::model\+::train\+\_\+mini\+\_\+batch (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}, {\ttfamily [virtual]}}

Train model on a mini-\/batch. 

Definition at line 744 of file model.\+cpp.


\begin{DoxyCode}
744                              \{
745   \hyperlink{classlbann_1_1model_a5d188d75f53e0a4c6161500181b27c03}{reset\_mode\_and\_model}(\hyperlink{base_8hpp_a2781a159088df64ed7d47cc91c4dc0a8ac185ddac8b5a8f5aa23c5b80bc12d214}{execution\_mode::training});
746   \hyperlink{classlbann_1_1model_a156acfa740b92322d44b6c477636eb26}{do\_batch\_begin\_cbs}(\hyperlink{base_8hpp_a2781a159088df64ed7d47cc91c4dc0a8ac185ddac8b5a8f5aa23c5b80bc12d214}{execution\_mode::training});
747 
748   \textcolor{comment}{// Forward prop step}
749   \hyperlink{classlbann_1_1model_ae4ca41f514498a37503ecc6ba1600bab}{clear\_gradients}();
750   \hyperlink{classlbann_1_1model_adc4f845c8e292afe2d8686f459729484}{forward\_prop}(\hyperlink{base_8hpp_a2781a159088df64ed7d47cc91c4dc0a8ac185ddac8b5a8f5aa23c5b80bc12d214}{execution\_mode::training});
751   \textcolor{comment}{// Result is not needed until the end of the mini-batch.}
752   \hyperlink{classlbann_1_1model_a24c50e7108dd7698671aed7df5b22e8b}{m\_objective\_function}->\hyperlink{classlbann_1_1objective__function_a3edb6708894d31ec2a014c6eb8a61df2}{start\_evaluation}(
      \hyperlink{base_8hpp_a2781a159088df64ed7d47cc91c4dc0a8ac185ddac8b5a8f5aa23c5b80bc12d214}{execution\_mode::training},
753                                          \hyperlink{classlbann_1_1model_a3eaad8fd538b99ecab9afca6dc3327fd}{get\_current\_mini\_batch\_size}());
754   \textcolor{keywordflow}{for} (\textcolor{keyword}{const} \textcolor{keyword}{auto}& m : \hyperlink{classlbann_1_1model_ae75c9aafe9e5a93980cc1bbae986bc79}{m\_metrics}) \{
755     m->evaluate(\hyperlink{base_8hpp_a2781a159088df64ed7d47cc91c4dc0a8ac185ddac8b5a8f5aa23c5b80bc12d214}{execution\_mode::training},
756                 \hyperlink{classlbann_1_1model_a3eaad8fd538b99ecab9afca6dc3327fd}{get\_current\_mini\_batch\_size}());
757   \}
758 
759   \textcolor{comment}{// Backward prop step}
760   \hyperlink{classlbann_1_1model_a43b3ed176749e0aab6065f274ec2a717}{clear\_error\_signals}();
761   \hyperlink{classlbann_1_1model_a24c50e7108dd7698671aed7df5b22e8b}{m\_objective\_function}->\hyperlink{classlbann_1_1objective__function_ae8b7314bdc12ba52d270b46a35acd138}{differentiate}();
762   \hyperlink{classlbann_1_1model_a2ce4444efaab4dd1236c837d6847e438}{backward\_prop}();
763   \hyperlink{classlbann_1_1model_a24c50e7108dd7698671aed7df5b22e8b}{m\_objective\_function}->\hyperlink{classlbann_1_1objective__function_a7b7f8869bf110846e971fef995db51e1}{compute\_weight\_regularization}();
764 
765   \textcolor{comment}{// Finish evaluation.}
766   \hyperlink{classlbann_1_1model_a24c50e7108dd7698671aed7df5b22e8b}{m\_objective\_function}->\hyperlink{classlbann_1_1objective__function_ad35ce9b7daa87d197d00b1762b691a02}{finish\_evaluation}(
      \hyperlink{base_8hpp_a2781a159088df64ed7d47cc91c4dc0a8ac185ddac8b5a8f5aa23c5b80bc12d214}{execution\_mode::training},
767                                           \hyperlink{classlbann_1_1model_a3eaad8fd538b99ecab9afca6dc3327fd}{get\_current\_mini\_batch\_size}());
768 
769   \textcolor{comment}{// Update step}
770   \hyperlink{classlbann_1_1model_a38d8924938fa69857d3f9ed83ac98ee9}{update\_weights}();
771   \textcolor{keyword}{const} \textcolor{keywordtype}{bool} finished = \hyperlink{classlbann_1_1model_a7518775e0fd29ed682319193e2d264cc}{update\_layers}();
772 
773   ++\hyperlink{classlbann_1_1model_af31a76afc53061747d2170a65e98f692}{m\_current\_step};
774   \hyperlink{classlbann_1_1model_a3dc29e9751a53afda7e171aff335273e}{do\_batch\_end\_cbs}(\hyperlink{base_8hpp_a2781a159088df64ed7d47cc91c4dc0a8ac185ddac8b5a8f5aa23c5b80bc12d214}{execution\_mode::training});
775   \textcolor{keywordflow}{return} finished;
776 \}
\end{DoxyCode}
Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classlbann_1_1model_a462105993a63277a1ead39c30ebae1bb_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classlbann_1_1model_a462105993a63277a1ead39c30ebae1bb_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classlbann_1_1model_a7518775e0fd29ed682319193e2d264cc}\label{classlbann_1_1model_a7518775e0fd29ed682319193e2d264cc}} 
\index{lbann\+::model@{lbann\+::model}!update\+\_\+layers@{update\+\_\+layers}}
\index{update\+\_\+layers@{update\+\_\+layers}!lbann\+::model@{lbann\+::model}}
\subsubsection{\texorpdfstring{update\+\_\+layers()}{update\_layers()}}
{\footnotesize\ttfamily bool lbann\+::model\+::update\+\_\+layers (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}, {\ttfamily [virtual]}}

Update layers step. 

Definition at line 839 of file model.\+cpp.


\begin{DoxyCode}
839                           \{
840   \textcolor{keywordtype}{bool} finished = \textcolor{keyword}{true};
841   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} l = \hyperlink{classlbann_1_1model_a0229fc226ec163d1411548446104569d}{m\_layers}.size() - 1; l >= 0; --l) \{
842     finished = \hyperlink{classlbann_1_1model_a0229fc226ec163d1411548446104569d}{m\_layers}[l]->update() && finished;
843   \}
844   \textcolor{keywordflow}{return} finished;
845 \}
\end{DoxyCode}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classlbann_1_1model_a7518775e0fd29ed682319193e2d264cc_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classlbann_1_1model_a38d8924938fa69857d3f9ed83ac98ee9}\label{classlbann_1_1model_a38d8924938fa69857d3f9ed83ac98ee9}} 
\index{lbann\+::model@{lbann\+::model}!update\+\_\+weights@{update\+\_\+weights}}
\index{update\+\_\+weights@{update\+\_\+weights}!lbann\+::model@{lbann\+::model}}
\subsubsection{\texorpdfstring{update\+\_\+weights()}{update\_weights()}}
{\footnotesize\ttfamily void lbann\+::model\+::update\+\_\+weights (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}, {\ttfamily [virtual]}}

Update weights step. 

Definition at line 826 of file model.\+cpp.


\begin{DoxyCode}
826                            \{
827   \hyperlink{classlbann_1_1model_a19c96544ccf733646f3454be887f3a08}{do\_model\_optimize\_begin\_cbs}();
828   \textcolor{keywordflow}{for} (\textcolor{keyword}{const} \textcolor{keyword}{auto}& w : \hyperlink{classlbann_1_1model_aaf9adefe4497d90bf5bc2567e71bfb00}{m\_weights}) \{
829     optimizer* opt = w->get\_optimizer();
830     \textcolor{keywordflow}{if} (opt != \textcolor{keyword}{nullptr}) \{
831       \hyperlink{classlbann_1_1model_a24b668fa62ce0215d3b1773636b7eced}{do\_weight\_optimize\_begin\_cbs}(w);
832       opt->step();
833       \hyperlink{classlbann_1_1model_af1e22d2b06d0ca90ae79fd5cf1d82066}{do\_weight\_optimize\_end\_cbs}(w);
834     \}
835   \}
836   \hyperlink{classlbann_1_1model_ac0b37e4f4881e274bd9c4889d4852fe8}{do\_model\_optimize\_end\_cbs}();
837 \}
\end{DoxyCode}
Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classlbann_1_1model_a38d8924938fa69857d3f9ed83ac98ee9_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classlbann_1_1model_a38d8924938fa69857d3f9ed83ac98ee9_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classlbann_1_1model_a488da86420421a4890c8fd7a95849acc}\label{classlbann_1_1model_a488da86420421a4890c8fd7a95849acc}} 
\index{lbann\+::model@{lbann\+::model}!write\+\_\+proto@{write\+\_\+proto}}
\index{write\+\_\+proto@{write\+\_\+proto}!lbann\+::model@{lbann\+::model}}
\subsubsection{\texorpdfstring{write\+\_\+proto()}{write\_proto()}}
{\footnotesize\ttfamily void lbann\+::model\+::write\+\_\+proto (\begin{DoxyParamCaption}\item[{lbann\+\_\+data\+::\+Model $\ast$}]{proto }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [virtual]}}

Write model to proto file 

Reimplemented in \hyperlink{classlbann_1_1sequential__model_a53a83327a1115a53affa78c93344e641}{lbann\+::sequential\+\_\+model}.



Definition at line 1211 of file model.\+cpp.


\begin{DoxyCode}
1211                                               \{
1212   proto->Clear();
1213   \textcolor{keywordflow}{if} (\hyperlink{classlbann_1_1model_a0eabaf2b2f829fd5db3dfd26df420df0}{m\_comm}->\hyperlink{classlbann_1_1lbann__comm_a1ef526486183a29feadca9bef096a534}{am\_world\_master}()) 
1214     proto->set\_mini\_batch\_size(\hyperlink{classlbann_1_1model_acc496503e7cf8d635e5a31ba09b3c81a}{m\_max\_mini\_batch\_size});
1215 \}
\end{DoxyCode}
Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=325pt]{classlbann_1_1model_a488da86420421a4890c8fd7a95849acc_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classlbann_1_1model_a488da86420421a4890c8fd7a95849acc_icgraph}
\end{center}
\end{figure}


\subsection{Member Data Documentation}
\mbox{\Hypertarget{classlbann_1_1model_a07b511fef30368494c2ad80922ffd0eb}\label{classlbann_1_1model_a07b511fef30368494c2ad80922ffd0eb}} 
\index{lbann\+::model@{lbann\+::model}!m\+\_\+callbacks@{m\+\_\+callbacks}}
\index{m\+\_\+callbacks@{m\+\_\+callbacks}!lbann\+::model@{lbann\+::model}}
\subsubsection{\texorpdfstring{m\+\_\+callbacks}{m\_callbacks}}
{\footnotesize\ttfamily std\+::vector$<$\hyperlink{classlbann_1_1lbann__callback}{lbann\+\_\+callback} $\ast$$>$ lbann\+::model\+::m\+\_\+callbacks\hspace{0.3cm}{\ttfamily [protected]}}

Current callbacks to process. 

Definition at line 252 of file model.\+hpp.

\mbox{\Hypertarget{classlbann_1_1model_a0eabaf2b2f829fd5db3dfd26df420df0}\label{classlbann_1_1model_a0eabaf2b2f829fd5db3dfd26df420df0}} 
\index{lbann\+::model@{lbann\+::model}!m\+\_\+comm@{m\+\_\+comm}}
\index{m\+\_\+comm@{m\+\_\+comm}!lbann\+::model@{lbann\+::model}}
\subsubsection{\texorpdfstring{m\+\_\+comm}{m\_comm}}
{\footnotesize\ttfamily \hyperlink{classlbann_1_1lbann__comm}{lbann\+\_\+comm}$\ast$ lbann\+::model\+::m\+\_\+comm\hspace{0.3cm}{\ttfamily [protected]}}

Communicator for the model. 

Definition at line 250 of file model.\+hpp.

\mbox{\Hypertarget{classlbann_1_1model_a305fac94b9063e59198c7f936923221a}\label{classlbann_1_1model_a305fac94b9063e59198c7f936923221a}} 
\index{lbann\+::model@{lbann\+::model}!m\+\_\+current\+\_\+epoch@{m\+\_\+current\+\_\+epoch}}
\index{m\+\_\+current\+\_\+epoch@{m\+\_\+current\+\_\+epoch}!lbann\+::model@{lbann\+::model}}
\subsubsection{\texorpdfstring{m\+\_\+current\+\_\+epoch}{m\_current\_epoch}}
{\footnotesize\ttfamily int lbann\+::model\+::m\+\_\+current\+\_\+epoch\hspace{0.3cm}{\ttfamily [protected]}}

Most recent/current epoch for the model. 

Definition at line 228 of file model.\+hpp.

\mbox{\Hypertarget{classlbann_1_1model_a982cea92d230bab5a47df504f02daf98}\label{classlbann_1_1model_a982cea92d230bab5a47df504f02daf98}} 
\index{lbann\+::model@{lbann\+::model}!m\+\_\+current\+\_\+mini\+\_\+batch\+\_\+size@{m\+\_\+current\+\_\+mini\+\_\+batch\+\_\+size}}
\index{m\+\_\+current\+\_\+mini\+\_\+batch\+\_\+size@{m\+\_\+current\+\_\+mini\+\_\+batch\+\_\+size}!lbann\+::model@{lbann\+::model}}
\subsubsection{\texorpdfstring{m\+\_\+current\+\_\+mini\+\_\+batch\+\_\+size}{m\_current\_mini\_batch\_size}}
{\footnotesize\ttfamily int lbann\+::model\+::m\+\_\+current\+\_\+mini\+\_\+batch\+\_\+size\hspace{0.3cm}{\ttfamily [protected]}}

Size of the current mini-\/batch in the model. 

Definition at line 240 of file model.\+hpp.

\mbox{\Hypertarget{classlbann_1_1model_a150ef033f81982936e007b10c421f488}\label{classlbann_1_1model_a150ef033f81982936e007b10c421f488}} 
\index{lbann\+::model@{lbann\+::model}!m\+\_\+current\+\_\+phase@{m\+\_\+current\+\_\+phase}}
\index{m\+\_\+current\+\_\+phase@{m\+\_\+current\+\_\+phase}!lbann\+::model@{lbann\+::model}}
\subsubsection{\texorpdfstring{m\+\_\+current\+\_\+phase}{m\_current\_phase}}
{\footnotesize\ttfamily int lbann\+::model\+::m\+\_\+current\+\_\+phase\hspace{0.3cm}{\ttfamily [protected]}}

current phase (multiple of epoch counts) in training a model 

Definition at line 248 of file model.\+hpp.

\mbox{\Hypertarget{classlbann_1_1model_af31a76afc53061747d2170a65e98f692}\label{classlbann_1_1model_af31a76afc53061747d2170a65e98f692}} 
\index{lbann\+::model@{lbann\+::model}!m\+\_\+current\+\_\+step@{m\+\_\+current\+\_\+step}}
\index{m\+\_\+current\+\_\+step@{m\+\_\+current\+\_\+step}!lbann\+::model@{lbann\+::model}}
\subsubsection{\texorpdfstring{m\+\_\+current\+\_\+step}{m\_current\_step}}
{\footnotesize\ttfamily int lbann\+::model\+::m\+\_\+current\+\_\+step\hspace{0.3cm}{\ttfamily [protected]}}

Most recent/current training step for the model. 

Definition at line 230 of file model.\+hpp.

\mbox{\Hypertarget{classlbann_1_1model_a2acf043862ba878cb7a91cb0d26c3791}\label{classlbann_1_1model_a2acf043862ba878cb7a91cb0d26c3791}} 
\index{lbann\+::model@{lbann\+::model}!m\+\_\+current\+\_\+testing\+\_\+step@{m\+\_\+current\+\_\+testing\+\_\+step}}
\index{m\+\_\+current\+\_\+testing\+\_\+step@{m\+\_\+current\+\_\+testing\+\_\+step}!lbann\+::model@{lbann\+::model}}
\subsubsection{\texorpdfstring{m\+\_\+current\+\_\+testing\+\_\+step}{m\_current\_testing\_step}}
{\footnotesize\ttfamily int lbann\+::model\+::m\+\_\+current\+\_\+testing\+\_\+step\hspace{0.3cm}{\ttfamily [protected]}}



Definition at line 232 of file model.\+hpp.

\mbox{\Hypertarget{classlbann_1_1model_af69e5f6bf49a4990fd4c18984705ab87}\label{classlbann_1_1model_af69e5f6bf49a4990fd4c18984705ab87}} 
\index{lbann\+::model@{lbann\+::model}!m\+\_\+current\+\_\+validation\+\_\+step@{m\+\_\+current\+\_\+validation\+\_\+step}}
\index{m\+\_\+current\+\_\+validation\+\_\+step@{m\+\_\+current\+\_\+validation\+\_\+step}!lbann\+::model@{lbann\+::model}}
\subsubsection{\texorpdfstring{m\+\_\+current\+\_\+validation\+\_\+step}{m\_current\_validation\_step}}
{\footnotesize\ttfamily int lbann\+::model\+::m\+\_\+current\+\_\+validation\+\_\+step\hspace{0.3cm}{\ttfamily [protected]}}



Definition at line 231 of file model.\+hpp.

\mbox{\Hypertarget{classlbann_1_1model_a68df9efe547f53f7bf2a03ac64527990}\label{classlbann_1_1model_a68df9efe547f53f7bf2a03ac64527990}} 
\index{lbann\+::model@{lbann\+::model}!m\+\_\+default\+\_\+optimizer@{m\+\_\+default\+\_\+optimizer}}
\index{m\+\_\+default\+\_\+optimizer@{m\+\_\+default\+\_\+optimizer}!lbann\+::model@{lbann\+::model}}
\subsubsection{\texorpdfstring{m\+\_\+default\+\_\+optimizer}{m\_default\_optimizer}}
{\footnotesize\ttfamily \hyperlink{classlbann_1_1optimizer}{optimizer}$\ast$ lbann\+::model\+::m\+\_\+default\+\_\+optimizer\hspace{0.3cm}{\ttfamily [protected]}}

Default optimizer. If a layer needs to construct an optimizer during setup, it will make a copy of the default optimizer. 

Definition at line 258 of file model.\+hpp.

\mbox{\Hypertarget{classlbann_1_1model_a4887fd2816e7c51b24cb8bf8e4a80a1c}\label{classlbann_1_1model_a4887fd2816e7c51b24cb8bf8e4a80a1c}} 
\index{lbann\+::model@{lbann\+::model}!m\+\_\+effective\+\_\+mini\+\_\+batch\+\_\+size@{m\+\_\+effective\+\_\+mini\+\_\+batch\+\_\+size}}
\index{m\+\_\+effective\+\_\+mini\+\_\+batch\+\_\+size@{m\+\_\+effective\+\_\+mini\+\_\+batch\+\_\+size}!lbann\+::model@{lbann\+::model}}
\subsubsection{\texorpdfstring{m\+\_\+effective\+\_\+mini\+\_\+batch\+\_\+size}{m\_effective\_mini\_batch\_size}}
{\footnotesize\ttfamily int lbann\+::model\+::m\+\_\+effective\+\_\+mini\+\_\+batch\+\_\+size\hspace{0.3cm}{\ttfamily [protected]}}

The \char`\"{}effective\char`\"{} size of a minibatch. This is the size of the minibatch across all models and used for e.\+g. correctly averaging gradients from multiple models. 

Definition at line 246 of file model.\+hpp.

\mbox{\Hypertarget{classlbann_1_1model_a2166e2aad256a335ace3bdcae5da2614}\label{classlbann_1_1model_a2166e2aad256a335ace3bdcae5da2614}} 
\index{lbann\+::model@{lbann\+::model}!m\+\_\+execution\+\_\+mode@{m\+\_\+execution\+\_\+mode}}
\index{m\+\_\+execution\+\_\+mode@{m\+\_\+execution\+\_\+mode}!lbann\+::model@{lbann\+::model}}
\subsubsection{\texorpdfstring{m\+\_\+execution\+\_\+mode}{m\_execution\_mode}}
{\footnotesize\ttfamily \hyperlink{base_8hpp_a2781a159088df64ed7d47cc91c4dc0a8}{execution\+\_\+mode} lbann\+::model\+::m\+\_\+execution\+\_\+mode\hspace{0.3cm}{\ttfamily [protected]}}

The model\textquotesingle{}s current execution mode. 

Definition at line 224 of file model.\+hpp.

\mbox{\Hypertarget{classlbann_1_1model_a0229fc226ec163d1411548446104569d}\label{classlbann_1_1model_a0229fc226ec163d1411548446104569d}} 
\index{lbann\+::model@{lbann\+::model}!m\+\_\+layers@{m\+\_\+layers}}
\index{m\+\_\+layers@{m\+\_\+layers}!lbann\+::model@{lbann\+::model}}
\subsubsection{\texorpdfstring{m\+\_\+layers}{m\_layers}}
{\footnotesize\ttfamily std\+::vector$<$\hyperlink{classlbann_1_1Layer}{Layer} $\ast$$>$ lbann\+::model\+::m\+\_\+layers\hspace{0.3cm}{\ttfamily [protected]}}

List of layers in model. The list is in execution order for forward propagation. 

Definition at line 269 of file model.\+hpp.

\mbox{\Hypertarget{classlbann_1_1model_acc496503e7cf8d635e5a31ba09b3c81a}\label{classlbann_1_1model_acc496503e7cf8d635e5a31ba09b3c81a}} 
\index{lbann\+::model@{lbann\+::model}!m\+\_\+max\+\_\+mini\+\_\+batch\+\_\+size@{m\+\_\+max\+\_\+mini\+\_\+batch\+\_\+size}}
\index{m\+\_\+max\+\_\+mini\+\_\+batch\+\_\+size@{m\+\_\+max\+\_\+mini\+\_\+batch\+\_\+size}!lbann\+::model@{lbann\+::model}}
\subsubsection{\texorpdfstring{m\+\_\+max\+\_\+mini\+\_\+batch\+\_\+size}{m\_max\_mini\_batch\_size}}
{\footnotesize\ttfamily int lbann\+::model\+::m\+\_\+max\+\_\+mini\+\_\+batch\+\_\+size\hspace{0.3cm}{\ttfamily [protected]}}

Maximum possible minibatch size supported by layers in this model. Note that this is local to the particular model, not across multiple models. 

Definition at line 238 of file model.\+hpp.

\mbox{\Hypertarget{classlbann_1_1model_ae75c9aafe9e5a93980cc1bbae986bc79}\label{classlbann_1_1model_ae75c9aafe9e5a93980cc1bbae986bc79}} 
\index{lbann\+::model@{lbann\+::model}!m\+\_\+metrics@{m\+\_\+metrics}}
\index{m\+\_\+metrics@{m\+\_\+metrics}!lbann\+::model@{lbann\+::model}}
\subsubsection{\texorpdfstring{m\+\_\+metrics}{m\_metrics}}
{\footnotesize\ttfamily std\+::vector$<$\hyperlink{classlbann_1_1metric}{metric} $\ast$$>$ lbann\+::model\+::m\+\_\+metrics\hspace{0.3cm}{\ttfamily [protected]}}

List of model metrics. A metric can be used to evaluate the performance of the model without affecting the training process. 

Definition at line 264 of file model.\+hpp.

\mbox{\Hypertarget{classlbann_1_1model_a24c50e7108dd7698671aed7df5b22e8b}\label{classlbann_1_1model_a24c50e7108dd7698671aed7df5b22e8b}} 
\index{lbann\+::model@{lbann\+::model}!m\+\_\+objective\+\_\+function@{m\+\_\+objective\+\_\+function}}
\index{m\+\_\+objective\+\_\+function@{m\+\_\+objective\+\_\+function}!lbann\+::model@{lbann\+::model}}
\subsubsection{\texorpdfstring{m\+\_\+objective\+\_\+function}{m\_objective\_function}}
{\footnotesize\ttfamily \hyperlink{classlbann_1_1objective__function}{objective\+\_\+function}$\ast$ lbann\+::model\+::m\+\_\+objective\+\_\+function\hspace{0.3cm}{\ttfamily [protected]}}

The objective function used to train the model. 

Definition at line 221 of file model.\+hpp.

\mbox{\Hypertarget{classlbann_1_1model_a639f9c3fcb81b905085f8b1932f8920f}\label{classlbann_1_1model_a639f9c3fcb81b905085f8b1932f8920f}} 
\index{lbann\+::model@{lbann\+::model}!m\+\_\+terminate\+\_\+training@{m\+\_\+terminate\+\_\+training}}
\index{m\+\_\+terminate\+\_\+training@{m\+\_\+terminate\+\_\+training}!lbann\+::model@{lbann\+::model}}
\subsubsection{\texorpdfstring{m\+\_\+terminate\+\_\+training}{m\_terminate\_training}}
{\footnotesize\ttfamily bool lbann\+::model\+::m\+\_\+terminate\+\_\+training\hspace{0.3cm}{\ttfamily [protected]}}

Flag telling the model to terminate training. 

Definition at line 226 of file model.\+hpp.

\mbox{\Hypertarget{classlbann_1_1model_aaf9adefe4497d90bf5bc2567e71bfb00}\label{classlbann_1_1model_aaf9adefe4497d90bf5bc2567e71bfb00}} 
\index{lbann\+::model@{lbann\+::model}!m\+\_\+weights@{m\+\_\+weights}}
\index{m\+\_\+weights@{m\+\_\+weights}!lbann\+::model@{lbann\+::model}}
\subsubsection{\texorpdfstring{m\+\_\+weights}{m\_weights}}
{\footnotesize\ttfamily std\+::vector$<$\hyperlink{classlbann_1_1weights}{weights} $\ast$$>$ lbann\+::model\+::m\+\_\+weights\hspace{0.3cm}{\ttfamily [protected]}}

List of weights in model. 

Definition at line 271 of file model.\+hpp.



The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
/\+Users/mckinney27/doxy-\/testbed/lbann/include/lbann/models/\hyperlink{model_8hpp}{model.\+hpp}\item 
/\+Users/mckinney27/doxy-\/testbed/lbann/src/models/\hyperlink{model_8cpp}{model.\+cpp}\end{DoxyCompactItemize}
