\hypertarget{classlbann_1_1top__k__categorical__accuracy__metric}{}\section{lbann\+:\+:top\+\_\+k\+\_\+categorical\+\_\+accuracy\+\_\+metric Class Reference}
\label{classlbann_1_1top__k__categorical__accuracy__metric}\index{lbann\+::top\+\_\+k\+\_\+categorical\+\_\+accuracy\+\_\+metric@{lbann\+::top\+\_\+k\+\_\+categorical\+\_\+accuracy\+\_\+metric}}


{\ttfamily \#include $<$top\+\_\+k\+\_\+categorical\+\_\+accuracy.\+hpp$>$}



Inheritance diagram for lbann\+:\+:top\+\_\+k\+\_\+categorical\+\_\+accuracy\+\_\+metric\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=204pt]{classlbann_1_1top__k__categorical__accuracy__metric__inherit__graph}
\end{center}
\end{figure}


Collaboration diagram for lbann\+:\+:top\+\_\+k\+\_\+categorical\+\_\+accuracy\+\_\+metric\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classlbann_1_1top__k__categorical__accuracy__metric__coll__graph}
\end{center}
\end{figure}
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classlbann_1_1top__k__categorical__accuracy__metric_a3896f230e2972c01b746fc808c51462e}{top\+\_\+k\+\_\+categorical\+\_\+accuracy\+\_\+metric} (int top\+\_\+k, \hyperlink{classlbann_1_1lbann__comm}{lbann\+\_\+comm} $\ast$\hyperlink{file__io_8cpp_ab048c6f9fcbcfaa57ce68b00263dbebe}{comm})
\item 
\hyperlink{classlbann_1_1top__k__categorical__accuracy__metric_a3a79aaa2c235ba13b366eed78cabeaf1}{top\+\_\+k\+\_\+categorical\+\_\+accuracy\+\_\+metric} (const \hyperlink{classlbann_1_1top__k__categorical__accuracy__metric}{top\+\_\+k\+\_\+categorical\+\_\+accuracy\+\_\+metric} \&other)=default
\item 
\hyperlink{classlbann_1_1top__k__categorical__accuracy__metric}{top\+\_\+k\+\_\+categorical\+\_\+accuracy\+\_\+metric} \& \hyperlink{classlbann_1_1top__k__categorical__accuracy__metric_a2036cad8a7f9cb7490bf0341de0d70eb}{operator=} (const \hyperlink{classlbann_1_1top__k__categorical__accuracy__metric}{top\+\_\+k\+\_\+categorical\+\_\+accuracy\+\_\+metric} \&other)=default
\item 
virtual \hyperlink{classlbann_1_1top__k__categorical__accuracy__metric_a71a9e2ae447bd0013ada063d9616c816}{$\sim$top\+\_\+k\+\_\+categorical\+\_\+accuracy\+\_\+metric} ()=default
\item 
\hyperlink{classlbann_1_1top__k__categorical__accuracy__metric}{top\+\_\+k\+\_\+categorical\+\_\+accuracy\+\_\+metric} $\ast$ \hyperlink{classlbann_1_1top__k__categorical__accuracy__metric_a2d93a9bca14d52bda02a58e4c58b800e}{copy} () const override
\item 
std\+::string \hyperlink{classlbann_1_1top__k__categorical__accuracy__metric_a7b49f722f75dabe73c0fc3500d72ef63}{name} () const override
\item 
std\+::string \hyperlink{classlbann_1_1top__k__categorical__accuracy__metric_a0531d4f199fa61ce448af8c945ff3dfc}{get\+\_\+unit} () const override
\end{DoxyCompactItemize}
\subsection*{Protected Member Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{base_8hpp_a3266f5ac18504bbadea983c109566867}{Eval\+Type} \hyperlink{classlbann_1_1top__k__categorical__accuracy__metric_a3449bdb835e7e5bd7d17cd001fb4ae38}{evaluate\+\_\+compute} (const \hyperlink{base_8hpp_a9a697a504ae84010e7439ffec862b470}{Abs\+Dist\+Mat} \&prediction, const \hyperlink{base_8hpp_a9a697a504ae84010e7439ffec862b470}{Abs\+Dist\+Mat} \&ground\+\_\+truth) override
\end{DoxyCompactItemize}
\subsection*{Private Attributes}
\begin{DoxyCompactItemize}
\item 
int \hyperlink{classlbann_1_1top__k__categorical__accuracy__metric_a6cc172f6799bffac44de06d0657efdeb}{m\+\_\+top\+\_\+k}
\end{DoxyCompactItemize}


\subsection{Detailed Description}
Top-\/k categorical accuracy metric. A prediction is correct if any of the top k predictions are correct. The value is a percentage in \mbox{[}0,100\mbox{]}. 

Definition at line 38 of file top\+\_\+k\+\_\+categorical\+\_\+accuracy.\+hpp.



\subsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{classlbann_1_1top__k__categorical__accuracy__metric_a3896f230e2972c01b746fc808c51462e}\label{classlbann_1_1top__k__categorical__accuracy__metric_a3896f230e2972c01b746fc808c51462e}} 
\index{lbann\+::top\+\_\+k\+\_\+categorical\+\_\+accuracy\+\_\+metric@{lbann\+::top\+\_\+k\+\_\+categorical\+\_\+accuracy\+\_\+metric}!top\+\_\+k\+\_\+categorical\+\_\+accuracy\+\_\+metric@{top\+\_\+k\+\_\+categorical\+\_\+accuracy\+\_\+metric}}
\index{top\+\_\+k\+\_\+categorical\+\_\+accuracy\+\_\+metric@{top\+\_\+k\+\_\+categorical\+\_\+accuracy\+\_\+metric}!lbann\+::top\+\_\+k\+\_\+categorical\+\_\+accuracy\+\_\+metric@{lbann\+::top\+\_\+k\+\_\+categorical\+\_\+accuracy\+\_\+metric}}
\subsubsection{\texorpdfstring{top\+\_\+k\+\_\+categorical\+\_\+accuracy\+\_\+metric()}{top\_k\_categorical\_accuracy\_metric()}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily lbann\+::top\+\_\+k\+\_\+categorical\+\_\+accuracy\+\_\+metric\+::top\+\_\+k\+\_\+categorical\+\_\+accuracy\+\_\+metric (\begin{DoxyParamCaption}\item[{int}]{top\+\_\+k,  }\item[{\hyperlink{classlbann_1_1lbann__comm}{lbann\+\_\+comm} $\ast$}]{comm }\end{DoxyParamCaption})}

Constructor. 

Definition at line 31 of file top\+\_\+k\+\_\+categorical\+\_\+accuracy.\+cpp.


\begin{DoxyCode}
33   : \hyperlink{classlbann_1_1metric_a3cd2d4f7dcbf94f70b3b8560a3171d9d}{metric}(\hyperlink{file__io_8cpp_ab048c6f9fcbcfaa57ce68b00263dbebe}{comm}), \hyperlink{classlbann_1_1top__k__categorical__accuracy__metric_a6cc172f6799bffac44de06d0657efdeb}{m\_top\_k}(top\_k) \{\}
\end{DoxyCode}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classlbann_1_1top__k__categorical__accuracy__metric_a3896f230e2972c01b746fc808c51462e_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classlbann_1_1top__k__categorical__accuracy__metric_a3a79aaa2c235ba13b366eed78cabeaf1}\label{classlbann_1_1top__k__categorical__accuracy__metric_a3a79aaa2c235ba13b366eed78cabeaf1}} 
\index{lbann\+::top\+\_\+k\+\_\+categorical\+\_\+accuracy\+\_\+metric@{lbann\+::top\+\_\+k\+\_\+categorical\+\_\+accuracy\+\_\+metric}!top\+\_\+k\+\_\+categorical\+\_\+accuracy\+\_\+metric@{top\+\_\+k\+\_\+categorical\+\_\+accuracy\+\_\+metric}}
\index{top\+\_\+k\+\_\+categorical\+\_\+accuracy\+\_\+metric@{top\+\_\+k\+\_\+categorical\+\_\+accuracy\+\_\+metric}!lbann\+::top\+\_\+k\+\_\+categorical\+\_\+accuracy\+\_\+metric@{lbann\+::top\+\_\+k\+\_\+categorical\+\_\+accuracy\+\_\+metric}}
\subsubsection{\texorpdfstring{top\+\_\+k\+\_\+categorical\+\_\+accuracy\+\_\+metric()}{top\_k\_categorical\_accuracy\_metric()}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily lbann\+::top\+\_\+k\+\_\+categorical\+\_\+accuracy\+\_\+metric\+::top\+\_\+k\+\_\+categorical\+\_\+accuracy\+\_\+metric (\begin{DoxyParamCaption}\item[{const \hyperlink{classlbann_1_1top__k__categorical__accuracy__metric}{top\+\_\+k\+\_\+categorical\+\_\+accuracy\+\_\+metric} \&}]{other }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [default]}}

Copy constructor. \mbox{\Hypertarget{classlbann_1_1top__k__categorical__accuracy__metric_a71a9e2ae447bd0013ada063d9616c816}\label{classlbann_1_1top__k__categorical__accuracy__metric_a71a9e2ae447bd0013ada063d9616c816}} 
\index{lbann\+::top\+\_\+k\+\_\+categorical\+\_\+accuracy\+\_\+metric@{lbann\+::top\+\_\+k\+\_\+categorical\+\_\+accuracy\+\_\+metric}!````~top\+\_\+k\+\_\+categorical\+\_\+accuracy\+\_\+metric@{$\sim$top\+\_\+k\+\_\+categorical\+\_\+accuracy\+\_\+metric}}
\index{````~top\+\_\+k\+\_\+categorical\+\_\+accuracy\+\_\+metric@{$\sim$top\+\_\+k\+\_\+categorical\+\_\+accuracy\+\_\+metric}!lbann\+::top\+\_\+k\+\_\+categorical\+\_\+accuracy\+\_\+metric@{lbann\+::top\+\_\+k\+\_\+categorical\+\_\+accuracy\+\_\+metric}}
\subsubsection{\texorpdfstring{$\sim$top\+\_\+k\+\_\+categorical\+\_\+accuracy\+\_\+metric()}{~top\_k\_categorical\_accuracy\_metric()}}
{\footnotesize\ttfamily virtual lbann\+::top\+\_\+k\+\_\+categorical\+\_\+accuracy\+\_\+metric\+::$\sim$top\+\_\+k\+\_\+categorical\+\_\+accuracy\+\_\+metric (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [virtual]}, {\ttfamily [default]}}

Destructor. 

\subsection{Member Function Documentation}
\mbox{\Hypertarget{classlbann_1_1top__k__categorical__accuracy__metric_a2d93a9bca14d52bda02a58e4c58b800e}\label{classlbann_1_1top__k__categorical__accuracy__metric_a2d93a9bca14d52bda02a58e4c58b800e}} 
\index{lbann\+::top\+\_\+k\+\_\+categorical\+\_\+accuracy\+\_\+metric@{lbann\+::top\+\_\+k\+\_\+categorical\+\_\+accuracy\+\_\+metric}!copy@{copy}}
\index{copy@{copy}!lbann\+::top\+\_\+k\+\_\+categorical\+\_\+accuracy\+\_\+metric@{lbann\+::top\+\_\+k\+\_\+categorical\+\_\+accuracy\+\_\+metric}}
\subsubsection{\texorpdfstring{copy()}{copy()}}
{\footnotesize\ttfamily \hyperlink{classlbann_1_1top__k__categorical__accuracy__metric}{top\+\_\+k\+\_\+categorical\+\_\+accuracy\+\_\+metric}$\ast$ lbann\+::top\+\_\+k\+\_\+categorical\+\_\+accuracy\+\_\+metric\+::copy (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [override]}, {\ttfamily [virtual]}}

Copy function. 

Implements \hyperlink{classlbann_1_1metric_a2a4498d41f77da8585552f485caab167}{lbann\+::metric}.



Definition at line 52 of file top\+\_\+k\+\_\+categorical\+\_\+accuracy.\+hpp.


\begin{DoxyCode}
52                                                            \{
53     \textcolor{keywordflow}{return} \textcolor{keyword}{new} \hyperlink{classlbann_1_1top__k__categorical__accuracy__metric_a3896f230e2972c01b746fc808c51462e}{top\_k\_categorical\_accuracy\_metric}(*\textcolor{keyword}{this});
54   \}
\end{DoxyCode}
Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classlbann_1_1top__k__categorical__accuracy__metric_a2d93a9bca14d52bda02a58e4c58b800e_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classlbann_1_1top__k__categorical__accuracy__metric_a3449bdb835e7e5bd7d17cd001fb4ae38}\label{classlbann_1_1top__k__categorical__accuracy__metric_a3449bdb835e7e5bd7d17cd001fb4ae38}} 
\index{lbann\+::top\+\_\+k\+\_\+categorical\+\_\+accuracy\+\_\+metric@{lbann\+::top\+\_\+k\+\_\+categorical\+\_\+accuracy\+\_\+metric}!evaluate\+\_\+compute@{evaluate\+\_\+compute}}
\index{evaluate\+\_\+compute@{evaluate\+\_\+compute}!lbann\+::top\+\_\+k\+\_\+categorical\+\_\+accuracy\+\_\+metric@{lbann\+::top\+\_\+k\+\_\+categorical\+\_\+accuracy\+\_\+metric}}
\subsubsection{\texorpdfstring{evaluate\+\_\+compute()}{evaluate\_compute()}}
{\footnotesize\ttfamily \hyperlink{base_8hpp_a3266f5ac18504bbadea983c109566867}{Eval\+Type} lbann\+::top\+\_\+k\+\_\+categorical\+\_\+accuracy\+\_\+metric\+::evaluate\+\_\+compute (\begin{DoxyParamCaption}\item[{const \hyperlink{base_8hpp_a9a697a504ae84010e7439ffec862b470}{Abs\+Dist\+Mat} \&}]{prediction,  }\item[{const \hyperlink{base_8hpp_a9a697a504ae84010e7439ffec862b470}{Abs\+Dist\+Mat} \&}]{ground\+\_\+truth }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [protected]}, {\ttfamily [virtual]}}

Computation to evaluate the metric function. This returns the sum of metric values across the mini-\/batch, not the mean value. 

Implements \hyperlink{classlbann_1_1metric_aab79147ff480675db2e01d7a889a4296}{lbann\+::metric}.



Definition at line 35 of file top\+\_\+k\+\_\+categorical\+\_\+accuracy.\+cpp.


\begin{DoxyCode}
36                                                                                              \{
37     \textcolor{comment}{// This first computes the top k predictions within each column locally,}
38     \textcolor{comment}{// then each column master gathers these, computes the global top k, and}
39     \textcolor{comment}{// determines if an error was made.}
40     El::Int num\_errors = 0;
41     \textcolor{comment}{// Note: assumes structure is packed.}
42     \textcolor{keyword}{struct }top\_k\_ele \{
43       DataType val;  \textcolor{comment}{// Predicted value.}
44       DataType gt;  \textcolor{comment}{// Ground truth.}
45     \};
46     \textcolor{keyword}{const} El::Int local\_width = \hyperlink{base_8hpp_a2781a159088df64ed7d47cc91c4dc0a8ac41b9ec75e920b610e8907e066074b30}{prediction}.LocalWidth();  \textcolor{comment}{// minibatch dim}
47     \textcolor{keyword}{const} El::Int local\_height = \hyperlink{base_8hpp_a2781a159088df64ed7d47cc91c4dc0a8ac41b9ec75e920b610e8907e066074b30}{prediction}.LocalHeight();  \textcolor{comment}{// class dim}
48     \textcolor{comment}{// Pack the top k predictions for each local column together.}
49     std::vector<top\_k\_ele> local\_top\_k(\hyperlink{classlbann_1_1top__k__categorical__accuracy__metric_a6cc172f6799bffac44de06d0657efdeb}{m\_top\_k} * local\_width);
50     \textcolor{comment}{// Compute the top k entries locally.}
51     std::vector<El::Int> local\_indices(local\_height);
52     std::iota(local\_indices.begin(), local\_indices.end(), 0);
53     \textcolor{keywordflow}{for} (El::Int mb\_idx = 0; mb\_idx < local\_width; ++mb\_idx) \{
54       \textcolor{comment}{// Determine the top k local entries in this column.}
55       std::partial\_sort(
56         local\_indices.begin(), local\_indices.begin() + \hyperlink{classlbann_1_1top__k__categorical__accuracy__metric_a6cc172f6799bffac44de06d0657efdeb}{m\_top\_k},
57         local\_indices.end(),
58         [mb\_idx, &\hyperlink{base_8hpp_a2781a159088df64ed7d47cc91c4dc0a8ac41b9ec75e920b610e8907e066074b30}{prediction}] (El::Int a, El::Int b) -> \textcolor{keywordtype}{bool} \{
59           \textcolor{keywordflow}{return} \hyperlink{base_8hpp_a2781a159088df64ed7d47cc91c4dc0a8ac41b9ec75e920b610e8907e066074b30}{prediction}.GetLocal(a, mb\_idx) >
60             \hyperlink{base_8hpp_a2781a159088df64ed7d47cc91c4dc0a8ac41b9ec75e920b610e8907e066074b30}{prediction}.GetLocal(b, mb\_idx); \});
61       \textcolor{keywordflow}{for} (El::Int i = 0; i < \hyperlink{classlbann_1_1top__k__categorical__accuracy__metric_a6cc172f6799bffac44de06d0657efdeb}{m\_top\_k}; ++i) \{
62         El::Int idx = mb\_idx*m\_top\_k + i;
63         local\_top\_k[idx].val = \hyperlink{base_8hpp_a2781a159088df64ed7d47cc91c4dc0a8ac41b9ec75e920b610e8907e066074b30}{prediction}.GetLocal(local\_indices[i], mb\_idx);
64         local\_top\_k[idx].gt = ground\_truth.GetLocal(local\_indices[i], mb\_idx);
65       \}
66     \}
67     \textcolor{comment}{// Gather the data for each column to rank 0 within that column.}
68     El::mpi::Comm col\_comm = \hyperlink{base_8hpp_a2781a159088df64ed7d47cc91c4dc0a8ac41b9ec75e920b610e8907e066074b30}{prediction}.ColComm();
69     \textcolor{keywordtype}{int} col\_comm\_size = El::mpi::Size(col\_comm);
70     \textcolor{keywordflow}{if} (El::mpi::Rank(col\_comm) == 0) \{
71       \textcolor{comment}{// This vector ends up being the concatenation of each local\_top\_k, and}
72       \textcolor{comment}{// therefore accessing data for a single mini-batch requires computing the}
73       \textcolor{comment}{// appropriate strides.}
74       std::vector<top\_k\_ele> global\_top\_k(
75         m\_top\_k * local\_width * col\_comm\_size);
76       \hyperlink{classlbann_1_1metric_a464120720df6bfdf91bffe353e562964}{get\_comm}().\hyperlink{classlbann_1_1lbann__comm_aa784298e6ed0f9f01a20b179d5110df9}{gather}((DataType*) local\_top\_k.data(), 2*local\_top\_k.size(),
77                         (DataType*) global\_top\_k.data(), col\_comm);
78       \textcolor{comment}{// Compute the global top k elements in each column.}
79       std::vector<El::Int> global\_indices(m\_top\_k * col\_comm\_size);
80       std::iota(global\_indices.begin(), global\_indices.end(), 0);
81       \textcolor{keywordflow}{for} (El::Int mb\_idx = 0; mb\_idx < local\_width; ++mb\_idx) \{
82         std::partial\_sort(
83           global\_indices.begin(), global\_indices.begin() + \hyperlink{classlbann_1_1top__k__categorical__accuracy__metric_a6cc172f6799bffac44de06d0657efdeb}{m\_top\_k},
84           global\_indices.end(),
85           [mb\_idx, col\_comm\_size, &global\_top\_k, \textcolor{keyword}{this}]
86           (El::Int a, El::Int b) -> \textcolor{keywordtype}{bool} \{
87             El::Int mb\_offset = mb\_idx * \hyperlink{classlbann_1_1top__k__categorical__accuracy__metric_a6cc172f6799bffac44de06d0657efdeb}{m\_top\_k};
88             El::Int a\_proc\_offset = (a/\hyperlink{classlbann_1_1top__k__categorical__accuracy__metric_a6cc172f6799bffac44de06d0657efdeb}{m\_top\_k}) * m\_top\_k * col\_comm\_size;
89             El::Int a\_idx = a\_proc\_offset + mb\_offset + (a%\hyperlink{classlbann_1_1top__k__categorical__accuracy__metric_a6cc172f6799bffac44de06d0657efdeb}{m\_top\_k});
90             El::Int b\_proc\_offset = (b/\hyperlink{classlbann_1_1top__k__categorical__accuracy__metric_a6cc172f6799bffac44de06d0657efdeb}{m\_top\_k}) * m\_top\_k * col\_comm\_size;
91             El::Int b\_idx = b\_proc\_offset + mb\_offset + (b%\hyperlink{classlbann_1_1top__k__categorical__accuracy__metric_a6cc172f6799bffac44de06d0657efdeb}{m\_top\_k});
92             \textcolor{keywordflow}{return} global\_top\_k[a\_idx].val > global\_top\_k[b\_idx].val;
93           \});
94         \textcolor{comment}{// Check if there is a 1 ground truth label in the top k.}
95         \textcolor{keywordtype}{bool} found = \textcolor{keyword}{false};
96         \textcolor{keywordflow}{for} (El::Int i = 0; i < \hyperlink{classlbann_1_1top__k__categorical__accuracy__metric_a6cc172f6799bffac44de06d0657efdeb}{m\_top\_k}; ++i) \{
97           El::Int idx = global\_indices[i];
98           idx = mb\_idx*m\_top\_k + (i/\hyperlink{classlbann_1_1top__k__categorical__accuracy__metric_a6cc172f6799bffac44de06d0657efdeb}{m\_top\_k})*m\_top\_k*col\_comm\_size + (i%m\_top\_k);
99           \textcolor{keywordflow}{if} (global\_top\_k[idx].gt == DataType(1)) \{
100             found = \textcolor{keyword}{true};
101             \textcolor{keywordflow}{break};
102           \}
103         \}
104         \textcolor{keywordflow}{if} (!found) \{
105           ++num\_errors;
106         \}
107       \}
108     \} \textcolor{keywordflow}{else} \{
109       \hyperlink{classlbann_1_1metric_a464120720df6bfdf91bffe353e562964}{get\_comm}().\hyperlink{classlbann_1_1lbann__comm_aa784298e6ed0f9f01a20b179d5110df9}{gather}((DataType*) local\_top\_k.data(), 2*local\_top\_k.size(), 0,
110                         col\_comm);
111     \}
112     num\_errors = \hyperlink{classlbann_1_1metric_a464120720df6bfdf91bffe353e562964}{get\_comm}().\hyperlink{classlbann_1_1lbann__comm_aebb6290d1b618eace302404291c598a5}{model\_allreduce}(num\_errors);
113     \textcolor{keyword}{const} \textcolor{keywordtype}{int} mini\_batch\_size = \hyperlink{base_8hpp_a2781a159088df64ed7d47cc91c4dc0a8ac41b9ec75e920b610e8907e066074b30}{prediction}.Width();
114     \textcolor{keywordflow}{return} (mini\_batch\_size - num\_errors) * 100;
115 \}
\end{DoxyCode}
Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classlbann_1_1top__k__categorical__accuracy__metric_a3449bdb835e7e5bd7d17cd001fb4ae38_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classlbann_1_1top__k__categorical__accuracy__metric_a3449bdb835e7e5bd7d17cd001fb4ae38_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classlbann_1_1top__k__categorical__accuracy__metric_a0531d4f199fa61ce448af8c945ff3dfc}\label{classlbann_1_1top__k__categorical__accuracy__metric_a0531d4f199fa61ce448af8c945ff3dfc}} 
\index{lbann\+::top\+\_\+k\+\_\+categorical\+\_\+accuracy\+\_\+metric@{lbann\+::top\+\_\+k\+\_\+categorical\+\_\+accuracy\+\_\+metric}!get\+\_\+unit@{get\+\_\+unit}}
\index{get\+\_\+unit@{get\+\_\+unit}!lbann\+::top\+\_\+k\+\_\+categorical\+\_\+accuracy\+\_\+metric@{lbann\+::top\+\_\+k\+\_\+categorical\+\_\+accuracy\+\_\+metric}}
\subsubsection{\texorpdfstring{get\+\_\+unit()}{get\_unit()}}
{\footnotesize\ttfamily std\+::string lbann\+::top\+\_\+k\+\_\+categorical\+\_\+accuracy\+\_\+metric\+::get\+\_\+unit (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [override]}, {\ttfamily [virtual]}}

Return \char`\"{}\%\char`\"{} as a display unit. 

Reimplemented from \hyperlink{classlbann_1_1metric_a13fd302dec85190b877f7146529e516c}{lbann\+::metric}.



Definition at line 59 of file top\+\_\+k\+\_\+categorical\+\_\+accuracy.\+hpp.


\begin{DoxyCode}
59 \{ \textcolor{keywordflow}{return} \textcolor{stringliteral}{"%"}; \}
\end{DoxyCode}
Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classlbann_1_1top__k__categorical__accuracy__metric_a0531d4f199fa61ce448af8c945ff3dfc_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classlbann_1_1top__k__categorical__accuracy__metric_a7b49f722f75dabe73c0fc3500d72ef63}\label{classlbann_1_1top__k__categorical__accuracy__metric_a7b49f722f75dabe73c0fc3500d72ef63}} 
\index{lbann\+::top\+\_\+k\+\_\+categorical\+\_\+accuracy\+\_\+metric@{lbann\+::top\+\_\+k\+\_\+categorical\+\_\+accuracy\+\_\+metric}!name@{name}}
\index{name@{name}!lbann\+::top\+\_\+k\+\_\+categorical\+\_\+accuracy\+\_\+metric@{lbann\+::top\+\_\+k\+\_\+categorical\+\_\+accuracy\+\_\+metric}}
\subsubsection{\texorpdfstring{name()}{name()}}
{\footnotesize\ttfamily std\+::string lbann\+::top\+\_\+k\+\_\+categorical\+\_\+accuracy\+\_\+metric\+::name (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [override]}, {\ttfamily [virtual]}}

Return a string name for this metric. 

Implements \hyperlink{classlbann_1_1metric_af455d7b6874d3491bc04f0f2ebfcab51}{lbann\+::metric}.



Definition at line 57 of file top\+\_\+k\+\_\+categorical\+\_\+accuracy.\+hpp.


\begin{DoxyCode}
57 \{ \textcolor{keywordflow}{return} \textcolor{stringliteral}{"top-"} + std::to\_string(\hyperlink{classlbann_1_1top__k__categorical__accuracy__metric_a6cc172f6799bffac44de06d0657efdeb}{m\_top\_k}) +  \textcolor{stringliteral}{" categorical accuracy"}; \}
\end{DoxyCode}
\mbox{\Hypertarget{classlbann_1_1top__k__categorical__accuracy__metric_a2036cad8a7f9cb7490bf0341de0d70eb}\label{classlbann_1_1top__k__categorical__accuracy__metric_a2036cad8a7f9cb7490bf0341de0d70eb}} 
\index{lbann\+::top\+\_\+k\+\_\+categorical\+\_\+accuracy\+\_\+metric@{lbann\+::top\+\_\+k\+\_\+categorical\+\_\+accuracy\+\_\+metric}!operator=@{operator=}}
\index{operator=@{operator=}!lbann\+::top\+\_\+k\+\_\+categorical\+\_\+accuracy\+\_\+metric@{lbann\+::top\+\_\+k\+\_\+categorical\+\_\+accuracy\+\_\+metric}}
\subsubsection{\texorpdfstring{operator=()}{operator=()}}
{\footnotesize\ttfamily \hyperlink{classlbann_1_1top__k__categorical__accuracy__metric}{top\+\_\+k\+\_\+categorical\+\_\+accuracy\+\_\+metric}\& lbann\+::top\+\_\+k\+\_\+categorical\+\_\+accuracy\+\_\+metric\+::operator= (\begin{DoxyParamCaption}\item[{const \hyperlink{classlbann_1_1top__k__categorical__accuracy__metric}{top\+\_\+k\+\_\+categorical\+\_\+accuracy\+\_\+metric} \&}]{other }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [default]}}

Copy assignment operator. 

\subsection{Member Data Documentation}
\mbox{\Hypertarget{classlbann_1_1top__k__categorical__accuracy__metric_a6cc172f6799bffac44de06d0657efdeb}\label{classlbann_1_1top__k__categorical__accuracy__metric_a6cc172f6799bffac44de06d0657efdeb}} 
\index{lbann\+::top\+\_\+k\+\_\+categorical\+\_\+accuracy\+\_\+metric@{lbann\+::top\+\_\+k\+\_\+categorical\+\_\+accuracy\+\_\+metric}!m\+\_\+top\+\_\+k@{m\+\_\+top\+\_\+k}}
\index{m\+\_\+top\+\_\+k@{m\+\_\+top\+\_\+k}!lbann\+::top\+\_\+k\+\_\+categorical\+\_\+accuracy\+\_\+metric@{lbann\+::top\+\_\+k\+\_\+categorical\+\_\+accuracy\+\_\+metric}}
\subsubsection{\texorpdfstring{m\+\_\+top\+\_\+k}{m\_top\_k}}
{\footnotesize\ttfamily int lbann\+::top\+\_\+k\+\_\+categorical\+\_\+accuracy\+\_\+metric\+::m\+\_\+top\+\_\+k\hspace{0.3cm}{\ttfamily [private]}}

Number of classes to check. 

Definition at line 73 of file top\+\_\+k\+\_\+categorical\+\_\+accuracy.\+hpp.



The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
/\+Users/mckinney27/doxy-\/testbed/lbann/include/lbann/metrics/\hyperlink{top__k__categorical__accuracy_8hpp}{top\+\_\+k\+\_\+categorical\+\_\+accuracy.\+hpp}\item 
/\+Users/mckinney27/doxy-\/testbed/lbann/src/metrics/\hyperlink{top__k__categorical__accuracy_8cpp}{top\+\_\+k\+\_\+categorical\+\_\+accuracy.\+cpp}\end{DoxyCompactItemize}
