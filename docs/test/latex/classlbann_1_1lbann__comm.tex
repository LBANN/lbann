\hypertarget{classlbann_1_1lbann__comm}{}\section{lbann\+:\+:lbann\+\_\+comm Class Reference}
\label{classlbann_1_1lbann__comm}\index{lbann\+::lbann\+\_\+comm@{lbann\+::lbann\+\_\+comm}}


{\ttfamily \#include $<$comm.\+hpp$>$}

\subsection*{Classes}
\begin{DoxyCompactItemize}
\item 
struct \hyperlink{structlbann_1_1lbann__comm_1_1allreduce__options}{allreduce\+\_\+options}
\end{DoxyCompactItemize}
\subsection*{Public Types}
\begin{DoxyCompactItemize}
\item 
enum \hyperlink{classlbann_1_1lbann__comm_a02a03227cc27e3516f0d9f9812f32019}{allreduce\+\_\+algorithm} \{ \newline
\hyperlink{classlbann_1_1lbann__comm_a02a03227cc27e3516f0d9f9812f32019a5b39c8b553c821e7cddc6da64b5bd2ee}{allreduce\+\_\+algorithm\+::\+D\+E\+F\+A\+U\+LT}, 
\hyperlink{classlbann_1_1lbann__comm_a02a03227cc27e3516f0d9f9812f32019a0fcc90da4811c877ba9f9c12f7d60bc9}{allreduce\+\_\+algorithm\+::\+D\+Y\+N\+A\+M\+IC}, 
\hyperlink{classlbann_1_1lbann__comm_a02a03227cc27e3516f0d9f9812f32019a5a99a7b378e450d9e91b10b1f0085274}{allreduce\+\_\+algorithm\+::\+R\+E\+C\+U\+R\+S\+I\+V\+E\+\_\+\+D\+O\+U\+B\+L\+I\+NG}, 
\hyperlink{classlbann_1_1lbann__comm_a02a03227cc27e3516f0d9f9812f32019ae97d669b6498b36d1ce07b3d2c544fee}{allreduce\+\_\+algorithm\+::\+P\+A\+I\+R\+W\+I\+S\+E\+\_\+\+E\+X\+C\+H\+A\+N\+G\+E\+\_\+\+R\+I\+NG}, 
\newline
\hyperlink{classlbann_1_1lbann__comm_a02a03227cc27e3516f0d9f9812f32019ae69b8a2544417fb71e2767e95d7ac8f3}{allreduce\+\_\+algorithm\+::\+R\+I\+NG}, 
\hyperlink{classlbann_1_1lbann__comm_a02a03227cc27e3516f0d9f9812f32019aecfb3869b05d9c2103f98c386a9e8a41}{allreduce\+\_\+algorithm\+::\+R\+A\+B\+E\+N\+S\+E\+I\+F\+N\+ER}, 
\hyperlink{classlbann_1_1lbann__comm_a02a03227cc27e3516f0d9f9812f32019accc0377a8afbf50e7094f5c23a8af223}{allreduce\+\_\+algorithm\+::\+I\+N\+V\+A\+L\+ID}
 \}
\end{DoxyCompactItemize}
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classlbann_1_1lbann__comm_a63eae73674cbadea2eff8b6595322336}{lbann\+\_\+comm} (int \hyperlink{classlbann_1_1lbann__comm_a7cb55d127259d7ed9f07ccde6f4ebd8c}{procs\+\_\+per\+\_\+model}=0, const El\+::mpi\+::\+Comm world=El\+::mpi\+::\+C\+O\+M\+M\+\_\+\+W\+O\+R\+LD)
\item 
\hyperlink{classlbann_1_1lbann__comm_a198a6066e7908941898e07ebd62f8d18}{lbann\+\_\+comm} (const \hyperlink{classlbann_1_1lbann__comm}{lbann\+\_\+comm} \&)=delete
\item 
\hyperlink{classlbann_1_1lbann__comm}{lbann\+\_\+comm} \& \hyperlink{classlbann_1_1lbann__comm_ae5373895ee134866be9f2b042a1cef21}{operator=} (const \hyperlink{classlbann_1_1lbann__comm}{lbann\+\_\+comm} \&)=delete
\item 
\hyperlink{classlbann_1_1lbann__comm_af17b1093313c5e4223f9036798f9e12f}{$\sim$lbann\+\_\+comm} ()
\item 
void \hyperlink{classlbann_1_1lbann__comm_a0ae02c4083623d2e1381336a73fdb379}{split\+\_\+models} (int \hyperlink{classlbann_1_1lbann__comm_a7cb55d127259d7ed9f07ccde6f4ebd8c}{procs\+\_\+per\+\_\+model})
\item 
int \hyperlink{classlbann_1_1lbann__comm_a6422f70c92bed0b78179facc52b066f7}{get\+\_\+model\+\_\+rank} () const
\item 
int \hyperlink{classlbann_1_1lbann__comm_a789453454468a3b70de768537c50ca52}{get\+\_\+rank\+\_\+in\+\_\+model} () const
\item 
int \hyperlink{classlbann_1_1lbann__comm_a4519335d6772dab3c36517618260d48a}{get\+\_\+rank\+\_\+in\+\_\+world} () const
\item 
int \hyperlink{classlbann_1_1lbann__comm_ab3b1ebe8b72575094405eb2e37bb447d}{get\+\_\+world\+\_\+rank} (int \hyperlink{classlbann_1_1model}{model}, int rank) const
\item 
int \hyperlink{classlbann_1_1lbann__comm_a96d8d7a0ff8ee1511f8c8b8fa92628af}{get\+\_\+model\+\_\+master} () const
\item 
int \hyperlink{classlbann_1_1lbann__comm_adbd99fe6c8df2689217c9ee16d6234d7}{get\+\_\+intermodel\+\_\+master} () const
\item 
int \hyperlink{classlbann_1_1lbann__comm_aa682313f366e0b7cf781bc1872911f65}{get\+\_\+world\+\_\+master} () const
\item 
bool \hyperlink{classlbann_1_1lbann__comm_ad8a5790dfa9191d4b4f889e8707e57f1}{am\+\_\+model\+\_\+master} () const
\item 
bool \hyperlink{classlbann_1_1lbann__comm_a1ef526486183a29feadca9bef096a534}{am\+\_\+world\+\_\+master} () const
\item 
\hyperlink{base_8hpp_a9951bb1719d534e0401b1f06cad19eab}{Grid} \& \hyperlink{classlbann_1_1lbann__comm_a483bf8a72d44a0e83da45f3d47bd20d4}{get\+\_\+model\+\_\+grid} ()
\item 
int \hyperlink{classlbann_1_1lbann__comm_aeb8ef8f13bbb324e3e1f656998198f3f}{get\+\_\+num\+\_\+models} () const
\item 
int \hyperlink{classlbann_1_1lbann__comm_a5755dfdfc6377b4cae5ef8f7819e17de}{get\+\_\+procs\+\_\+per\+\_\+model} () const
\item 
int \hyperlink{classlbann_1_1lbann__comm_ac5ccd63337b0cbb2fd730fddd9f8da3e}{get\+\_\+procs\+\_\+per\+\_\+node} () const
\item 
int \hyperlink{classlbann_1_1lbann__comm_a1eb92927a8f8bcbdd677ccecc1a33c59}{get\+\_\+procs\+\_\+in\+\_\+world} () const
\item 
int \hyperlink{classlbann_1_1lbann__comm_acebc5ff36fcb64c05f66757953aefb8c}{get\+\_\+rank\+\_\+in\+\_\+node} () const
\item 
bool \hyperlink{classlbann_1_1lbann__comm_a17ef6771432c3e91cd7d404d182ed531}{is\+\_\+world\+\_\+rank\+\_\+on\+\_\+node} (int rank) const
\item 
int \hyperlink{classlbann_1_1lbann__comm_a3c60c211a663801b57197dddf58356da}{get\+\_\+default\+\_\+threads\+\_\+per\+\_\+proc} () const
\item 
void \hyperlink{classlbann_1_1lbann__comm_a10f13918019cd2e021768e3388355ba2}{reset\+\_\+threads} ()
\item 
void \hyperlink{classlbann_1_1lbann__comm_a68b36ba64db34f33cb135bc64c4623e0}{intermodel\+\_\+sum\+\_\+matrix} (\hyperlink{base_8hpp_a68f11fdc31b62516cb310831bbe54d73}{Mat} \&mat)
\item 
void \hyperlink{classlbann_1_1lbann__comm_a55edcd98bf4903235ed11eb7c96f5eb4}{intermodel\+\_\+sum\+\_\+matrix} (\hyperlink{base_8hpp_a9a697a504ae84010e7439ffec862b470}{Abs\+Dist\+Mat} \&mat)
\item 
void \hyperlink{classlbann_1_1lbann__comm_a4989229db1ee858c5a2170a989653d0b}{intermodel\+\_\+broadcast\+\_\+matrix} (\hyperlink{base_8hpp_a68f11fdc31b62516cb310831bbe54d73}{Mat} \&mat, int root)
\item 
void \hyperlink{classlbann_1_1lbann__comm_a7fb6be066a634169cb41cef3f98032f0}{intermodel\+\_\+broadcast\+\_\+matrix} (\hyperlink{base_8hpp_a9a697a504ae84010e7439ffec862b470}{Abs\+Dist\+Mat} \&mat, int root)
\item 
{\footnotesize template$<$typename T $>$ }\\T \hyperlink{classlbann_1_1lbann__comm_a158db6a85549d314be56806dcb442432}{intermodel\+\_\+broadcast} (int root, T val=\{\})
\item 
{\footnotesize template$<$typename T $>$ }\\T \hyperlink{classlbann_1_1lbann__comm_a929f44a9a9563ae9e4ffe7d44235a195}{model\+\_\+broadcast} (int root, T val=\{\})
\item 
{\footnotesize template$<$typename T $>$ }\\T \hyperlink{classlbann_1_1lbann__comm_af823b7ca3caccbd0710cd1435e60506b}{broadcast} (int root, const El\+::mpi\+::\+Comm c)
\item 
{\footnotesize template$<$typename T $>$ }\\T \hyperlink{classlbann_1_1lbann__comm_a34bb0766e57fda27e6618c9e66fec269}{broadcast} (int root, T val, const El\+::mpi\+::\+Comm c)
\item 
{\footnotesize template$<$typename T $>$ }\\void \hyperlink{classlbann_1_1lbann__comm_ab7cdeca37f1fcd22a3b69f6134fb299f}{model\+\_\+gather} (T snd, int root)
\item 
{\footnotesize template$<$typename T $>$ }\\void \hyperlink{classlbann_1_1lbann__comm_a54ee25dd95d57c0781ac0aa84d30ab8b}{model\+\_\+gather} (T snd, T $\ast$rcv)
\item 
{\footnotesize template$<$typename T $>$ }\\void \hyperlink{classlbann_1_1lbann__comm_ab3d868497325882372e1a8d9f878cd2f}{model\+\_\+gather} (T $\ast$snd, int count, int root)
\item 
{\footnotesize template$<$typename T $>$ }\\void \hyperlink{classlbann_1_1lbann__comm_adc1c96023f4546d57f0a85e905d070b4}{model\+\_\+gather} (T $\ast$snd, int count, T $\ast$rcv)
\item 
{\footnotesize template$<$typename T $>$ }\\void \hyperlink{classlbann_1_1lbann__comm_a9d4eeae3b7ed19d48e95fc3f7138885b}{model\+\_\+gatherv} (T $\ast$snd, int count, int root)
\item 
{\footnotesize template$<$typename T $>$ }\\void \hyperlink{classlbann_1_1lbann__comm_a2752b91d60548d15320d5808d8c523d2}{model\+\_\+gatherv} (T $\ast$snd, int count, T $\ast$rcv, int $\ast$rcv\+\_\+counts, int $\ast$rcv\+\_\+displacements)
\item 
{\footnotesize template$<$typename T $>$ }\\void \hyperlink{classlbann_1_1lbann__comm_a142c396a4d4a2c16ee234b813e7e45a6}{intermodel\+\_\+gather} (T snd, int root)
\item 
{\footnotesize template$<$typename T $>$ }\\void \hyperlink{classlbann_1_1lbann__comm_aafaadde82ce60f467b5dcf014dc78481}{intermodel\+\_\+gather} (T snd, std\+::vector$<$ T $>$ \&rcv)
\item 
{\footnotesize template$<$typename T $>$ }\\void \hyperlink{classlbann_1_1lbann__comm_a3fe4457945fb78769a69ac7f86e4bc11}{intermodel\+\_\+gather} (T $\ast$snd, int count, int root)
\item 
{\footnotesize template$<$typename T $>$ }\\void \hyperlink{classlbann_1_1lbann__comm_a954d59f6574884b9a6c7d5228e9460d4}{intermodel\+\_\+gather} (T $\ast$snd, int count, T $\ast$rcv)
\item 
{\footnotesize template$<$typename T $>$ }\\void \hyperlink{classlbann_1_1lbann__comm_aa784298e6ed0f9f01a20b179d5110df9}{gather} (T snd, int root, const El\+::mpi\+::\+Comm c)
\item 
{\footnotesize template$<$typename T $>$ }\\void \hyperlink{classlbann_1_1lbann__comm_ae4b572b9b6538ab148b3082f54514c19}{gather} (T snd, T $\ast$rcv, const El\+::mpi\+::\+Comm c)
\item 
{\footnotesize template$<$typename T $>$ }\\void \hyperlink{classlbann_1_1lbann__comm_a46a70202481a0b8bc5770f7174d8462f}{gather} (T snd, std\+::vector$<$ T $>$ \&rcv, const El\+::mpi\+::\+Comm c)
\item 
{\footnotesize template$<$typename T $>$ }\\void \hyperlink{classlbann_1_1lbann__comm_a6d9e9a16e30045690ea416bf25b77148}{gather} (T $\ast$snd, int count, int root, const El\+::mpi\+::\+Comm c)
\item 
{\footnotesize template$<$typename T $>$ }\\void \hyperlink{classlbann_1_1lbann__comm_a90680b777bcecb4d24392b3300919066}{gather} (T $\ast$snd, int count, T $\ast$rcv, const El\+::mpi\+::\+Comm c)
\item 
{\footnotesize template$<$typename T $>$ }\\T \hyperlink{classlbann_1_1lbann__comm_a74b5c594bfa5aec03af9ad2bd8f5e979}{scatter} (int root, const El\+::mpi\+::\+Comm c)
\item 
{\footnotesize template$<$typename T $>$ }\\T \hyperlink{classlbann_1_1lbann__comm_a4918100a99e03a6bca3ec304cb282172}{scatter} (T $\ast$snd, const El\+::mpi\+::\+Comm c)
\item 
{\footnotesize template$<$typename T $>$ }\\void \hyperlink{classlbann_1_1lbann__comm_a485715aa8e0e05d9ced78346342692a5}{intermodel\+\_\+reduce} (T snd, int root, El\+::mpi\+::\+Op op=El\+::mpi\+::\+S\+UM)
\item 
{\footnotesize template$<$typename T $>$ }\\T \hyperlink{classlbann_1_1lbann__comm_a4861b03da73bbc8fec61a10ebf129ee0}{intermodel\+\_\+reduce} (T snd, El\+::mpi\+::\+Op op=El\+::mpi\+::\+S\+UM)
\item 
{\footnotesize template$<$typename T $>$ }\\void \hyperlink{classlbann_1_1lbann__comm_a4903dbabf8f649abc2734510d434eed2}{model\+\_\+reduce} (T snd, int root, El\+::mpi\+::\+Op op=El\+::mpi\+::\+S\+UM)
\item 
{\footnotesize template$<$typename T $>$ }\\T \hyperlink{classlbann_1_1lbann__comm_aac992e520cfbfb5f7b403ee6c9334b0e}{model\+\_\+reduce} (T snd, El\+::mpi\+::\+Op op=El\+::mpi\+::\+S\+UM)
\item 
{\footnotesize template$<$typename T $>$ }\\void \hyperlink{classlbann_1_1lbann__comm_aa605a57eb9132fc575e90b1ac825cf0b}{model\+\_\+reduce} (T $\ast$snd, int count, int root, El\+::mpi\+::\+Op op=El\+::mpi\+::\+S\+UM)
\item 
{\footnotesize template$<$typename T $>$ }\\void \hyperlink{classlbann_1_1lbann__comm_aba37a188f88277b23583aa8bea2e2f04}{model\+\_\+reduce} (T $\ast$snd, int count, T $\ast$rcv, El\+::mpi\+::\+Op op=El\+::mpi\+::\+S\+UM)
\item 
{\footnotesize template$<$typename T $>$ }\\void \hyperlink{classlbann_1_1lbann__comm_ab8a2261394c978aa7e4b74ecebc739a8}{reduce} (T snd, int root, const El\+::mpi\+::\+Comm c, El\+::mpi\+::\+Op op=El\+::mpi\+::\+S\+UM)
\item 
{\footnotesize template$<$typename T $>$ }\\T \hyperlink{classlbann_1_1lbann__comm_a982adc23d7e6e6224f8bbd846672e429}{reduce} (T snd, const El\+::mpi\+::\+Comm c, El\+::mpi\+::\+Op op=El\+::mpi\+::\+S\+UM)
\item 
{\footnotesize template$<$typename T $>$ }\\void \hyperlink{classlbann_1_1lbann__comm_a5543241da0cf9193fd1f331bbad5dd70}{reduce} (T $\ast$snd, int count, int root, const El\+::mpi\+::\+Comm c, El\+::mpi\+::\+Op op=El\+::mpi\+::\+S\+UM)
\item 
{\footnotesize template$<$typename T $>$ }\\void \hyperlink{classlbann_1_1lbann__comm_a476ad01cab90fd01228ec1273a8e389e}{reduce} (T $\ast$snd, int count, T $\ast$rcv, const El\+::mpi\+::\+Comm c, El\+::mpi\+::\+Op op=El\+::mpi\+::\+S\+UM)
\item 
{\footnotesize template$<$typename T $>$ }\\T \hyperlink{classlbann_1_1lbann__comm_a502bd724f9fb27f0e899306c69a3ec47}{intermodel\+\_\+allreduce} (T snd, El\+::mpi\+::\+Op op=El\+::mpi\+::\+S\+UM)
\item 
{\footnotesize template$<$typename T $>$ }\\T \hyperlink{classlbann_1_1lbann__comm_aebb6290d1b618eace302404291c598a5}{model\+\_\+allreduce} (T snd, El\+::mpi\+::\+Op op=El\+::mpi\+::\+S\+UM)
\item 
{\footnotesize template$<$typename T $>$ }\\void \hyperlink{classlbann_1_1lbann__comm_a6dce8c5dd188633e69e9d5c79e5ef1bd}{model\+\_\+allreduce} (T $\ast$snd, int count, T $\ast$rcv, El\+::mpi\+::\+Op op=El\+::mpi\+::\+S\+UM)
\item 
{\footnotesize template$<$typename T $>$ }\\T \hyperlink{classlbann_1_1lbann__comm_af5631e5f0f54e4df4958eba9df2599ef}{allreduce} (T snd, const El\+::mpi\+::\+Comm c, El\+::mpi\+::\+Op op=El\+::mpi\+::\+S\+UM)
\item 
{\footnotesize template$<$typename T $>$ }\\void \hyperlink{classlbann_1_1lbann__comm_a12dd4f5476c54bdaf1ae2b348174b9fd}{allreduce} (T $\ast$snd, int count, T $\ast$rcv, const El\+::mpi\+::\+Comm c, El\+::mpi\+::\+Op op=El\+::mpi\+::\+S\+UM)
\item 
{\footnotesize template$<$typename T $>$ }\\void \hyperlink{classlbann_1_1lbann__comm_a14adb0771b966f40536bf0e92fb00ebb}{allreduce} (T $\ast$data, int count, const El\+::mpi\+::\+Comm c, El\+::mpi\+::\+Op op=El\+::mpi\+::\+S\+UM)
\item 
void \hyperlink{classlbann_1_1lbann__comm_adaff1e6549a3fb902c85f1be2718c1ff}{allreduce} (\hyperlink{base_8hpp_a9a697a504ae84010e7439ffec862b470}{Abs\+Dist\+Mat} \&m, const El\+::mpi\+::\+Comm c, El\+::mpi\+::\+Op op=El\+::mpi\+::\+S\+UM, std\+::type\+\_\+index t=std\+::type\+\_\+index(typeid(\hyperlink{namespacelbann_1_1Al_a8a69c2fac7e1117883fff1903c2232ce}{Al\+::mpi\+\_\+backend})))
\item 
void \hyperlink{classlbann_1_1lbann__comm_a2a7bb6cf3707366fc0671d8894ca30ea}{nb\+\_\+allreduce} (\hyperlink{base_8hpp_a9a697a504ae84010e7439ffec862b470}{Abs\+Dist\+Mat} \&m, const El\+::mpi\+::\+Comm c, \hyperlink{structlbann_1_1Al_1_1request}{Al\+::request} \&req, El\+::mpi\+::\+Op op=El\+::mpi\+::\+S\+UM, std\+::type\+\_\+index t=std\+::type\+\_\+index(typeid(\hyperlink{namespacelbann_1_1Al_a8a69c2fac7e1117883fff1903c2232ce}{Al\+::mpi\+\_\+backend})))
\item 
{\footnotesize template$<$typename T $>$ }\\void \hyperlink{classlbann_1_1lbann__comm_afb144a99e0cd2241f5fb05cad68b1f08}{nb\+\_\+allreduce} (T $\ast$data, int count, const El\+::mpi\+::\+Comm c, \hyperlink{structlbann_1_1Al_1_1request}{Al\+::request} \&req, El\+::mpi\+::\+Op op=El\+::mpi\+::\+S\+UM)
\item 
{\footnotesize template$<$typename T $>$ }\\void \hyperlink{classlbann_1_1lbann__comm_a30439f28cf615e1406090799c5499321}{wait} (El\+::mpi\+::\+Request$<$ T $>$ \&req)
\item 
void \hyperlink{classlbann_1_1lbann__comm_a91d09d595801f6228ee0aecf6dea25c7}{wait} (\hyperlink{structlbann_1_1Al_1_1request}{Al\+::request} \&req)
\item 
bool \hyperlink{classlbann_1_1lbann__comm_a99303a11b939b4aba9d4a67dd0deef56}{test} (\hyperlink{structlbann_1_1Al_1_1request}{Al\+::request} \&req)
\item 
void \hyperlink{classlbann_1_1lbann__comm_a5834e95e066313d9328b22e4a0ec8663}{intermodel\+\_\+barrier} ()
\item 
void \hyperlink{classlbann_1_1lbann__comm_a6086ced12c3eefeea6e2a78eff286983}{model\+\_\+barrier} ()
\item 
void \hyperlink{classlbann_1_1lbann__comm_ae12af95f4826571efa03fb8520260daa}{global\+\_\+barrier} ()
\item 
void \hyperlink{classlbann_1_1lbann__comm_a303c02c5a127f3ed21f12c9a71cc90a6}{barrier} (const El\+::mpi\+::\+Comm c)
\item 
{\footnotesize template$<$typename T $>$ }\\void \hyperlink{classlbann_1_1lbann__comm_a086078b881e7250df140ac116adb1939}{send} (const T $\ast$data, int count, int \hyperlink{classlbann_1_1model}{model}, int rank)
\item 
{\footnotesize template$<$typename T $>$ }\\void \hyperlink{classlbann_1_1lbann__comm_a12ddcc441fa1073aff23797c3c923ef6}{send} (const T $\ast$data, int count, int \hyperlink{classlbann_1_1model}{model})
\item 
void \hyperlink{classlbann_1_1lbann__comm_ac3fa03c3ee8351daed6c7a5fd6f8535d}{send} (const \hyperlink{base_8hpp_a68f11fdc31b62516cb310831bbe54d73}{Mat} \&mat, int \hyperlink{classlbann_1_1model}{model}, int rank)
\item 
void \hyperlink{classlbann_1_1lbann__comm_ae6ad297cccfc9ed893b855046d60b34d}{send} (const \hyperlink{base_8hpp_a0fab5387556805cfeac3e7e567bf66c5}{Dist\+Mat} \&mat, int \hyperlink{classlbann_1_1model}{model}, int rank)
\item 
void \hyperlink{classlbann_1_1lbann__comm_a4dc53b43a36e597a0c11266ea3c6d7f7}{send} (const \hyperlink{base_8hpp_a68f11fdc31b62516cb310831bbe54d73}{Mat} \&mat, int \hyperlink{classlbann_1_1model}{model})
\item 
void \hyperlink{classlbann_1_1lbann__comm_aeb76535e61e5bc669ebadad223e4add7}{send} (const \hyperlink{base_8hpp_a0fab5387556805cfeac3e7e567bf66c5}{Dist\+Mat} \&mat, int \hyperlink{classlbann_1_1model}{model})
\item 
{\footnotesize template$<$typename T $>$ }\\void \hyperlink{classlbann_1_1lbann__comm_a70679ca6477c56972f9bc53d52e5ce21}{nb\+\_\+send} (const T $\ast$data, int count, int \hyperlink{classlbann_1_1model}{model}, int rank, El\+::mpi\+::\+Request$<$ T $>$ \&req)
\item 
{\footnotesize template$<$typename T $>$ }\\void \hyperlink{classlbann_1_1lbann__comm_a6d9de11c64685e0983b196044856d281}{nb\+\_\+send} (const T $\ast$data, int count, int \hyperlink{classlbann_1_1model}{model}, El\+::mpi\+::\+Request$<$ T $>$ \&req)
\item 
void \hyperlink{classlbann_1_1lbann__comm_ae86cb0f65c8e11dec7a1cf0d3ce17cd2}{nb\+\_\+send} (const \hyperlink{base_8hpp_a68f11fdc31b62516cb310831bbe54d73}{Mat} \&mat, int \hyperlink{classlbann_1_1model}{model}, int rank, El\+::mpi\+::\+Request$<$ Data\+Type $>$ \&req)
\item 
void \hyperlink{classlbann_1_1lbann__comm_ad77344b63311b7ec57c63af67120c3e6}{nb\+\_\+send} (const \hyperlink{base_8hpp_a0fab5387556805cfeac3e7e567bf66c5}{Dist\+Mat} \&mat, int \hyperlink{classlbann_1_1model}{model}, int rank, El\+::mpi\+::\+Request$<$ Data\+Type $>$ \&req)
\item 
void \hyperlink{classlbann_1_1lbann__comm_a7d22130a7d24a710fe6b31c0ccec78b1}{nb\+\_\+send} (const \hyperlink{base_8hpp_a68f11fdc31b62516cb310831bbe54d73}{Mat} \&mat, int \hyperlink{classlbann_1_1model}{model}, El\+::mpi\+::\+Request$<$ Data\+Type $>$ \&req)
\item 
void \hyperlink{classlbann_1_1lbann__comm_a1144c161ccc147d879d088b5832d64a7}{nb\+\_\+send} (const \hyperlink{base_8hpp_a0fab5387556805cfeac3e7e567bf66c5}{Dist\+Mat} \&mat, int \hyperlink{classlbann_1_1model}{model}, El\+::mpi\+::\+Request$<$ Data\+Type $>$ \&req)
\item 
{\footnotesize template$<$typename T $>$ }\\void \hyperlink{classlbann_1_1lbann__comm_af8842cd4cea390f76d9146e1c4578de4}{recv} (T $\ast$data, int count, int \hyperlink{classlbann_1_1model}{model}, int rank)
\item 
{\footnotesize template$<$typename T $>$ }\\void \hyperlink{classlbann_1_1lbann__comm_a7f2f06772bdee76b4d736c1d7ab84329}{recv} (T $\ast$data, int count, int \hyperlink{classlbann_1_1model}{model})
\item 
void \hyperlink{classlbann_1_1lbann__comm_ac1ed8dd7b6f839b69bfb33f88728b18d}{recv} (\hyperlink{base_8hpp_a68f11fdc31b62516cb310831bbe54d73}{Mat} \&mat, int \hyperlink{classlbann_1_1model}{model}, int rank)
\item 
void \hyperlink{classlbann_1_1lbann__comm_a1376b4f3c0941e19ff23a8baf30eb63d}{recv} (\hyperlink{base_8hpp_a0fab5387556805cfeac3e7e567bf66c5}{Dist\+Mat} \&mat, int \hyperlink{classlbann_1_1model}{model}, int rank)
\item 
void \hyperlink{classlbann_1_1lbann__comm_a6b1ecfe900346c0996fb8066e4f76fe2}{recv} (\hyperlink{base_8hpp_a68f11fdc31b62516cb310831bbe54d73}{Mat} \&mat, int \hyperlink{classlbann_1_1model}{model})
\item 
void \hyperlink{classlbann_1_1lbann__comm_a018f0451e2a984d28b6a1f099cf9d421}{recv} (\hyperlink{base_8hpp_a0fab5387556805cfeac3e7e567bf66c5}{Dist\+Mat} \&mat, int \hyperlink{classlbann_1_1model}{model})
\item 
{\footnotesize template$<$typename T $>$ }\\void \hyperlink{classlbann_1_1lbann__comm_ab96fe808a236d41ecd05c0cc2461dba0}{recv} (T $\ast$data, int count)
\item 
void \hyperlink{classlbann_1_1lbann__comm_a3d0cca55711c9c9913f3d940c5bba4eb}{recv} (\hyperlink{base_8hpp_a68f11fdc31b62516cb310831bbe54d73}{Mat} \&mat)
\item 
void \hyperlink{classlbann_1_1lbann__comm_acc92b86b30287689870e018b062076f8}{recv} (\hyperlink{base_8hpp_a0fab5387556805cfeac3e7e567bf66c5}{Dist\+Mat} \&mat)
\item 
{\footnotesize template$<$typename T $>$ }\\void \hyperlink{classlbann_1_1lbann__comm_aac24e8802602c73efddb455274e158f4}{nb\+\_\+recv} (T $\ast$data, int count, int \hyperlink{classlbann_1_1model}{model}, int rank, El\+::mpi\+::\+Request$<$ T $>$ \&req)
\item 
{\footnotesize template$<$typename T $>$ }\\void \hyperlink{classlbann_1_1lbann__comm_ad75e65db156edd86efa26ef1986668d0}{nb\+\_\+recv} (T $\ast$data, int count, int \hyperlink{classlbann_1_1model}{model}, El\+::mpi\+::\+Request$<$ T $>$ \&req)
\item 
void \hyperlink{classlbann_1_1lbann__comm_a8f850662e84e3efab19244d1ef6752d7}{nb\+\_\+recv} (\hyperlink{base_8hpp_a68f11fdc31b62516cb310831bbe54d73}{Mat} \&mat, int \hyperlink{classlbann_1_1model}{model}, int rank, El\+::mpi\+::\+Request$<$ Data\+Type $>$ \&req)
\item 
void \hyperlink{classlbann_1_1lbann__comm_abec714b3f80361f104eaa004d906798b}{nb\+\_\+recv} (\hyperlink{base_8hpp_a0fab5387556805cfeac3e7e567bf66c5}{Dist\+Mat} \&mat, int \hyperlink{classlbann_1_1model}{model}, int rank, El\+::mpi\+::\+Request$<$ Data\+Type $>$ \&req)
\item 
void \hyperlink{classlbann_1_1lbann__comm_ad76ddffcad6e996b8da2ba7670d20b24}{nb\+\_\+recv} (\hyperlink{base_8hpp_a68f11fdc31b62516cb310831bbe54d73}{Mat} \&mat, int \hyperlink{classlbann_1_1model}{model}, El\+::mpi\+::\+Request$<$ Data\+Type $>$ \&req)
\item 
void \hyperlink{classlbann_1_1lbann__comm_aec876be95ab91bfff6337f06adc6a797}{nb\+\_\+recv} (\hyperlink{base_8hpp_a0fab5387556805cfeac3e7e567bf66c5}{Dist\+Mat} \&mat, int \hyperlink{classlbann_1_1model}{model}, El\+::mpi\+::\+Request$<$ Data\+Type $>$ \&req)
\item 
{\footnotesize template$<$typename T $>$ }\\void \hyperlink{classlbann_1_1lbann__comm_a77c74bcc60e9946d45cf575234a7acc2}{nb\+\_\+recv} (T $\ast$data, int count, El\+::mpi\+::\+Request$<$ T $>$ \&req)
\item 
void \hyperlink{classlbann_1_1lbann__comm_a4e703fa356dd7807fda82d1d1eb81e1d}{nb\+\_\+recv} (\hyperlink{base_8hpp_a68f11fdc31b62516cb310831bbe54d73}{Mat} \&mat, El\+::mpi\+::\+Request$<$ Data\+Type $>$ \&req)
\item 
void \hyperlink{classlbann_1_1lbann__comm_a105c0fa7997f23637cbd03d566748bca}{nb\+\_\+recv} (\hyperlink{base_8hpp_a0fab5387556805cfeac3e7e567bf66c5}{Dist\+Mat} \&mat, El\+::mpi\+::\+Request$<$ Data\+Type $>$ \&req)
\item 
{\footnotesize template$<$typename T $>$ }\\void \hyperlink{classlbann_1_1lbann__comm_a6314e3b07b21b8fb0cd2ebe1e49dddb9}{sendrecv} (const T $\ast$snd, int send\+\_\+count, int send\+\_\+model, int send\+\_\+rank, T $\ast$rcv, int recv\+\_\+count, int recv\+\_\+model, int recv\+\_\+rank)
\item 
{\footnotesize template$<$typename T $>$ }\\void \hyperlink{classlbann_1_1lbann__comm_a61e8479f25d209be238f1b61115f7a0d}{sendrecv} (const T $\ast$snd, int send\+\_\+count, int send\+\_\+model, T $\ast$rcv, int recv\+\_\+count, int recv\+\_\+model)
\item 
{\footnotesize template$<$typename T $>$ }\\int \hyperlink{classlbann_1_1lbann__comm_aa1db618eb587ead21fb0420bf94bfd45}{get\+\_\+count} (int \hyperlink{classlbann_1_1model}{model}, int rank)
\item 
{\footnotesize template$<$typename T $>$ }\\int \hyperlink{classlbann_1_1lbann__comm_a54544a1b1a691fa7b6314da5682f184c}{get\+\_\+count} (int \hyperlink{classlbann_1_1model}{model})
\item 
size\+\_\+t \hyperlink{classlbann_1_1lbann__comm_ab07201c12c01f065acb151f2a3c32efa}{get\+\_\+num\+\_\+model\+\_\+barriers} () const
\item 
size\+\_\+t \hyperlink{classlbann_1_1lbann__comm_a78ea2f289eb8de66edecb84b6cf48b84}{get\+\_\+num\+\_\+intermodel\+\_\+barriers} () const
\item 
size\+\_\+t \hyperlink{classlbann_1_1lbann__comm_ad5a4f05dc5a2c992ebb659650a7dc6ce}{get\+\_\+num\+\_\+global\+\_\+barriers} () const
\item 
size\+\_\+t \hyperlink{classlbann_1_1lbann__comm_afe3d3d12c544b43c478b968ef4226561}{get\+\_\+bytes\+\_\+sent} () const
\item 
size\+\_\+t \hyperlink{classlbann_1_1lbann__comm_aadc407cd170fc9da46cdc4483f424b2a}{get\+\_\+bytes\+\_\+received} () const
\item 
size\+\_\+t \hyperlink{classlbann_1_1lbann__comm_ae0be48a03e4e8af43929c97a31a8f361}{get\+\_\+ar\+\_\+bytes\+\_\+sent} () const
\item 
size\+\_\+t \hyperlink{classlbann_1_1lbann__comm_a1b7c53c7c8e04543e1a262a01d847976}{get\+\_\+ar\+\_\+bytes\+\_\+received} () const
\item 
size\+\_\+t \hyperlink{classlbann_1_1lbann__comm_a7b9827e5f46d535c8ab2cf2f6c576291}{get\+\_\+ar\+\_\+rs\+\_\+bytes\+\_\+sent} () const
\item 
size\+\_\+t \hyperlink{classlbann_1_1lbann__comm_a4ed37b23401cd6df6502229bae0e5a1d}{get\+\_\+ar\+\_\+rs\+\_\+bytes\+\_\+received} () const
\item 
size\+\_\+t \hyperlink{classlbann_1_1lbann__comm_af745b91711014bf5a9f8d2466b5a6634}{get\+\_\+ar\+\_\+ag\+\_\+bytes\+\_\+sent} () const
\item 
size\+\_\+t \hyperlink{classlbann_1_1lbann__comm_a7aaeb171cd6f08926a6919e9a7892a73}{get\+\_\+ar\+\_\+ag\+\_\+bytes\+\_\+received} () const
\item 
double \hyperlink{classlbann_1_1lbann__comm_a29e966df9f8241bba47aa1663ce4151a}{get\+\_\+ar\+\_\+time} () const
\item 
double \hyperlink{classlbann_1_1lbann__comm_a3db95439bebabcc1648e50698d56dbaa}{get\+\_\+ar\+\_\+rs\+\_\+time} () const
\item 
double \hyperlink{classlbann_1_1lbann__comm_aca331207a61bf11d8979c2c06e20b6be}{get\+\_\+ar\+\_\+ag\+\_\+time} () const
\item 
double \hyperlink{classlbann_1_1lbann__comm_aed5d56c2b7205009c67ab37ea1c1556f}{get\+\_\+ar\+\_\+send\+\_\+transform\+\_\+time} () const
\item 
double \hyperlink{classlbann_1_1lbann__comm_afa5144a3d7bd40e1d78193d9f299e8ec}{get\+\_\+ar\+\_\+recv\+\_\+transform\+\_\+time} () const
\item 
double \hyperlink{classlbann_1_1lbann__comm_a893af1da4330be474871eeb8b2f9a7b5}{get\+\_\+ar\+\_\+recv\+\_\+apply\+\_\+transform\+\_\+time} () const
\item 
double \hyperlink{classlbann_1_1lbann__comm_a2643a3713d7c2ed64851fc345ba2273f}{get\+\_\+ar\+\_\+send\+\_\+time} () const
\item 
double \hyperlink{classlbann_1_1lbann__comm_a925aad805ceda573cd380b95b8c4a34a}{get\+\_\+ar\+\_\+recv\+\_\+time} () const
\item 
double \hyperlink{classlbann_1_1lbann__comm_a7222cd0613d9a94eafc89c51bfeae20d}{get\+\_\+ar\+\_\+rs\+\_\+send\+\_\+time} () const
\item 
double \hyperlink{classlbann_1_1lbann__comm_ab3474bd1c09ca432e302279acfd83307}{get\+\_\+ar\+\_\+rs\+\_\+recv\+\_\+time} () const
\item 
double \hyperlink{classlbann_1_1lbann__comm_a4482ccdfe56837dd4152c3a33f523a1c}{get\+\_\+ar\+\_\+ag\+\_\+send\+\_\+time} () const
\item 
double \hyperlink{classlbann_1_1lbann__comm_a78820c4fbd15df596d41844276cc966a}{get\+\_\+ar\+\_\+ag\+\_\+recv\+\_\+time} () const
\item 
void \hyperlink{classlbann_1_1lbann__comm_adb9afab1b8af03276e6e6347f8021ef5}{reset\+\_\+stats\+\_\+counters} ()
\item 
\hyperlink{classlbann_1_1lbann__comm_a02a03227cc27e3516f0d9f9812f32019}{allreduce\+\_\+algorithm} \hyperlink{classlbann_1_1lbann__comm_aafcb505629dd550ebd0b2c41792aca27}{get\+\_\+default\+\_\+allreduce\+\_\+algorithm} () const
\item 
void \hyperlink{classlbann_1_1lbann__comm_aaae50e4643ca06671e7cb7872d455708}{set\+\_\+default\+\_\+allreduce\+\_\+algorithm} (\hyperlink{classlbann_1_1lbann__comm_a02a03227cc27e3516f0d9f9812f32019}{allreduce\+\_\+algorithm} algo)
\item 
void \hyperlink{classlbann_1_1lbann__comm_a34d5414f1ac4749e6f0937b638bb5cc6}{intermodel\+\_\+allreduce} (\hyperlink{base_8hpp_a68f11fdc31b62516cb310831bbe54d73}{Mat} \&mat, int max\+\_\+recv\+\_\+count, std\+::function$<$ uint8\+\_\+t $\ast$(\hyperlink{base_8hpp_a68f11fdc31b62516cb310831bbe54d73}{Mat} \&, El\+::\+IR, El\+::\+IR, int \&, bool, int)$>$ send\+\_\+transform, std\+::function$<$ int(uint8\+\_\+t $\ast$, \hyperlink{base_8hpp_a68f11fdc31b62516cb310831bbe54d73}{Mat} \&)$>$ recv\+\_\+transform, std\+::function$<$ int(uint8\+\_\+t $\ast$, \hyperlink{base_8hpp_a68f11fdc31b62516cb310831bbe54d73}{Mat} \&, bool)$>$ recv\+\_\+apply\+\_\+transform, const \hyperlink{structlbann_1_1lbann__comm_1_1allreduce__options}{allreduce\+\_\+options} opts)
\item 
void \hyperlink{classlbann_1_1lbann__comm_a99bc2f8128f0b0e2ebdf876a3a343635}{recursive\+\_\+doubling\+\_\+allreduce\+\_\+pow2} (const El\+::mpi\+::\+Comm \hyperlink{file__io_8cpp_ab048c6f9fcbcfaa57ce68b00263dbebe}{comm}, \hyperlink{base_8hpp_a68f11fdc31b62516cb310831bbe54d73}{Mat} \&mat, int max\+\_\+recv\+\_\+count, std\+::function$<$ uint8\+\_\+t $\ast$(\hyperlink{base_8hpp_a68f11fdc31b62516cb310831bbe54d73}{Mat} \&, El\+::\+IR, El\+::\+IR, int \&, bool, int)$>$ send\+\_\+transform, std\+::function$<$ int(uint8\+\_\+t $\ast$, \hyperlink{base_8hpp_a68f11fdc31b62516cb310831bbe54d73}{Mat} \&, bool)$>$ recv\+\_\+apply\+\_\+transform, const \hyperlink{structlbann_1_1lbann__comm_1_1allreduce__options}{allreduce\+\_\+options} opts)
\item 
void \hyperlink{classlbann_1_1lbann__comm_ac294fe5fa47f283aba31fa1abfa99438}{pe\+\_\+ring\+\_\+allreduce} (const El\+::mpi\+::\+Comm \hyperlink{file__io_8cpp_ab048c6f9fcbcfaa57ce68b00263dbebe}{comm}, \hyperlink{base_8hpp_a68f11fdc31b62516cb310831bbe54d73}{Mat} \&mat, int max\+\_\+recv\+\_\+count, std\+::function$<$ uint8\+\_\+t $\ast$(\hyperlink{base_8hpp_a68f11fdc31b62516cb310831bbe54d73}{Mat} \&, El\+::\+IR, El\+::\+IR, int \&, bool, int)$>$ send\+\_\+transform, std\+::function$<$ int(uint8\+\_\+t $\ast$, \hyperlink{base_8hpp_a68f11fdc31b62516cb310831bbe54d73}{Mat} \&)$>$ recv\+\_\+transform, std\+::function$<$ int(uint8\+\_\+t $\ast$, \hyperlink{base_8hpp_a68f11fdc31b62516cb310831bbe54d73}{Mat} \&, bool)$>$ recv\+\_\+apply\+\_\+transform, const \hyperlink{structlbann_1_1lbann__comm_1_1allreduce__options}{allreduce\+\_\+options} opts)
\item 
void \hyperlink{classlbann_1_1lbann__comm_a88162511dc2733dccd9c245e6c7ba53b}{ring\+\_\+allreduce} (const El\+::mpi\+::\+Comm \hyperlink{file__io_8cpp_ab048c6f9fcbcfaa57ce68b00263dbebe}{comm}, \hyperlink{base_8hpp_a68f11fdc31b62516cb310831bbe54d73}{Mat} \&mat, int max\+\_\+recv\+\_\+count, std\+::function$<$ uint8\+\_\+t $\ast$(\hyperlink{base_8hpp_a68f11fdc31b62516cb310831bbe54d73}{Mat} \&, El\+::\+IR, El\+::\+IR, int \&, bool, int)$>$ send\+\_\+transform, std\+::function$<$ int(uint8\+\_\+t $\ast$, \hyperlink{base_8hpp_a68f11fdc31b62516cb310831bbe54d73}{Mat} \&)$>$ recv\+\_\+transform, std\+::function$<$ int(uint8\+\_\+t $\ast$, \hyperlink{base_8hpp_a68f11fdc31b62516cb310831bbe54d73}{Mat} \&, bool)$>$ recv\+\_\+apply\+\_\+transform, const \hyperlink{structlbann_1_1lbann__comm_1_1allreduce__options}{allreduce\+\_\+options} opts)
\item 
void \hyperlink{classlbann_1_1lbann__comm_a925fcf1c15cb8ff10daed1dc1faed9ac}{rabenseifner\+\_\+allreduce} (const El\+::mpi\+::\+Comm \hyperlink{file__io_8cpp_ab048c6f9fcbcfaa57ce68b00263dbebe}{comm}, \hyperlink{base_8hpp_a68f11fdc31b62516cb310831bbe54d73}{Mat} \&mat, int max\+\_\+recv\+\_\+count, std\+::function$<$ uint8\+\_\+t $\ast$(\hyperlink{base_8hpp_a68f11fdc31b62516cb310831bbe54d73}{Mat} \&, El\+::\+IR, El\+::\+IR, int \&, bool, int)$>$ send\+\_\+transform, std\+::function$<$ int(uint8\+\_\+t $\ast$, \hyperlink{base_8hpp_a68f11fdc31b62516cb310831bbe54d73}{Mat} \&)$>$ recv\+\_\+transform, std\+::function$<$ int(uint8\+\_\+t $\ast$, \hyperlink{base_8hpp_a68f11fdc31b62516cb310831bbe54d73}{Mat} \&, bool)$>$ recv\+\_\+apply\+\_\+transform, const \hyperlink{structlbann_1_1lbann__comm_1_1allreduce__options}{allreduce\+\_\+options} opts)
\item 
El\+::mpi\+::\+Comm \hyperlink{classlbann_1_1lbann__comm_a61d59b7dff63ece4c10cd3946b41cb39}{get\+\_\+intermodel\+\_\+comm} () const
\item 
El\+::mpi\+::\+Comm \hyperlink{classlbann_1_1lbann__comm_acc06dd4de92e45030d6fbe5984ae58d1}{get\+\_\+model\+\_\+comm} () const
\item 
const El\+::mpi\+::\+Comm \hyperlink{classlbann_1_1lbann__comm_a0493f1f0c42b95674daacf5288fdb073}{get\+\_\+world\+\_\+comm} () const
\item 
bool \hyperlink{classlbann_1_1lbann__comm_a5cdd318d1505ba0f31bf4fe9fadffacc}{is\+\_\+rank\+\_\+node\+\_\+local} (int rank, const El\+::mpi\+::\+Comm \hyperlink{file__io_8cpp_ab048c6f9fcbcfaa57ce68b00263dbebe}{comm}) const
\end{DoxyCompactItemize}
\subsection*{Static Public Member Functions}
\begin{DoxyCompactItemize}
\item 
static bool \hyperlink{classlbann_1_1lbann__comm_a4ba1b9a6b4eb986a348d85c2d80ca3eb}{is\+\_\+sendable} (const \hyperlink{base_8hpp_a68f11fdc31b62516cb310831bbe54d73}{Mat} \&mat)
\item 
static bool \hyperlink{classlbann_1_1lbann__comm_ac6addefb7577f81fbc90da94d26991e4}{is\+\_\+sendable} (const \hyperlink{base_8hpp_a9a697a504ae84010e7439ffec862b470}{Abs\+Dist\+Mat} \&dist\+\_\+mat)
\end{DoxyCompactItemize}
\subsection*{Private Member Functions}
\begin{DoxyCompactItemize}
\item 
void \hyperlink{classlbann_1_1lbann__comm_a44bc6b8683f04c2a3fc2f01fc734a946}{setup\+\_\+node\+\_\+comm} ()
\item 
void \hyperlink{classlbann_1_1lbann__comm_a597189b10f61947580f97fb8d1da7355}{setup\+\_\+threads} ()
\item 
uint8\+\_\+t $\ast$ \hyperlink{classlbann_1_1lbann__comm_ae925ac5eaf2895717c709b252961b3bf}{get\+\_\+collective\+\_\+buffer} (size\+\_\+t size, size\+\_\+t idx=0)
\end{DoxyCompactItemize}
\subsection*{Private Attributes}
\begin{DoxyCompactItemize}
\item 
const El\+::mpi\+::\+Comm \hyperlink{classlbann_1_1lbann__comm_a1fc59c935580eab2ce8e60464a45ef39}{world\+\_\+comm}
\item 
El\+::mpi\+::\+Comm \hyperlink{classlbann_1_1lbann__comm_a58a75b76bd61ec8a26c1cbbec3dc2f45}{model\+\_\+comm}
\item 
El\+::mpi\+::\+Comm \hyperlink{classlbann_1_1lbann__comm_a2c51c5d8faf4f0ab4f43b892c55e597b}{intermodel\+\_\+comm}
\item 
El\+::mpi\+::\+Comm \hyperlink{classlbann_1_1lbann__comm_a8aeb530ae4cedfa4d1141bb9c4704e6c}{node\+\_\+comm}
\item 
\hyperlink{base_8hpp_a9951bb1719d534e0401b1f06cad19eab}{Grid} $\ast$ \hyperlink{classlbann_1_1lbann__comm_a29fb31be115db3225b145f250a7778d9}{grid}
\item 
int \hyperlink{classlbann_1_1lbann__comm_a256ff5a0bafb33f43784ffc8dd2d29cf}{num\+\_\+models}
\item 
int \hyperlink{classlbann_1_1lbann__comm_a7cb55d127259d7ed9f07ccde6f4ebd8c}{procs\+\_\+per\+\_\+model}
\item 
int \hyperlink{classlbann_1_1lbann__comm_a1f3f90a996dbba4cd1cca60596933ea3}{model\+\_\+rank}
\item 
int \hyperlink{classlbann_1_1lbann__comm_a0dcccd57c2b591eb7682e192e0a09033}{rank\+\_\+in\+\_\+model}
\item 
int \hyperlink{classlbann_1_1lbann__comm_a2ffc59f0c1d97df2ca6845312c8c8b3e}{procs\+\_\+per\+\_\+node}
\item 
int \hyperlink{classlbann_1_1lbann__comm_abb5c8b008b5cac11702bf1f991c78ab0}{rank\+\_\+in\+\_\+node}
\item 
std\+::vector$<$ int $>$ \hyperlink{classlbann_1_1lbann__comm_a3299a37fe7b0eae43a5c154148ab6dc2}{world\+\_\+ranks\+\_\+on\+\_\+node}
\item 
int \hyperlink{classlbann_1_1lbann__comm_a23ff8e3563e4472af29d15f6cb823bc1}{threads\+\_\+per\+\_\+proc}
\item 
std\+::map$<$ size\+\_\+t, std\+::vector$<$ uint8\+\_\+t $\ast$ $>$ $>$ \hyperlink{classlbann_1_1lbann__comm_a9ada8c5daf902f43b599234c7519a765}{collective\+\_\+bufs}
\item 
\hyperlink{classlbann_1_1lbann__comm_a02a03227cc27e3516f0d9f9812f32019}{allreduce\+\_\+algorithm} \hyperlink{classlbann_1_1lbann__comm_ac7731d6bcdb6775009467cf4138d4bab}{default\+\_\+allreduce\+\_\+algo}
\item 
size\+\_\+t \hyperlink{classlbann_1_1lbann__comm_aa4f15459eca2a06174a877ba0c23feb7}{num\+\_\+model\+\_\+barriers}
\item 
size\+\_\+t \hyperlink{classlbann_1_1lbann__comm_a03d946ef5ea5d3b15351e78a2eed10fe}{num\+\_\+intermodel\+\_\+barriers}
\item 
size\+\_\+t \hyperlink{classlbann_1_1lbann__comm_a4f01e2f2d8220dc34cf39eb4a255cd7d}{num\+\_\+global\+\_\+barriers}
\item 
size\+\_\+t \hyperlink{classlbann_1_1lbann__comm_ad1f146ae7337ece6266fd307944928e0}{bytes\+\_\+sent}
\item 
size\+\_\+t \hyperlink{classlbann_1_1lbann__comm_afb99f57f7eafc0695bf28e6c26a8120f}{bytes\+\_\+received}
\item 
size\+\_\+t \hyperlink{classlbann_1_1lbann__comm_aa520c16eafde742b70daf60866afc6a8}{ar\+\_\+bytes\+\_\+sent}
\item 
size\+\_\+t \hyperlink{classlbann_1_1lbann__comm_aa5f3c53358bf9002b9fab41918b0c8c1}{ar\+\_\+bytes\+\_\+received}
\item 
size\+\_\+t \hyperlink{classlbann_1_1lbann__comm_ac74bcfb565c1bb6604f336c6d1b647cc}{ar\+\_\+rs\+\_\+bytes\+\_\+sent}
\item 
size\+\_\+t \hyperlink{classlbann_1_1lbann__comm_a2c3e1db0f6d2345748132322b0555db7}{ar\+\_\+rs\+\_\+bytes\+\_\+received}
\item 
size\+\_\+t \hyperlink{classlbann_1_1lbann__comm_a2cfe1264a83865360692c48d7869fe67}{ar\+\_\+ag\+\_\+bytes\+\_\+sent}
\item 
size\+\_\+t \hyperlink{classlbann_1_1lbann__comm_afded6f478dc5021d1edec306dc6c528c}{ar\+\_\+ag\+\_\+bytes\+\_\+received}
\item 
double \hyperlink{classlbann_1_1lbann__comm_aa57d2fbeef85fd8a3c9f2a37ca7687c8}{ar\+\_\+time}
\item 
double \hyperlink{classlbann_1_1lbann__comm_a85022d803e339eb14a15129a07876c2b}{ar\+\_\+rs\+\_\+time}
\item 
double \hyperlink{classlbann_1_1lbann__comm_a48768342eb05c1c6cdaa52c3599b93c8}{ar\+\_\+ag\+\_\+time}
\item 
double \hyperlink{classlbann_1_1lbann__comm_a4e3d35520a8f567579f9235e9808ba1c}{ar\+\_\+send\+\_\+transform\+\_\+time}
\item 
double \hyperlink{classlbann_1_1lbann__comm_adb393f47d60eaa59bace80d2d3dd3bf2}{ar\+\_\+recv\+\_\+transform\+\_\+time}
\item 
double \hyperlink{classlbann_1_1lbann__comm_aa642b0ae2321fa464b0092da527f6375}{ar\+\_\+recv\+\_\+apply\+\_\+transform\+\_\+time}
\item 
double \hyperlink{classlbann_1_1lbann__comm_a60a664f47efb52d9936b72d34059d1ef}{ar\+\_\+send\+\_\+time}
\item 
double \hyperlink{classlbann_1_1lbann__comm_a4c9323938961c3524dc67f4b7b47e3ae}{ar\+\_\+recv\+\_\+time}
\item 
double \hyperlink{classlbann_1_1lbann__comm_aaadab22d368e8004a9877828a3bc9e93}{ar\+\_\+rs\+\_\+send\+\_\+time}
\item 
double \hyperlink{classlbann_1_1lbann__comm_adefa0ee8b0a6b74072448e20d40f502d}{ar\+\_\+rs\+\_\+recv\+\_\+time}
\item 
double \hyperlink{classlbann_1_1lbann__comm_a64cb0b86e9368c1d83370ba6cb0083ba}{ar\+\_\+ag\+\_\+send\+\_\+time}
\item 
double \hyperlink{classlbann_1_1lbann__comm_a1896c3ecd1d5b084497c6ed47c1c9bae}{ar\+\_\+ag\+\_\+recv\+\_\+time}
\end{DoxyCompactItemize}


\subsection{Detailed Description}
Manage communication. This supports separate models, each of which are split over potentially several processes. Every model is split over the same number of processes. The corresponding processes between models are on the \char`\"{}inter-\/model
communicator\char`\"{}. You can also do point-\/to-\/point or broadcast communication to arbitrary sets of processes. 

Definition at line 90 of file comm.\+hpp.



\subsection{Member Enumeration Documentation}
\mbox{\Hypertarget{classlbann_1_1lbann__comm_a02a03227cc27e3516f0d9f9812f32019}\label{classlbann_1_1lbann__comm_a02a03227cc27e3516f0d9f9812f32019}} 
\index{lbann\+::lbann\+\_\+comm@{lbann\+::lbann\+\_\+comm}!allreduce\+\_\+algorithm@{allreduce\+\_\+algorithm}}
\index{allreduce\+\_\+algorithm@{allreduce\+\_\+algorithm}!lbann\+::lbann\+\_\+comm@{lbann\+::lbann\+\_\+comm}}
\subsubsection{\texorpdfstring{allreduce\+\_\+algorithm}{allreduce\_algorithm}}
{\footnotesize\ttfamily enum \hyperlink{classlbann_1_1lbann__comm_a02a03227cc27e3516f0d9f9812f32019}{lbann\+::lbann\+\_\+comm\+::allreduce\+\_\+algorithm}\hspace{0.3cm}{\ttfamily [strong]}}

Specify different allreduce algorithms. \begin{DoxyEnumFields}{Enumerator}
\raisebox{\heightof{T}}[0pt][0pt]{\index{D\+E\+F\+A\+U\+LT@{D\+E\+F\+A\+U\+LT}!lbann\+::lbann\+\_\+comm@{lbann\+::lbann\+\_\+comm}}\index{lbann\+::lbann\+\_\+comm@{lbann\+::lbann\+\_\+comm}!D\+E\+F\+A\+U\+LT@{D\+E\+F\+A\+U\+LT}}}\mbox{\Hypertarget{classlbann_1_1lbann__comm_a02a03227cc27e3516f0d9f9812f32019a5b39c8b553c821e7cddc6da64b5bd2ee}\label{classlbann_1_1lbann__comm_a02a03227cc27e3516f0d9f9812f32019a5b39c8b553c821e7cddc6da64b5bd2ee}} 
D\+E\+F\+A\+U\+LT&\\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{D\+Y\+N\+A\+M\+IC@{D\+Y\+N\+A\+M\+IC}!lbann\+::lbann\+\_\+comm@{lbann\+::lbann\+\_\+comm}}\index{lbann\+::lbann\+\_\+comm@{lbann\+::lbann\+\_\+comm}!D\+Y\+N\+A\+M\+IC@{D\+Y\+N\+A\+M\+IC}}}\mbox{\Hypertarget{classlbann_1_1lbann__comm_a02a03227cc27e3516f0d9f9812f32019a0fcc90da4811c877ba9f9c12f7d60bc9}\label{classlbann_1_1lbann__comm_a02a03227cc27e3516f0d9f9812f32019a0fcc90da4811c877ba9f9c12f7d60bc9}} 
D\+Y\+N\+A\+M\+IC&\\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{R\+E\+C\+U\+R\+S\+I\+V\+E\+\_\+\+D\+O\+U\+B\+L\+I\+NG@{R\+E\+C\+U\+R\+S\+I\+V\+E\+\_\+\+D\+O\+U\+B\+L\+I\+NG}!lbann\+::lbann\+\_\+comm@{lbann\+::lbann\+\_\+comm}}\index{lbann\+::lbann\+\_\+comm@{lbann\+::lbann\+\_\+comm}!R\+E\+C\+U\+R\+S\+I\+V\+E\+\_\+\+D\+O\+U\+B\+L\+I\+NG@{R\+E\+C\+U\+R\+S\+I\+V\+E\+\_\+\+D\+O\+U\+B\+L\+I\+NG}}}\mbox{\Hypertarget{classlbann_1_1lbann__comm_a02a03227cc27e3516f0d9f9812f32019a5a99a7b378e450d9e91b10b1f0085274}\label{classlbann_1_1lbann__comm_a02a03227cc27e3516f0d9f9812f32019a5a99a7b378e450d9e91b10b1f0085274}} 
R\+E\+C\+U\+R\+S\+I\+V\+E\+\_\+\+D\+O\+U\+B\+L\+I\+NG&Choose algorithm based on data size. \\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{P\+A\+I\+R\+W\+I\+S\+E\+\_\+\+E\+X\+C\+H\+A\+N\+G\+E\+\_\+\+R\+I\+NG@{P\+A\+I\+R\+W\+I\+S\+E\+\_\+\+E\+X\+C\+H\+A\+N\+G\+E\+\_\+\+R\+I\+NG}!lbann\+::lbann\+\_\+comm@{lbann\+::lbann\+\_\+comm}}\index{lbann\+::lbann\+\_\+comm@{lbann\+::lbann\+\_\+comm}!P\+A\+I\+R\+W\+I\+S\+E\+\_\+\+E\+X\+C\+H\+A\+N\+G\+E\+\_\+\+R\+I\+NG@{P\+A\+I\+R\+W\+I\+S\+E\+\_\+\+E\+X\+C\+H\+A\+N\+G\+E\+\_\+\+R\+I\+NG}}}\mbox{\Hypertarget{classlbann_1_1lbann__comm_a02a03227cc27e3516f0d9f9812f32019ae97d669b6498b36d1ce07b3d2c544fee}\label{classlbann_1_1lbann__comm_a02a03227cc27e3516f0d9f9812f32019ae97d669b6498b36d1ce07b3d2c544fee}} 
P\+A\+I\+R\+W\+I\+S\+E\+\_\+\+E\+X\+C\+H\+A\+N\+G\+E\+\_\+\+R\+I\+NG&\\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{R\+I\+NG@{R\+I\+NG}!lbann\+::lbann\+\_\+comm@{lbann\+::lbann\+\_\+comm}}\index{lbann\+::lbann\+\_\+comm@{lbann\+::lbann\+\_\+comm}!R\+I\+NG@{R\+I\+NG}}}\mbox{\Hypertarget{classlbann_1_1lbann__comm_a02a03227cc27e3516f0d9f9812f32019ae69b8a2544417fb71e2767e95d7ac8f3}\label{classlbann_1_1lbann__comm_a02a03227cc27e3516f0d9f9812f32019ae69b8a2544417fb71e2767e95d7ac8f3}} 
R\+I\+NG&\\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{R\+A\+B\+E\+N\+S\+E\+I\+F\+N\+ER@{R\+A\+B\+E\+N\+S\+E\+I\+F\+N\+ER}!lbann\+::lbann\+\_\+comm@{lbann\+::lbann\+\_\+comm}}\index{lbann\+::lbann\+\_\+comm@{lbann\+::lbann\+\_\+comm}!R\+A\+B\+E\+N\+S\+E\+I\+F\+N\+ER@{R\+A\+B\+E\+N\+S\+E\+I\+F\+N\+ER}}}\mbox{\Hypertarget{classlbann_1_1lbann__comm_a02a03227cc27e3516f0d9f9812f32019aecfb3869b05d9c2103f98c386a9e8a41}\label{classlbann_1_1lbann__comm_a02a03227cc27e3516f0d9f9812f32019aecfb3869b05d9c2103f98c386a9e8a41}} 
R\+A\+B\+E\+N\+S\+E\+I\+F\+N\+ER&\\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{I\+N\+V\+A\+L\+ID@{I\+N\+V\+A\+L\+ID}!lbann\+::lbann\+\_\+comm@{lbann\+::lbann\+\_\+comm}}\index{lbann\+::lbann\+\_\+comm@{lbann\+::lbann\+\_\+comm}!I\+N\+V\+A\+L\+ID@{I\+N\+V\+A\+L\+ID}}}\mbox{\Hypertarget{classlbann_1_1lbann__comm_a02a03227cc27e3516f0d9f9812f32019accc0377a8afbf50e7094f5c23a8af223}\label{classlbann_1_1lbann__comm_a02a03227cc27e3516f0d9f9812f32019accc0377a8afbf50e7094f5c23a8af223}} 
I\+N\+V\+A\+L\+ID&\\
\hline

\end{DoxyEnumFields}


Definition at line 764 of file comm.\+hpp.


\begin{DoxyCode}
764                                  \{
765     DEFAULT,
766     DYNAMIC,  
767     RECURSIVE\_DOUBLING,
768     PAIRWISE\_EXCHANGE\_RING,
769     RING,
770     RABENSEIFNER,
771     \hyperlink{namespacelbann_a5975e1fb530a267728bfb01dc5c1be9baccc0377a8afbf50e7094f5c23a8af223}{INVALID}
772   \};
\end{DoxyCode}


\subsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{classlbann_1_1lbann__comm_a63eae73674cbadea2eff8b6595322336}\label{classlbann_1_1lbann__comm_a63eae73674cbadea2eff8b6595322336}} 
\index{lbann\+::lbann\+\_\+comm@{lbann\+::lbann\+\_\+comm}!lbann\+\_\+comm@{lbann\+\_\+comm}}
\index{lbann\+\_\+comm@{lbann\+\_\+comm}!lbann\+::lbann\+\_\+comm@{lbann\+::lbann\+\_\+comm}}
\subsubsection{\texorpdfstring{lbann\+\_\+comm()}{lbann\_comm()}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily lbann\+::lbann\+\_\+comm\+::lbann\+\_\+comm (\begin{DoxyParamCaption}\item[{int}]{procs\+\_\+per\+\_\+model = {\ttfamily 0},  }\item[{const El\+::mpi\+::\+Comm}]{world = {\ttfamily El\+:\+:mpi\+:\+:COMM\+\_\+WORLD} }\end{DoxyParamCaption})}

Init communicators for models each with procs\+\_\+per\+\_\+model processes, defaulting to every process in one model. 

Definition at line 56 of file comm.\+cpp.


\begin{DoxyCode}
56                                                      :
57   \hyperlink{classlbann_1_1lbann__comm_a1fc59c935580eab2ce8e60464a45ef39}{world\_comm}(world), \hyperlink{classlbann_1_1lbann__comm_a29fb31be115db3225b145f250a7778d9}{grid}(\textcolor{keyword}{nullptr}), \hyperlink{classlbann_1_1lbann__comm_a7cb55d127259d7ed9f07ccde6f4ebd8c}{procs\_per\_model}(ppm), 
      \hyperlink{classlbann_1_1lbann__comm_aa4f15459eca2a06174a877ba0c23feb7}{num\_model\_barriers}(0),
58   \hyperlink{classlbann_1_1lbann__comm_a03d946ef5ea5d3b15351e78a2eed10fe}{num\_intermodel\_barriers}(0), \hyperlink{classlbann_1_1lbann__comm_a4f01e2f2d8220dc34cf39eb4a255cd7d}{num\_global\_barriers}(0), 
      \hyperlink{classlbann_1_1lbann__comm_ad1f146ae7337ece6266fd307944928e0}{bytes\_sent}(0),
59   \hyperlink{classlbann_1_1lbann__comm_afb99f57f7eafc0695bf28e6c26a8120f}{bytes\_received}(0) \{
60 \textcolor{preprocessor}{#ifdef LBANN\_HAS\_ALUMINUM}
61   \textcolor{comment}{// Don't have argc/argv here, but MPI should already be init'd.}
62   \textcolor{keywordtype}{int} argc\_dummy = 0;
63   \textcolor{keywordtype}{char}** argv\_dummy = \textcolor{keyword}{nullptr};
64   ::Al::Initialize(argc\_dummy, argv\_dummy);
65 \textcolor{preprocessor}{#endif}
66   \textcolor{comment}{// Set up the initial model split}
67   \hyperlink{classlbann_1_1lbann__comm_a0ae02c4083623d2e1381336a73fdb379}{split\_models}(\hyperlink{classlbann_1_1lbann__comm_a7cb55d127259d7ed9f07ccde6f4ebd8c}{procs\_per\_model});
68 
69   \textcolor{comment}{// Initialize node communicators}
70   \hyperlink{classlbann_1_1lbann__comm_a44bc6b8683f04c2a3fc2f01fc734a946}{setup\_node\_comm}();
71   \hyperlink{classlbann_1_1lbann__comm_a2ffc59f0c1d97df2ca6845312c8c8b3e}{procs\_per\_node} = El::mpi::Size(\hyperlink{classlbann_1_1lbann__comm_a8aeb530ae4cedfa4d1141bb9c4704e6c}{node\_comm});
72   \hyperlink{classlbann_1_1lbann__comm_abb5c8b008b5cac11702bf1f991c78ab0}{rank\_in\_node} = El::mpi::Rank(\hyperlink{classlbann_1_1lbann__comm_a8aeb530ae4cedfa4d1141bb9c4704e6c}{node\_comm});
73 
74   \textcolor{comment}{// Setup threads}
75   \hyperlink{classlbann_1_1lbann__comm_a597189b10f61947580f97fb8d1da7355}{setup\_threads}();  
76 \}
\end{DoxyCode}
Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classlbann_1_1lbann__comm_a63eae73674cbadea2eff8b6595322336_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classlbann_1_1lbann__comm_a198a6066e7908941898e07ebd62f8d18}\label{classlbann_1_1lbann__comm_a198a6066e7908941898e07ebd62f8d18}} 
\index{lbann\+::lbann\+\_\+comm@{lbann\+::lbann\+\_\+comm}!lbann\+\_\+comm@{lbann\+\_\+comm}}
\index{lbann\+\_\+comm@{lbann\+\_\+comm}!lbann\+::lbann\+\_\+comm@{lbann\+::lbann\+\_\+comm}}
\subsubsection{\texorpdfstring{lbann\+\_\+comm()}{lbann\_comm()}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily lbann\+::lbann\+\_\+comm\+::lbann\+\_\+comm (\begin{DoxyParamCaption}\item[{const \hyperlink{classlbann_1_1lbann__comm}{lbann\+\_\+comm} \&}]{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [delete]}}

Don\textquotesingle{}t allow copying; it doesn\textquotesingle{}t make sense for the communicator. \mbox{\Hypertarget{classlbann_1_1lbann__comm_af17b1093313c5e4223f9036798f9e12f}\label{classlbann_1_1lbann__comm_af17b1093313c5e4223f9036798f9e12f}} 
\index{lbann\+::lbann\+\_\+comm@{lbann\+::lbann\+\_\+comm}!````~lbann\+\_\+comm@{$\sim$lbann\+\_\+comm}}
\index{````~lbann\+\_\+comm@{$\sim$lbann\+\_\+comm}!lbann\+::lbann\+\_\+comm@{lbann\+::lbann\+\_\+comm}}
\subsubsection{\texorpdfstring{$\sim$lbann\+\_\+comm()}{~lbann\_comm()}}
{\footnotesize\ttfamily lbann\+::lbann\+\_\+comm\+::$\sim$lbann\+\_\+comm (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Definition at line 78 of file comm.\+cpp.


\begin{DoxyCode}
78                         \{
79   \textcolor{keyword}{delete} \hyperlink{classlbann_1_1lbann__comm_a29fb31be115db3225b145f250a7778d9}{grid};
80   El::mpi::Free(\hyperlink{classlbann_1_1lbann__comm_a58a75b76bd61ec8a26c1cbbec3dc2f45}{model\_comm});
81   El::mpi::Free(\hyperlink{classlbann_1_1lbann__comm_a2c51c5d8faf4f0ab4f43b892c55e597b}{intermodel\_comm});
82   El::mpi::Free(\hyperlink{classlbann_1_1lbann__comm_a8aeb530ae4cedfa4d1141bb9c4704e6c}{node\_comm});
83   \textcolor{keywordflow}{for} (\textcolor{keyword}{auto}&& buf\_vec : \hyperlink{classlbann_1_1lbann__comm_a9ada8c5daf902f43b599234c7519a765}{collective\_bufs}) \{
84     \textcolor{keywordflow}{for} (\textcolor{keyword}{auto}&& buf : buf\_vec.second) \{
85       \textcolor{keyword}{delete}[] buf;
86     \}
87   \}
88 \textcolor{preprocessor}{#ifdef LBANN\_HAS\_ALUMINUM}
89   m\_al\_comms.clear();
90   ::Al::Finalize();
91 \textcolor{preprocessor}{#endif}
92 \}
\end{DoxyCode}


\subsection{Member Function Documentation}
\mbox{\Hypertarget{classlbann_1_1lbann__comm_af5631e5f0f54e4df4958eba9df2599ef}\label{classlbann_1_1lbann__comm_af5631e5f0f54e4df4958eba9df2599ef}} 
\index{lbann\+::lbann\+\_\+comm@{lbann\+::lbann\+\_\+comm}!allreduce@{allreduce}}
\index{allreduce@{allreduce}!lbann\+::lbann\+\_\+comm@{lbann\+::lbann\+\_\+comm}}
\subsubsection{\texorpdfstring{allreduce()}{allreduce()}\hspace{0.1cm}{\footnotesize\ttfamily [1/4]}}
{\footnotesize\ttfamily template$<$typename T $>$ \\
T lbann\+::lbann\+\_\+comm\+::allreduce (\begin{DoxyParamCaption}\item[{T}]{snd,  }\item[{const El\+::mpi\+::\+Comm}]{c,  }\item[{El\+::mpi\+::\+Op}]{op = {\ttfamily El\+:\+:mpi\+:\+:SUM} }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}

Scalar allreduce. 

Definition at line 419 of file comm.\+hpp.


\begin{DoxyCode}
419                                                                \{
420     \hyperlink{classlbann_1_1lbann__comm_ad1f146ae7337ece6266fd307944928e0}{bytes\_sent} += \textcolor{keyword}{sizeof}(T);
421     \hyperlink{classlbann_1_1lbann__comm_af5631e5f0f54e4df4958eba9df2599ef}{allreduce}(&snd, 1, c, op);
422     \hyperlink{classlbann_1_1lbann__comm_afb99f57f7eafc0695bf28e6c26a8120f}{bytes\_received} += \textcolor{keyword}{sizeof}(T) * (El::mpi::Size(c) - 1);
423     \textcolor{keywordflow}{return} snd;
424   \}
\end{DoxyCode}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classlbann_1_1lbann__comm_af5631e5f0f54e4df4958eba9df2599ef_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classlbann_1_1lbann__comm_a12dd4f5476c54bdaf1ae2b348174b9fd}\label{classlbann_1_1lbann__comm_a12dd4f5476c54bdaf1ae2b348174b9fd}} 
\index{lbann\+::lbann\+\_\+comm@{lbann\+::lbann\+\_\+comm}!allreduce@{allreduce}}
\index{allreduce@{allreduce}!lbann\+::lbann\+\_\+comm@{lbann\+::lbann\+\_\+comm}}
\subsubsection{\texorpdfstring{allreduce()}{allreduce()}\hspace{0.1cm}{\footnotesize\ttfamily [2/4]}}
{\footnotesize\ttfamily template$<$typename T $>$ \\
void lbann\+::lbann\+\_\+comm\+::allreduce (\begin{DoxyParamCaption}\item[{T $\ast$}]{snd,  }\item[{int}]{count,  }\item[{T $\ast$}]{rcv,  }\item[{const El\+::mpi\+::\+Comm}]{c,  }\item[{El\+::mpi\+::\+Op}]{op = {\ttfamily El\+:\+:mpi\+:\+:SUM} }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}

Scalar-\/array allreduce. 

Definition at line 427 of file comm.\+hpp.


\begin{DoxyCode}
427                                                                                       \{
428     \hyperlink{classlbann_1_1lbann__comm_ad1f146ae7337ece6266fd307944928e0}{bytes\_sent} += count * \textcolor{keyword}{sizeof}(T);
429 \textcolor{preprocessor}{#ifdef LBANN\_HAS\_ALUMINUM}
430 \textcolor{preprocessor}{#ifdef LBANN\_ALUMINUM\_MPI\_PASSTHROUGH}
431     ::Al::AllreduceAlgorithm algo = ::Al::AllreduceAlgorithm::mpi\_passthrough;
432 \textcolor{preprocessor}{#else}
433     ::Al::AllreduceAlgorithm algo = ::Al::AllreduceAlgorithm::automatic;
434 \textcolor{preprocessor}{#endif}
435     ::Al::Allreduce<::Al::MPIBackend>(
436       snd, rcv, count, mpi\_op\_to\_al\_op(op), *get\_al\_comm(c), algo);
437 \textcolor{preprocessor}{#else}
438     El::mpi::AllReduce(snd, rcv, count, op, c);
439 \textcolor{preprocessor}{#endif}
440     \hyperlink{classlbann_1_1lbann__comm_afb99f57f7eafc0695bf28e6c26a8120f}{bytes\_received} += count * \textcolor{keyword}{sizeof}(T) * (El::mpi::Size(c) - 1);
441   \}
\end{DoxyCode}
\mbox{\Hypertarget{classlbann_1_1lbann__comm_a14adb0771b966f40536bf0e92fb00ebb}\label{classlbann_1_1lbann__comm_a14adb0771b966f40536bf0e92fb00ebb}} 
\index{lbann\+::lbann\+\_\+comm@{lbann\+::lbann\+\_\+comm}!allreduce@{allreduce}}
\index{allreduce@{allreduce}!lbann\+::lbann\+\_\+comm@{lbann\+::lbann\+\_\+comm}}
\subsubsection{\texorpdfstring{allreduce()}{allreduce()}\hspace{0.1cm}{\footnotesize\ttfamily [3/4]}}
{\footnotesize\ttfamily template$<$typename T $>$ \\
void lbann\+::lbann\+\_\+comm\+::allreduce (\begin{DoxyParamCaption}\item[{T $\ast$}]{data,  }\item[{int}]{count,  }\item[{const El\+::mpi\+::\+Comm}]{c,  }\item[{El\+::mpi\+::\+Op}]{op = {\ttfamily El\+:\+:mpi\+:\+:SUM} }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}

In-\/place scalar-\/array allreduce. 

Definition at line 444 of file comm.\+hpp.


\begin{DoxyCode}
444                                                                                \{
445     \hyperlink{classlbann_1_1lbann__comm_ad1f146ae7337ece6266fd307944928e0}{bytes\_sent} += count * \textcolor{keyword}{sizeof}(T);
446 \textcolor{preprocessor}{#ifdef LBANN\_HAS\_ALUMINUM}
447 \textcolor{preprocessor}{#ifdef LBANN\_ALUMINUM\_MPI\_PASSTHROUGH}
448     ::Al::AllreduceAlgorithm algo = ::Al::AllreduceAlgorithm::mpi\_passthrough;
449 \textcolor{preprocessor}{#else}
450     ::Al::AllreduceAlgorithm algo = ::Al::AllreduceAlgorithm::automatic;
451 \textcolor{preprocessor}{#endif}
452     ::Al::Allreduce<::Al::MPIBackend>(
453       \hyperlink{namespacelbann_1_1cnpy__utils_a9ac86d96ccb1f8b4b2ea16441738781f}{data}, count, mpi\_op\_to\_al\_op(op), *get\_al\_comm(c), algo);
454 \textcolor{preprocessor}{#else}
455     El::mpi::AllReduce(data, count, op, c);
456 \textcolor{preprocessor}{#endif}
457     \hyperlink{classlbann_1_1lbann__comm_afb99f57f7eafc0695bf28e6c26a8120f}{bytes\_received} += count * \textcolor{keyword}{sizeof}(T) * (El::mpi::Size(c) - 1);
458   \}
\end{DoxyCode}
Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classlbann_1_1lbann__comm_a14adb0771b966f40536bf0e92fb00ebb_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classlbann_1_1lbann__comm_adaff1e6549a3fb902c85f1be2718c1ff}\label{classlbann_1_1lbann__comm_adaff1e6549a3fb902c85f1be2718c1ff}} 
\index{lbann\+::lbann\+\_\+comm@{lbann\+::lbann\+\_\+comm}!allreduce@{allreduce}}
\index{allreduce@{allreduce}!lbann\+::lbann\+\_\+comm@{lbann\+::lbann\+\_\+comm}}
\subsubsection{\texorpdfstring{allreduce()}{allreduce()}\hspace{0.1cm}{\footnotesize\ttfamily [4/4]}}
{\footnotesize\ttfamily void lbann\+::lbann\+\_\+comm\+::allreduce (\begin{DoxyParamCaption}\item[{\hyperlink{base_8hpp_a9a697a504ae84010e7439ffec862b470}{Abs\+Dist\+Mat} \&}]{m,  }\item[{const El\+::mpi\+::\+Comm}]{c,  }\item[{El\+::mpi\+::\+Op}]{op = {\ttfamily El\+:\+:mpi\+:\+:SUM},  }\item[{std\+::type\+\_\+index}]{t = {\ttfamily std\+:\+:type\+\_\+index(typeid(\hyperlink{namespacelbann_1_1Al_a8a69c2fac7e1117883fff1903c2232ce}{Al\+::mpi\+\_\+backend}))} }\end{DoxyParamCaption})}

Matrix allreduce. 

Definition at line 142 of file comm.\+cpp.


\begin{DoxyCode}
145                                             \{
146   \textcolor{keyword}{const} \textcolor{keywordtype}{int} local\_size = m.LocalHeight() * m.LocalWidth();
147   \hyperlink{classlbann_1_1lbann__comm_ad1f146ae7337ece6266fd307944928e0}{bytes\_sent} += \textcolor{keyword}{sizeof}(DataType) * local\_size;
148 \textcolor{preprocessor}{#ifdef LBANN\_HAS\_ALUMINUM}
149   \textcolor{keywordflow}{if} (m.LocalHeight() != m.LDim()) \{
150     \textcolor{keywordflow}{throw} lbann\_exception(\textcolor{stringliteral}{"Aluminum does not support allreduces on"}
151                           \textcolor{stringliteral}{" non-contiguous matrices"});
152   \}
153   \textcolor{keyword}{auto}&& \hyperlink{file__io_8cpp_ab048c6f9fcbcfaa57ce68b00263dbebe}{comm} = get\_al\_comm(c, t);
154   \textcolor{keywordflow}{if} (t == std::type\_index(\textcolor{keyword}{typeid}(::Al::MPIBackend))) \{
155     ::Al::Allreduce<::Al::MPIBackend>(
156       m.Buffer(),
157       local\_size,
158       mpi\_op\_to\_al\_op(op),
159       *\hyperlink{file__io_8cpp_ab048c6f9fcbcfaa57ce68b00263dbebe}{comm});
160   \}
162 \textcolor{preprocessor}{#ifdef LBANN\_HAS\_NCCL2}
163   \textcolor{keywordflow}{if} (t == std::type\_index(\textcolor{keyword}{typeid}(::Al::NCCLBackend))) \{
164     ::Al::Allreduce<::Al::NCCLBackend>(
165       m.Buffer(),
166       local\_size,
167       mpi\_op\_to\_al\_op(op),
168       *\textcolor{keyword}{static\_cast<}::Al::NCCLCommunicator*\textcolor{keyword}{>}(\hyperlink{file__io_8cpp_ab048c6f9fcbcfaa57ce68b00263dbebe}{comm}));
169   \}
170 \textcolor{preprocessor}{#endif // LBANN\_HAS\_NCCL2}
171 \textcolor{preprocessor}{#else}
172   El::AllReduce(m, c, op);
173 \textcolor{preprocessor}{#endif}
174   \hyperlink{classlbann_1_1lbann__comm_afb99f57f7eafc0695bf28e6c26a8120f}{bytes\_received} += \textcolor{keyword}{sizeof}(DataType) * local\_size * (El::mpi::Size(c) - 1);
175 \}
\end{DoxyCode}
\mbox{\Hypertarget{classlbann_1_1lbann__comm_ad8a5790dfa9191d4b4f889e8707e57f1}\label{classlbann_1_1lbann__comm_ad8a5790dfa9191d4b4f889e8707e57f1}} 
\index{lbann\+::lbann\+\_\+comm@{lbann\+::lbann\+\_\+comm}!am\+\_\+model\+\_\+master@{am\+\_\+model\+\_\+master}}
\index{am\+\_\+model\+\_\+master@{am\+\_\+model\+\_\+master}!lbann\+::lbann\+\_\+comm@{lbann\+::lbann\+\_\+comm}}
\subsubsection{\texorpdfstring{am\+\_\+model\+\_\+master()}{am\_model\_master()}}
{\footnotesize\ttfamily bool lbann\+::lbann\+\_\+comm\+::am\+\_\+model\+\_\+master (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}

Return true if this process is the master process in its model. 

Definition at line 140 of file comm.\+hpp.


\begin{DoxyCode}
140                                       \{
141     \textcolor{keywordflow}{return} \hyperlink{classlbann_1_1lbann__comm_a789453454468a3b70de768537c50ca52}{get\_rank\_in\_model}() == \hyperlink{classlbann_1_1lbann__comm_a96d8d7a0ff8ee1511f8c8b8fa92628af}{get\_model\_master}();
142   \}
\end{DoxyCode}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classlbann_1_1lbann__comm_ad8a5790dfa9191d4b4f889e8707e57f1_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classlbann_1_1lbann__comm_a1ef526486183a29feadca9bef096a534}\label{classlbann_1_1lbann__comm_a1ef526486183a29feadca9bef096a534}} 
\index{lbann\+::lbann\+\_\+comm@{lbann\+::lbann\+\_\+comm}!am\+\_\+world\+\_\+master@{am\+\_\+world\+\_\+master}}
\index{am\+\_\+world\+\_\+master@{am\+\_\+world\+\_\+master}!lbann\+::lbann\+\_\+comm@{lbann\+::lbann\+\_\+comm}}
\subsubsection{\texorpdfstring{am\+\_\+world\+\_\+master()}{am\_world\_master()}}
{\footnotesize\ttfamily bool lbann\+::lbann\+\_\+comm\+::am\+\_\+world\+\_\+master (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}

Return true if this process is the world master process. 

Definition at line 144 of file comm.\+hpp.


\begin{DoxyCode}
144                                       \{
145     \textcolor{keywordflow}{return} \hyperlink{classlbann_1_1lbann__comm_a4519335d6772dab3c36517618260d48a}{get\_rank\_in\_world}() == \hyperlink{classlbann_1_1lbann__comm_aa682313f366e0b7cf781bc1872911f65}{get\_world\_master}();
146   \}
\end{DoxyCode}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=550pt]{classlbann_1_1lbann__comm_a1ef526486183a29feadca9bef096a534_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classlbann_1_1lbann__comm_a303c02c5a127f3ed21f12c9a71cc90a6}\label{classlbann_1_1lbann__comm_a303c02c5a127f3ed21f12c9a71cc90a6}} 
\index{lbann\+::lbann\+\_\+comm@{lbann\+::lbann\+\_\+comm}!barrier@{barrier}}
\index{barrier@{barrier}!lbann\+::lbann\+\_\+comm@{lbann\+::lbann\+\_\+comm}}
\subsubsection{\texorpdfstring{barrier()}{barrier()}}
{\footnotesize\ttfamily void lbann\+::lbann\+\_\+comm\+::barrier (\begin{DoxyParamCaption}\item[{const El\+::mpi\+::\+Comm}]{c }\end{DoxyParamCaption})}

Barrier on an arbitrary communicator. 

Definition at line 268 of file comm.\+cpp.


\begin{DoxyCode}
268                                           \{
269   El::mpi::Barrier(c);
270 \}
\end{DoxyCode}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classlbann_1_1lbann__comm_a303c02c5a127f3ed21f12c9a71cc90a6_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classlbann_1_1lbann__comm_af823b7ca3caccbd0710cd1435e60506b}\label{classlbann_1_1lbann__comm_af823b7ca3caccbd0710cd1435e60506b}} 
\index{lbann\+::lbann\+\_\+comm@{lbann\+::lbann\+\_\+comm}!broadcast@{broadcast}}
\index{broadcast@{broadcast}!lbann\+::lbann\+\_\+comm@{lbann\+::lbann\+\_\+comm}}
\subsubsection{\texorpdfstring{broadcast()}{broadcast()}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily template$<$typename T $>$ \\
T lbann\+::lbann\+\_\+comm\+::broadcast (\begin{DoxyParamCaption}\item[{int}]{root,  }\item[{const El\+::mpi\+::\+Comm}]{c }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}

Broadcast over an arbitrary communicator, returns the broadcast value (for non-\/root processes). 

Definition at line 229 of file comm.\+hpp.


\begin{DoxyCode}
229                                            \{
230     T val = \{\};
231     El::mpi::Broadcast(&val, 1, root, c);
232     \hyperlink{classlbann_1_1lbann__comm_afb99f57f7eafc0695bf28e6c26a8120f}{bytes\_received} += \textcolor{keyword}{sizeof}(T);
233     \textcolor{keywordflow}{return} val;
234   \}
\end{DoxyCode}
\mbox{\Hypertarget{classlbann_1_1lbann__comm_a34bb0766e57fda27e6618c9e66fec269}\label{classlbann_1_1lbann__comm_a34bb0766e57fda27e6618c9e66fec269}} 
\index{lbann\+::lbann\+\_\+comm@{lbann\+::lbann\+\_\+comm}!broadcast@{broadcast}}
\index{broadcast@{broadcast}!lbann\+::lbann\+\_\+comm@{lbann\+::lbann\+\_\+comm}}
\subsubsection{\texorpdfstring{broadcast()}{broadcast()}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily template$<$typename T $>$ \\
T lbann\+::lbann\+\_\+comm\+::broadcast (\begin{DoxyParamCaption}\item[{int}]{root,  }\item[{T}]{val,  }\item[{const El\+::mpi\+::\+Comm}]{c }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}

Broadcast over an arbitrary communicator, returns the broadcast value (for root processes). 

Definition at line 240 of file comm.\+hpp.


\begin{DoxyCode}
240                                                   \{
241     El::mpi::Broadcast(&val, 1, root, c);
242     \hyperlink{classlbann_1_1lbann__comm_ad1f146ae7337ece6266fd307944928e0}{bytes\_sent} += \textcolor{keyword}{sizeof}(T);
243     \textcolor{keywordflow}{return} val;
244   \}
\end{DoxyCode}
\mbox{\Hypertarget{classlbann_1_1lbann__comm_aa784298e6ed0f9f01a20b179d5110df9}\label{classlbann_1_1lbann__comm_aa784298e6ed0f9f01a20b179d5110df9}} 
\index{lbann\+::lbann\+\_\+comm@{lbann\+::lbann\+\_\+comm}!gather@{gather}}
\index{gather@{gather}!lbann\+::lbann\+\_\+comm@{lbann\+::lbann\+\_\+comm}}
\subsubsection{\texorpdfstring{gather()}{gather()}\hspace{0.1cm}{\footnotesize\ttfamily [1/5]}}
{\footnotesize\ttfamily template$<$typename T $>$ \\
void lbann\+::lbann\+\_\+comm\+::gather (\begin{DoxyParamCaption}\item[{T}]{snd,  }\item[{int}]{root,  }\item[{const El\+::mpi\+::\+Comm}]{c }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}

Scalar gather (for non-\/root processes). 

Definition at line 303 of file comm.\+hpp.


\begin{DoxyCode}
303                                                   \{
304     \hyperlink{classlbann_1_1lbann__comm_ad1f146ae7337ece6266fd307944928e0}{bytes\_sent} += \textcolor{keyword}{sizeof}(T);
305     El::mpi::Gather(&snd, 1, (T*) \textcolor{keyword}{nullptr}, 0, root, c);
306   \}
\end{DoxyCode}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classlbann_1_1lbann__comm_aa784298e6ed0f9f01a20b179d5110df9_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classlbann_1_1lbann__comm_ae4b572b9b6538ab148b3082f54514c19}\label{classlbann_1_1lbann__comm_ae4b572b9b6538ab148b3082f54514c19}} 
\index{lbann\+::lbann\+\_\+comm@{lbann\+::lbann\+\_\+comm}!gather@{gather}}
\index{gather@{gather}!lbann\+::lbann\+\_\+comm@{lbann\+::lbann\+\_\+comm}}
\subsubsection{\texorpdfstring{gather()}{gather()}\hspace{0.1cm}{\footnotesize\ttfamily [2/5]}}
{\footnotesize\ttfamily template$<$typename T $>$ \\
void lbann\+::lbann\+\_\+comm\+::gather (\begin{DoxyParamCaption}\item[{T}]{snd,  }\item[{T $\ast$}]{rcv,  }\item[{const El\+::mpi\+::\+Comm}]{c }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}

Scalar gather (for root processes). 

Definition at line 309 of file comm.\+hpp.


\begin{DoxyCode}
309                                                 \{
310     El::mpi::Gather(&snd, 1, rcv, 1, El::mpi::Rank(c), c);
311     \hyperlink{classlbann_1_1lbann__comm_afb99f57f7eafc0695bf28e6c26a8120f}{bytes\_received} += \textcolor{keyword}{sizeof}(T) * (El::mpi::Size(c) - 1);
312   \}
\end{DoxyCode}
\mbox{\Hypertarget{classlbann_1_1lbann__comm_a46a70202481a0b8bc5770f7174d8462f}\label{classlbann_1_1lbann__comm_a46a70202481a0b8bc5770f7174d8462f}} 
\index{lbann\+::lbann\+\_\+comm@{lbann\+::lbann\+\_\+comm}!gather@{gather}}
\index{gather@{gather}!lbann\+::lbann\+\_\+comm@{lbann\+::lbann\+\_\+comm}}
\subsubsection{\texorpdfstring{gather()}{gather()}\hspace{0.1cm}{\footnotesize\ttfamily [3/5]}}
{\footnotesize\ttfamily template$<$typename T $>$ \\
void lbann\+::lbann\+\_\+comm\+::gather (\begin{DoxyParamCaption}\item[{T}]{snd,  }\item[{std\+::vector$<$ T $>$ \&}]{rcv,  }\item[{const El\+::mpi\+::\+Comm}]{c }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}

Scalar gather (for root processes). 

Definition at line 315 of file comm.\+hpp.


\begin{DoxyCode}
315                                                            \{
316     \hyperlink{classlbann_1_1lbann__comm_aa784298e6ed0f9f01a20b179d5110df9}{gather}(snd, rcv.data(), c);
317   \}
\end{DoxyCode}
\mbox{\Hypertarget{classlbann_1_1lbann__comm_a6d9e9a16e30045690ea416bf25b77148}\label{classlbann_1_1lbann__comm_a6d9e9a16e30045690ea416bf25b77148}} 
\index{lbann\+::lbann\+\_\+comm@{lbann\+::lbann\+\_\+comm}!gather@{gather}}
\index{gather@{gather}!lbann\+::lbann\+\_\+comm@{lbann\+::lbann\+\_\+comm}}
\subsubsection{\texorpdfstring{gather()}{gather()}\hspace{0.1cm}{\footnotesize\ttfamily [4/5]}}
{\footnotesize\ttfamily template$<$typename T $>$ \\
void lbann\+::lbann\+\_\+comm\+::gather (\begin{DoxyParamCaption}\item[{T $\ast$}]{snd,  }\item[{int}]{count,  }\item[{int}]{root,  }\item[{const El\+::mpi\+::\+Comm}]{c }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}

Scalar-\/array gather (for non-\/root processes). 

Definition at line 320 of file comm.\+hpp.


\begin{DoxyCode}
320                                                               \{
321     \hyperlink{classlbann_1_1lbann__comm_ad1f146ae7337ece6266fd307944928e0}{bytes\_sent} += \textcolor{keyword}{sizeof}(T) * count;
322     El::mpi::Gather(snd, count, (T*) \textcolor{keyword}{nullptr}, 0, root, c);
323   \}
\end{DoxyCode}
\mbox{\Hypertarget{classlbann_1_1lbann__comm_a90680b777bcecb4d24392b3300919066}\label{classlbann_1_1lbann__comm_a90680b777bcecb4d24392b3300919066}} 
\index{lbann\+::lbann\+\_\+comm@{lbann\+::lbann\+\_\+comm}!gather@{gather}}
\index{gather@{gather}!lbann\+::lbann\+\_\+comm@{lbann\+::lbann\+\_\+comm}}
\subsubsection{\texorpdfstring{gather()}{gather()}\hspace{0.1cm}{\footnotesize\ttfamily [5/5]}}
{\footnotesize\ttfamily template$<$typename T $>$ \\
void lbann\+::lbann\+\_\+comm\+::gather (\begin{DoxyParamCaption}\item[{T $\ast$}]{snd,  }\item[{int}]{count,  }\item[{T $\ast$}]{rcv,  }\item[{const El\+::mpi\+::\+Comm}]{c }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}

Scalar-\/array gather (for root processes). 

Definition at line 326 of file comm.\+hpp.


\begin{DoxyCode}
326                                                             \{
327     El::mpi::Gather(snd, count, rcv, count, El::mpi::Rank(c), c);
328     \hyperlink{classlbann_1_1lbann__comm_afb99f57f7eafc0695bf28e6c26a8120f}{bytes\_received} += \textcolor{keyword}{sizeof}(T) * count * (El::mpi::Size(c) - 1);
329   \}
\end{DoxyCode}
\mbox{\Hypertarget{classlbann_1_1lbann__comm_a7aaeb171cd6f08926a6919e9a7892a73}\label{classlbann_1_1lbann__comm_a7aaeb171cd6f08926a6919e9a7892a73}} 
\index{lbann\+::lbann\+\_\+comm@{lbann\+::lbann\+\_\+comm}!get\+\_\+ar\+\_\+ag\+\_\+bytes\+\_\+received@{get\+\_\+ar\+\_\+ag\+\_\+bytes\+\_\+received}}
\index{get\+\_\+ar\+\_\+ag\+\_\+bytes\+\_\+received@{get\+\_\+ar\+\_\+ag\+\_\+bytes\+\_\+received}!lbann\+::lbann\+\_\+comm@{lbann\+::lbann\+\_\+comm}}
\subsubsection{\texorpdfstring{get\+\_\+ar\+\_\+ag\+\_\+bytes\+\_\+received()}{get\_ar\_ag\_bytes\_received()}}
{\footnotesize\ttfamily size\+\_\+t lbann\+::lbann\+\_\+comm\+::get\+\_\+ar\+\_\+ag\+\_\+bytes\+\_\+received (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}

Return the number of bytes received in allreduce allgathers. 

Definition at line 672 of file comm.\+hpp.


\begin{DoxyCode}
672                                                  \{
673     \textcolor{keywordflow}{return} \hyperlink{classlbann_1_1lbann__comm_afded6f478dc5021d1edec306dc6c528c}{ar\_ag\_bytes\_received};
674   \}
\end{DoxyCode}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classlbann_1_1lbann__comm_a7aaeb171cd6f08926a6919e9a7892a73_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classlbann_1_1lbann__comm_af745b91711014bf5a9f8d2466b5a6634}\label{classlbann_1_1lbann__comm_af745b91711014bf5a9f8d2466b5a6634}} 
\index{lbann\+::lbann\+\_\+comm@{lbann\+::lbann\+\_\+comm}!get\+\_\+ar\+\_\+ag\+\_\+bytes\+\_\+sent@{get\+\_\+ar\+\_\+ag\+\_\+bytes\+\_\+sent}}
\index{get\+\_\+ar\+\_\+ag\+\_\+bytes\+\_\+sent@{get\+\_\+ar\+\_\+ag\+\_\+bytes\+\_\+sent}!lbann\+::lbann\+\_\+comm@{lbann\+::lbann\+\_\+comm}}
\subsubsection{\texorpdfstring{get\+\_\+ar\+\_\+ag\+\_\+bytes\+\_\+sent()}{get\_ar\_ag\_bytes\_sent()}}
{\footnotesize\ttfamily size\+\_\+t lbann\+::lbann\+\_\+comm\+::get\+\_\+ar\+\_\+ag\+\_\+bytes\+\_\+sent (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}

Return the number of bytes sent in allreduce allgathers. 

Definition at line 668 of file comm.\+hpp.


\begin{DoxyCode}
668                                              \{
669     \textcolor{keywordflow}{return} \hyperlink{classlbann_1_1lbann__comm_a2cfe1264a83865360692c48d7869fe67}{ar\_ag\_bytes\_sent};
670   \}
\end{DoxyCode}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classlbann_1_1lbann__comm_af745b91711014bf5a9f8d2466b5a6634_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classlbann_1_1lbann__comm_a78820c4fbd15df596d41844276cc966a}\label{classlbann_1_1lbann__comm_a78820c4fbd15df596d41844276cc966a}} 
\index{lbann\+::lbann\+\_\+comm@{lbann\+::lbann\+\_\+comm}!get\+\_\+ar\+\_\+ag\+\_\+recv\+\_\+time@{get\+\_\+ar\+\_\+ag\+\_\+recv\+\_\+time}}
\index{get\+\_\+ar\+\_\+ag\+\_\+recv\+\_\+time@{get\+\_\+ar\+\_\+ag\+\_\+recv\+\_\+time}!lbann\+::lbann\+\_\+comm@{lbann\+::lbann\+\_\+comm}}
\subsubsection{\texorpdfstring{get\+\_\+ar\+\_\+ag\+\_\+recv\+\_\+time()}{get\_ar\_ag\_recv\_time()}}
{\footnotesize\ttfamily double lbann\+::lbann\+\_\+comm\+::get\+\_\+ar\+\_\+ag\+\_\+recv\+\_\+time (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}

Return the time spent receiving in allreduce allgathers. 

Definition at line 720 of file comm.\+hpp.


\begin{DoxyCode}
720                                             \{
721     \textcolor{keywordflow}{return} \hyperlink{classlbann_1_1lbann__comm_a1896c3ecd1d5b084497c6ed47c1c9bae}{ar\_ag\_recv\_time};
722   \}
\end{DoxyCode}
\mbox{\Hypertarget{classlbann_1_1lbann__comm_a4482ccdfe56837dd4152c3a33f523a1c}\label{classlbann_1_1lbann__comm_a4482ccdfe56837dd4152c3a33f523a1c}} 
\index{lbann\+::lbann\+\_\+comm@{lbann\+::lbann\+\_\+comm}!get\+\_\+ar\+\_\+ag\+\_\+send\+\_\+time@{get\+\_\+ar\+\_\+ag\+\_\+send\+\_\+time}}
\index{get\+\_\+ar\+\_\+ag\+\_\+send\+\_\+time@{get\+\_\+ar\+\_\+ag\+\_\+send\+\_\+time}!lbann\+::lbann\+\_\+comm@{lbann\+::lbann\+\_\+comm}}
\subsubsection{\texorpdfstring{get\+\_\+ar\+\_\+ag\+\_\+send\+\_\+time()}{get\_ar\_ag\_send\_time()}}
{\footnotesize\ttfamily double lbann\+::lbann\+\_\+comm\+::get\+\_\+ar\+\_\+ag\+\_\+send\+\_\+time (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}

Return the time spent sending in allreduce allgathers. 

Definition at line 716 of file comm.\+hpp.


\begin{DoxyCode}
716                                             \{
717     \textcolor{keywordflow}{return} \hyperlink{classlbann_1_1lbann__comm_a64cb0b86e9368c1d83370ba6cb0083ba}{ar\_ag\_send\_time};
718   \}
\end{DoxyCode}
\mbox{\Hypertarget{classlbann_1_1lbann__comm_aca331207a61bf11d8979c2c06e20b6be}\label{classlbann_1_1lbann__comm_aca331207a61bf11d8979c2c06e20b6be}} 
\index{lbann\+::lbann\+\_\+comm@{lbann\+::lbann\+\_\+comm}!get\+\_\+ar\+\_\+ag\+\_\+time@{get\+\_\+ar\+\_\+ag\+\_\+time}}
\index{get\+\_\+ar\+\_\+ag\+\_\+time@{get\+\_\+ar\+\_\+ag\+\_\+time}!lbann\+::lbann\+\_\+comm@{lbann\+::lbann\+\_\+comm}}
\subsubsection{\texorpdfstring{get\+\_\+ar\+\_\+ag\+\_\+time()}{get\_ar\_ag\_time()}}
{\footnotesize\ttfamily double lbann\+::lbann\+\_\+comm\+::get\+\_\+ar\+\_\+ag\+\_\+time (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}

Return the time spent in allreduce allgathers. 

Definition at line 684 of file comm.\+hpp.


\begin{DoxyCode}
684                                        \{
685     \textcolor{keywordflow}{return} \hyperlink{classlbann_1_1lbann__comm_a48768342eb05c1c6cdaa52c3599b93c8}{ar\_ag\_time};
686   \}
\end{DoxyCode}
\mbox{\Hypertarget{classlbann_1_1lbann__comm_a1b7c53c7c8e04543e1a262a01d847976}\label{classlbann_1_1lbann__comm_a1b7c53c7c8e04543e1a262a01d847976}} 
\index{lbann\+::lbann\+\_\+comm@{lbann\+::lbann\+\_\+comm}!get\+\_\+ar\+\_\+bytes\+\_\+received@{get\+\_\+ar\+\_\+bytes\+\_\+received}}
\index{get\+\_\+ar\+\_\+bytes\+\_\+received@{get\+\_\+ar\+\_\+bytes\+\_\+received}!lbann\+::lbann\+\_\+comm@{lbann\+::lbann\+\_\+comm}}
\subsubsection{\texorpdfstring{get\+\_\+ar\+\_\+bytes\+\_\+received()}{get\_ar\_bytes\_received()}}
{\footnotesize\ttfamily size\+\_\+t lbann\+::lbann\+\_\+comm\+::get\+\_\+ar\+\_\+bytes\+\_\+received (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}

Return the number of bytes received in allreduces. 

Definition at line 656 of file comm.\+hpp.


\begin{DoxyCode}
656                                               \{
657     \textcolor{keywordflow}{return} \hyperlink{classlbann_1_1lbann__comm_aa520c16eafde742b70daf60866afc6a8}{ar\_bytes\_sent};
658   \}
\end{DoxyCode}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classlbann_1_1lbann__comm_a1b7c53c7c8e04543e1a262a01d847976_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classlbann_1_1lbann__comm_ae0be48a03e4e8af43929c97a31a8f361}\label{classlbann_1_1lbann__comm_ae0be48a03e4e8af43929c97a31a8f361}} 
\index{lbann\+::lbann\+\_\+comm@{lbann\+::lbann\+\_\+comm}!get\+\_\+ar\+\_\+bytes\+\_\+sent@{get\+\_\+ar\+\_\+bytes\+\_\+sent}}
\index{get\+\_\+ar\+\_\+bytes\+\_\+sent@{get\+\_\+ar\+\_\+bytes\+\_\+sent}!lbann\+::lbann\+\_\+comm@{lbann\+::lbann\+\_\+comm}}
\subsubsection{\texorpdfstring{get\+\_\+ar\+\_\+bytes\+\_\+sent()}{get\_ar\_bytes\_sent()}}
{\footnotesize\ttfamily size\+\_\+t lbann\+::lbann\+\_\+comm\+::get\+\_\+ar\+\_\+bytes\+\_\+sent (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}

Return the number of bytes sent in allreduces. 

Definition at line 652 of file comm.\+hpp.


\begin{DoxyCode}
652                                           \{
653     \textcolor{keywordflow}{return} \hyperlink{classlbann_1_1lbann__comm_aa520c16eafde742b70daf60866afc6a8}{ar\_bytes\_sent};
654   \}
\end{DoxyCode}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classlbann_1_1lbann__comm_ae0be48a03e4e8af43929c97a31a8f361_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classlbann_1_1lbann__comm_a893af1da4330be474871eeb8b2f9a7b5}\label{classlbann_1_1lbann__comm_a893af1da4330be474871eeb8b2f9a7b5}} 
\index{lbann\+::lbann\+\_\+comm@{lbann\+::lbann\+\_\+comm}!get\+\_\+ar\+\_\+recv\+\_\+apply\+\_\+transform\+\_\+time@{get\+\_\+ar\+\_\+recv\+\_\+apply\+\_\+transform\+\_\+time}}
\index{get\+\_\+ar\+\_\+recv\+\_\+apply\+\_\+transform\+\_\+time@{get\+\_\+ar\+\_\+recv\+\_\+apply\+\_\+transform\+\_\+time}!lbann\+::lbann\+\_\+comm@{lbann\+::lbann\+\_\+comm}}
\subsubsection{\texorpdfstring{get\+\_\+ar\+\_\+recv\+\_\+apply\+\_\+transform\+\_\+time()}{get\_ar\_recv\_apply\_transform\_time()}}
{\footnotesize\ttfamily double lbann\+::lbann\+\_\+comm\+::get\+\_\+ar\+\_\+recv\+\_\+apply\+\_\+transform\+\_\+time (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}

Return the time spent in allreduce receive/apply transforms. 

Definition at line 696 of file comm.\+hpp.


\begin{DoxyCode}
696                                                          \{
697     \textcolor{keywordflow}{return} \hyperlink{classlbann_1_1lbann__comm_aa642b0ae2321fa464b0092da527f6375}{ar\_recv\_apply\_transform\_time};
698   \}
\end{DoxyCode}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classlbann_1_1lbann__comm_a893af1da4330be474871eeb8b2f9a7b5_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classlbann_1_1lbann__comm_a925aad805ceda573cd380b95b8c4a34a}\label{classlbann_1_1lbann__comm_a925aad805ceda573cd380b95b8c4a34a}} 
\index{lbann\+::lbann\+\_\+comm@{lbann\+::lbann\+\_\+comm}!get\+\_\+ar\+\_\+recv\+\_\+time@{get\+\_\+ar\+\_\+recv\+\_\+time}}
\index{get\+\_\+ar\+\_\+recv\+\_\+time@{get\+\_\+ar\+\_\+recv\+\_\+time}!lbann\+::lbann\+\_\+comm@{lbann\+::lbann\+\_\+comm}}
\subsubsection{\texorpdfstring{get\+\_\+ar\+\_\+recv\+\_\+time()}{get\_ar\_recv\_time()}}
{\footnotesize\ttfamily double lbann\+::lbann\+\_\+comm\+::get\+\_\+ar\+\_\+recv\+\_\+time (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}

Return the time spent receiving in allreduces. 

Definition at line 704 of file comm.\+hpp.


\begin{DoxyCode}
704                                          \{
705     \textcolor{keywordflow}{return} \hyperlink{classlbann_1_1lbann__comm_a4c9323938961c3524dc67f4b7b47e3ae}{ar\_recv\_time};
706   \}
\end{DoxyCode}
\mbox{\Hypertarget{classlbann_1_1lbann__comm_afa5144a3d7bd40e1d78193d9f299e8ec}\label{classlbann_1_1lbann__comm_afa5144a3d7bd40e1d78193d9f299e8ec}} 
\index{lbann\+::lbann\+\_\+comm@{lbann\+::lbann\+\_\+comm}!get\+\_\+ar\+\_\+recv\+\_\+transform\+\_\+time@{get\+\_\+ar\+\_\+recv\+\_\+transform\+\_\+time}}
\index{get\+\_\+ar\+\_\+recv\+\_\+transform\+\_\+time@{get\+\_\+ar\+\_\+recv\+\_\+transform\+\_\+time}!lbann\+::lbann\+\_\+comm@{lbann\+::lbann\+\_\+comm}}
\subsubsection{\texorpdfstring{get\+\_\+ar\+\_\+recv\+\_\+transform\+\_\+time()}{get\_ar\_recv\_transform\_time()}}
{\footnotesize\ttfamily double lbann\+::lbann\+\_\+comm\+::get\+\_\+ar\+\_\+recv\+\_\+transform\+\_\+time (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}

Return the time spent in allreduce receive transforms. 

Definition at line 692 of file comm.\+hpp.


\begin{DoxyCode}
692                                                    \{
693     \textcolor{keywordflow}{return} \hyperlink{classlbann_1_1lbann__comm_adb393f47d60eaa59bace80d2d3dd3bf2}{ar\_recv\_transform\_time};
694   \}
\end{DoxyCode}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classlbann_1_1lbann__comm_afa5144a3d7bd40e1d78193d9f299e8ec_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classlbann_1_1lbann__comm_a4ed37b23401cd6df6502229bae0e5a1d}\label{classlbann_1_1lbann__comm_a4ed37b23401cd6df6502229bae0e5a1d}} 
\index{lbann\+::lbann\+\_\+comm@{lbann\+::lbann\+\_\+comm}!get\+\_\+ar\+\_\+rs\+\_\+bytes\+\_\+received@{get\+\_\+ar\+\_\+rs\+\_\+bytes\+\_\+received}}
\index{get\+\_\+ar\+\_\+rs\+\_\+bytes\+\_\+received@{get\+\_\+ar\+\_\+rs\+\_\+bytes\+\_\+received}!lbann\+::lbann\+\_\+comm@{lbann\+::lbann\+\_\+comm}}
\subsubsection{\texorpdfstring{get\+\_\+ar\+\_\+rs\+\_\+bytes\+\_\+received()}{get\_ar\_rs\_bytes\_received()}}
{\footnotesize\ttfamily size\+\_\+t lbann\+::lbann\+\_\+comm\+::get\+\_\+ar\+\_\+rs\+\_\+bytes\+\_\+received (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}

Return the number of bytes received in allreduce reduce-\/scatters. 

Definition at line 664 of file comm.\+hpp.


\begin{DoxyCode}
664                                                  \{
665     \textcolor{keywordflow}{return} \hyperlink{classlbann_1_1lbann__comm_a2c3e1db0f6d2345748132322b0555db7}{ar\_rs\_bytes\_received};
666   \}
\end{DoxyCode}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classlbann_1_1lbann__comm_a4ed37b23401cd6df6502229bae0e5a1d_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classlbann_1_1lbann__comm_a7b9827e5f46d535c8ab2cf2f6c576291}\label{classlbann_1_1lbann__comm_a7b9827e5f46d535c8ab2cf2f6c576291}} 
\index{lbann\+::lbann\+\_\+comm@{lbann\+::lbann\+\_\+comm}!get\+\_\+ar\+\_\+rs\+\_\+bytes\+\_\+sent@{get\+\_\+ar\+\_\+rs\+\_\+bytes\+\_\+sent}}
\index{get\+\_\+ar\+\_\+rs\+\_\+bytes\+\_\+sent@{get\+\_\+ar\+\_\+rs\+\_\+bytes\+\_\+sent}!lbann\+::lbann\+\_\+comm@{lbann\+::lbann\+\_\+comm}}
\subsubsection{\texorpdfstring{get\+\_\+ar\+\_\+rs\+\_\+bytes\+\_\+sent()}{get\_ar\_rs\_bytes\_sent()}}
{\footnotesize\ttfamily size\+\_\+t lbann\+::lbann\+\_\+comm\+::get\+\_\+ar\+\_\+rs\+\_\+bytes\+\_\+sent (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}

Return the number of bytes sent in allreduce reduce-\/scatters. 

Definition at line 660 of file comm.\+hpp.


\begin{DoxyCode}
660                                              \{
661     \textcolor{keywordflow}{return} \hyperlink{classlbann_1_1lbann__comm_ac74bcfb565c1bb6604f336c6d1b647cc}{ar\_rs\_bytes\_sent};
662   \}
\end{DoxyCode}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classlbann_1_1lbann__comm_a7b9827e5f46d535c8ab2cf2f6c576291_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classlbann_1_1lbann__comm_ab3474bd1c09ca432e302279acfd83307}\label{classlbann_1_1lbann__comm_ab3474bd1c09ca432e302279acfd83307}} 
\index{lbann\+::lbann\+\_\+comm@{lbann\+::lbann\+\_\+comm}!get\+\_\+ar\+\_\+rs\+\_\+recv\+\_\+time@{get\+\_\+ar\+\_\+rs\+\_\+recv\+\_\+time}}
\index{get\+\_\+ar\+\_\+rs\+\_\+recv\+\_\+time@{get\+\_\+ar\+\_\+rs\+\_\+recv\+\_\+time}!lbann\+::lbann\+\_\+comm@{lbann\+::lbann\+\_\+comm}}
\subsubsection{\texorpdfstring{get\+\_\+ar\+\_\+rs\+\_\+recv\+\_\+time()}{get\_ar\_rs\_recv\_time()}}
{\footnotesize\ttfamily double lbann\+::lbann\+\_\+comm\+::get\+\_\+ar\+\_\+rs\+\_\+recv\+\_\+time (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}

Return the time spent receiving in allreduce reduce-\/scatters. 

Definition at line 712 of file comm.\+hpp.


\begin{DoxyCode}
712                                             \{
713     \textcolor{keywordflow}{return} \hyperlink{classlbann_1_1lbann__comm_adefa0ee8b0a6b74072448e20d40f502d}{ar\_rs\_recv\_time};
714   \}
\end{DoxyCode}
\mbox{\Hypertarget{classlbann_1_1lbann__comm_a7222cd0613d9a94eafc89c51bfeae20d}\label{classlbann_1_1lbann__comm_a7222cd0613d9a94eafc89c51bfeae20d}} 
\index{lbann\+::lbann\+\_\+comm@{lbann\+::lbann\+\_\+comm}!get\+\_\+ar\+\_\+rs\+\_\+send\+\_\+time@{get\+\_\+ar\+\_\+rs\+\_\+send\+\_\+time}}
\index{get\+\_\+ar\+\_\+rs\+\_\+send\+\_\+time@{get\+\_\+ar\+\_\+rs\+\_\+send\+\_\+time}!lbann\+::lbann\+\_\+comm@{lbann\+::lbann\+\_\+comm}}
\subsubsection{\texorpdfstring{get\+\_\+ar\+\_\+rs\+\_\+send\+\_\+time()}{get\_ar\_rs\_send\_time()}}
{\footnotesize\ttfamily double lbann\+::lbann\+\_\+comm\+::get\+\_\+ar\+\_\+rs\+\_\+send\+\_\+time (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}

Return the time spent sending in allreduce reduce-\/scatters. 

Definition at line 708 of file comm.\+hpp.


\begin{DoxyCode}
708                                             \{
709     \textcolor{keywordflow}{return} \hyperlink{classlbann_1_1lbann__comm_aaadab22d368e8004a9877828a3bc9e93}{ar\_rs\_send\_time};
710   \}
\end{DoxyCode}
\mbox{\Hypertarget{classlbann_1_1lbann__comm_a3db95439bebabcc1648e50698d56dbaa}\label{classlbann_1_1lbann__comm_a3db95439bebabcc1648e50698d56dbaa}} 
\index{lbann\+::lbann\+\_\+comm@{lbann\+::lbann\+\_\+comm}!get\+\_\+ar\+\_\+rs\+\_\+time@{get\+\_\+ar\+\_\+rs\+\_\+time}}
\index{get\+\_\+ar\+\_\+rs\+\_\+time@{get\+\_\+ar\+\_\+rs\+\_\+time}!lbann\+::lbann\+\_\+comm@{lbann\+::lbann\+\_\+comm}}
\subsubsection{\texorpdfstring{get\+\_\+ar\+\_\+rs\+\_\+time()}{get\_ar\_rs\_time()}}
{\footnotesize\ttfamily double lbann\+::lbann\+\_\+comm\+::get\+\_\+ar\+\_\+rs\+\_\+time (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}

Return the time spent in allreduce reduce-\/scatters. 

Definition at line 680 of file comm.\+hpp.


\begin{DoxyCode}
680                                        \{
681     \textcolor{keywordflow}{return} \hyperlink{classlbann_1_1lbann__comm_a85022d803e339eb14a15129a07876c2b}{ar\_rs\_time};
682   \}
\end{DoxyCode}
\mbox{\Hypertarget{classlbann_1_1lbann__comm_a2643a3713d7c2ed64851fc345ba2273f}\label{classlbann_1_1lbann__comm_a2643a3713d7c2ed64851fc345ba2273f}} 
\index{lbann\+::lbann\+\_\+comm@{lbann\+::lbann\+\_\+comm}!get\+\_\+ar\+\_\+send\+\_\+time@{get\+\_\+ar\+\_\+send\+\_\+time}}
\index{get\+\_\+ar\+\_\+send\+\_\+time@{get\+\_\+ar\+\_\+send\+\_\+time}!lbann\+::lbann\+\_\+comm@{lbann\+::lbann\+\_\+comm}}
\subsubsection{\texorpdfstring{get\+\_\+ar\+\_\+send\+\_\+time()}{get\_ar\_send\_time()}}
{\footnotesize\ttfamily double lbann\+::lbann\+\_\+comm\+::get\+\_\+ar\+\_\+send\+\_\+time (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}

Return the time spent sending in allreduces. 

Definition at line 700 of file comm.\+hpp.


\begin{DoxyCode}
700                                          \{
701     \textcolor{keywordflow}{return} \hyperlink{classlbann_1_1lbann__comm_a60a664f47efb52d9936b72d34059d1ef}{ar\_send\_time};
702   \}
\end{DoxyCode}
\mbox{\Hypertarget{classlbann_1_1lbann__comm_aed5d56c2b7205009c67ab37ea1c1556f}\label{classlbann_1_1lbann__comm_aed5d56c2b7205009c67ab37ea1c1556f}} 
\index{lbann\+::lbann\+\_\+comm@{lbann\+::lbann\+\_\+comm}!get\+\_\+ar\+\_\+send\+\_\+transform\+\_\+time@{get\+\_\+ar\+\_\+send\+\_\+transform\+\_\+time}}
\index{get\+\_\+ar\+\_\+send\+\_\+transform\+\_\+time@{get\+\_\+ar\+\_\+send\+\_\+transform\+\_\+time}!lbann\+::lbann\+\_\+comm@{lbann\+::lbann\+\_\+comm}}
\subsubsection{\texorpdfstring{get\+\_\+ar\+\_\+send\+\_\+transform\+\_\+time()}{get\_ar\_send\_transform\_time()}}
{\footnotesize\ttfamily double lbann\+::lbann\+\_\+comm\+::get\+\_\+ar\+\_\+send\+\_\+transform\+\_\+time (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}

Return the time spent in allreduce send transforms. 

Definition at line 688 of file comm.\+hpp.


\begin{DoxyCode}
688                                                    \{
689     \textcolor{keywordflow}{return} \hyperlink{classlbann_1_1lbann__comm_a4e3d35520a8f567579f9235e9808ba1c}{ar\_send\_transform\_time};
690   \}
\end{DoxyCode}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classlbann_1_1lbann__comm_aed5d56c2b7205009c67ab37ea1c1556f_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classlbann_1_1lbann__comm_a29e966df9f8241bba47aa1663ce4151a}\label{classlbann_1_1lbann__comm_a29e966df9f8241bba47aa1663ce4151a}} 
\index{lbann\+::lbann\+\_\+comm@{lbann\+::lbann\+\_\+comm}!get\+\_\+ar\+\_\+time@{get\+\_\+ar\+\_\+time}}
\index{get\+\_\+ar\+\_\+time@{get\+\_\+ar\+\_\+time}!lbann\+::lbann\+\_\+comm@{lbann\+::lbann\+\_\+comm}}
\subsubsection{\texorpdfstring{get\+\_\+ar\+\_\+time()}{get\_ar\_time()}}
{\footnotesize\ttfamily double lbann\+::lbann\+\_\+comm\+::get\+\_\+ar\+\_\+time (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}

Return the time spent in allreduces. 

Definition at line 676 of file comm.\+hpp.


\begin{DoxyCode}
676                                     \{
677     \textcolor{keywordflow}{return} \hyperlink{classlbann_1_1lbann__comm_aa57d2fbeef85fd8a3c9f2a37ca7687c8}{ar\_time};
678   \}
\end{DoxyCode}
\mbox{\Hypertarget{classlbann_1_1lbann__comm_aadc407cd170fc9da46cdc4483f424b2a}\label{classlbann_1_1lbann__comm_aadc407cd170fc9da46cdc4483f424b2a}} 
\index{lbann\+::lbann\+\_\+comm@{lbann\+::lbann\+\_\+comm}!get\+\_\+bytes\+\_\+received@{get\+\_\+bytes\+\_\+received}}
\index{get\+\_\+bytes\+\_\+received@{get\+\_\+bytes\+\_\+received}!lbann\+::lbann\+\_\+comm@{lbann\+::lbann\+\_\+comm}}
\subsubsection{\texorpdfstring{get\+\_\+bytes\+\_\+received()}{get\_bytes\_received()}}
{\footnotesize\ttfamily size\+\_\+t lbann\+::lbann\+\_\+comm\+::get\+\_\+bytes\+\_\+received (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}

Return the number of bytes received. 

Definition at line 648 of file comm.\+hpp.


\begin{DoxyCode}
648                                            \{
649     \textcolor{keywordflow}{return} \hyperlink{classlbann_1_1lbann__comm_afb99f57f7eafc0695bf28e6c26a8120f}{bytes\_received};
650   \}
\end{DoxyCode}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classlbann_1_1lbann__comm_aadc407cd170fc9da46cdc4483f424b2a_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classlbann_1_1lbann__comm_afe3d3d12c544b43c478b968ef4226561}\label{classlbann_1_1lbann__comm_afe3d3d12c544b43c478b968ef4226561}} 
\index{lbann\+::lbann\+\_\+comm@{lbann\+::lbann\+\_\+comm}!get\+\_\+bytes\+\_\+sent@{get\+\_\+bytes\+\_\+sent}}
\index{get\+\_\+bytes\+\_\+sent@{get\+\_\+bytes\+\_\+sent}!lbann\+::lbann\+\_\+comm@{lbann\+::lbann\+\_\+comm}}
\subsubsection{\texorpdfstring{get\+\_\+bytes\+\_\+sent()}{get\_bytes\_sent()}}
{\footnotesize\ttfamily size\+\_\+t lbann\+::lbann\+\_\+comm\+::get\+\_\+bytes\+\_\+sent (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}

Return the number of bytes sent. 

Definition at line 644 of file comm.\+hpp.


\begin{DoxyCode}
644                                        \{
645     \textcolor{keywordflow}{return} \hyperlink{classlbann_1_1lbann__comm_ad1f146ae7337ece6266fd307944928e0}{bytes\_sent};
646   \}
\end{DoxyCode}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classlbann_1_1lbann__comm_afe3d3d12c544b43c478b968ef4226561_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classlbann_1_1lbann__comm_ae925ac5eaf2895717c709b252961b3bf}\label{classlbann_1_1lbann__comm_ae925ac5eaf2895717c709b252961b3bf}} 
\index{lbann\+::lbann\+\_\+comm@{lbann\+::lbann\+\_\+comm}!get\+\_\+collective\+\_\+buffer@{get\+\_\+collective\+\_\+buffer}}
\index{get\+\_\+collective\+\_\+buffer@{get\+\_\+collective\+\_\+buffer}!lbann\+::lbann\+\_\+comm@{lbann\+::lbann\+\_\+comm}}
\subsubsection{\texorpdfstring{get\+\_\+collective\+\_\+buffer()}{get\_collective\_buffer()}}
{\footnotesize\ttfamily uint8\+\_\+t $\ast$ lbann\+::lbann\+\_\+comm\+::get\+\_\+collective\+\_\+buffer (\begin{DoxyParamCaption}\item[{size\+\_\+t}]{size,  }\item[{size\+\_\+t}]{idx = {\ttfamily 0} }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}

Return a buffer from collective\+\_\+bufs, allocating it if needed. 
\begin{DoxyParams}{Parameters}
{\em size} & The size of the buffer (in bytes). \\
\hline
{\em idx} & The index of the buffer (default 0). \\
\hline
\end{DoxyParams}


Definition at line 1064 of file comm.\+cpp.


\begin{DoxyCode}
1064                                                                   \{
1065   \textcolor{keyword}{auto} buf\_iter = \hyperlink{classlbann_1_1lbann__comm_a9ada8c5daf902f43b599234c7519a765}{collective\_bufs}.find(size);
1066   \textcolor{keywordflow}{if} (buf\_iter == \hyperlink{classlbann_1_1lbann__comm_a9ada8c5daf902f43b599234c7519a765}{collective\_bufs}.end()) \{
1067     \textcolor{keywordflow}{if} (idx != 0) \{
1068       \textcolor{keywordflow}{throw} lbann\_exception(\textcolor{stringliteral}{"get\_collective\_buffer: non-contiguous index"});
1069     \}
1070     \hyperlink{classlbann_1_1lbann__comm_a9ada8c5daf902f43b599234c7519a765}{collective\_bufs}.emplace(std::make\_pair(size, std::vector<uint8\_t *>()));
1071     \hyperlink{classlbann_1_1lbann__comm_a9ada8c5daf902f43b599234c7519a765}{collective\_bufs}[size].push\_back(\textcolor{keyword}{new} uint8\_t[size]);
1072     \textcolor{keywordflow}{return} \hyperlink{classlbann_1_1lbann__comm_a9ada8c5daf902f43b599234c7519a765}{collective\_bufs}[size][0];
1073   \} \textcolor{keywordflow}{else} \{
1074     \textcolor{keywordflow}{if} (\hyperlink{classlbann_1_1lbann__comm_a9ada8c5daf902f43b599234c7519a765}{collective\_bufs}[size].size() > idx) \{
1075       \textcolor{keywordflow}{return} \hyperlink{classlbann_1_1lbann__comm_a9ada8c5daf902f43b599234c7519a765}{collective\_bufs}[size][idx];
1076     \} \textcolor{keywordflow}{else} \{
1077       \textcolor{keywordflow}{if} (\hyperlink{classlbann_1_1lbann__comm_a9ada8c5daf902f43b599234c7519a765}{collective\_bufs}[size].size() != idx) \{
1078         \textcolor{keywordflow}{throw} lbann\_exception(\textcolor{stringliteral}{"get\_collective\_buffer: non-contiguous index"});
1079       \}
1080       \hyperlink{classlbann_1_1lbann__comm_a9ada8c5daf902f43b599234c7519a765}{collective\_bufs}[size].push\_back(\textcolor{keyword}{new} uint8\_t[size]);
1081       \textcolor{keywordflow}{return} \hyperlink{classlbann_1_1lbann__comm_a9ada8c5daf902f43b599234c7519a765}{collective\_bufs}[size][idx];
1082     \}
1083   \}
1084 \}
\end{DoxyCode}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classlbann_1_1lbann__comm_ae925ac5eaf2895717c709b252961b3bf_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classlbann_1_1lbann__comm_aa1db618eb587ead21fb0420bf94bfd45}\label{classlbann_1_1lbann__comm_aa1db618eb587ead21fb0420bf94bfd45}} 
\index{lbann\+::lbann\+\_\+comm@{lbann\+::lbann\+\_\+comm}!get\+\_\+count@{get\+\_\+count}}
\index{get\+\_\+count@{get\+\_\+count}!lbann\+::lbann\+\_\+comm@{lbann\+::lbann\+\_\+comm}}
\subsubsection{\texorpdfstring{get\+\_\+count()}{get\_count()}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily template$<$typename T $>$ \\
int lbann\+::lbann\+\_\+comm\+::get\+\_\+count (\begin{DoxyParamCaption}\item[{int}]{model,  }\item[{int}]{rank }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}

Determine the size (count) of an incoming message. 

Definition at line 620 of file comm.\+hpp.


\begin{DoxyCode}
620                                                            \{
621     MPI\_Status status;
622     MPI\_Probe(\hyperlink{classlbann_1_1lbann__comm_ab3b1ebe8b72575094405eb2e37bb447d}{get\_world\_rank}(\hyperlink{namespacelbann_adee41f31f15f3906cbdcce4a1417eb56a20f35e630daf44dbfa4c3f68f5399d8c}{model}, rank), MPI\_ANY\_TAG, MPI\_COMM\_WORLD, &status);
623     \textcolor{keywordflow}{return} El::mpi::GetCount<T>(status);
624   \}
\end{DoxyCode}
\mbox{\Hypertarget{classlbann_1_1lbann__comm_a54544a1b1a691fa7b6314da5682f184c}\label{classlbann_1_1lbann__comm_a54544a1b1a691fa7b6314da5682f184c}} 
\index{lbann\+::lbann\+\_\+comm@{lbann\+::lbann\+\_\+comm}!get\+\_\+count@{get\+\_\+count}}
\index{get\+\_\+count@{get\+\_\+count}!lbann\+::lbann\+\_\+comm@{lbann\+::lbann\+\_\+comm}}
\subsubsection{\texorpdfstring{get\+\_\+count()}{get\_count()}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily template$<$typename T $>$ \\
int lbann\+::lbann\+\_\+comm\+::get\+\_\+count (\begin{DoxyParamCaption}\item[{int}]{model }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Definition at line 626 of file comm.\+hpp.


\begin{DoxyCode}
626                            \{
627     \textcolor{keywordflow}{return} get\_count<T>(\hyperlink{namespacelbann_adee41f31f15f3906cbdcce4a1417eb56a20f35e630daf44dbfa4c3f68f5399d8c}{model}, \hyperlink{classlbann_1_1lbann__comm_a0dcccd57c2b591eb7682e192e0a09033}{rank\_in\_model});
628   \}
\end{DoxyCode}
\mbox{\Hypertarget{classlbann_1_1lbann__comm_aafcb505629dd550ebd0b2c41792aca27}\label{classlbann_1_1lbann__comm_aafcb505629dd550ebd0b2c41792aca27}} 
\index{lbann\+::lbann\+\_\+comm@{lbann\+::lbann\+\_\+comm}!get\+\_\+default\+\_\+allreduce\+\_\+algorithm@{get\+\_\+default\+\_\+allreduce\+\_\+algorithm}}
\index{get\+\_\+default\+\_\+allreduce\+\_\+algorithm@{get\+\_\+default\+\_\+allreduce\+\_\+algorithm}!lbann\+::lbann\+\_\+comm@{lbann\+::lbann\+\_\+comm}}
\subsubsection{\texorpdfstring{get\+\_\+default\+\_\+allreduce\+\_\+algorithm()}{get\_default\_allreduce\_algorithm()}}
{\footnotesize\ttfamily \hyperlink{classlbann_1_1lbann__comm_a02a03227cc27e3516f0d9f9812f32019}{allreduce\+\_\+algorithm} lbann\+::lbann\+\_\+comm\+::get\+\_\+default\+\_\+allreduce\+\_\+algorithm (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}

Get the default allreduce algorithm to use (may be D\+Y\+N\+A\+M\+IC). 

Definition at line 791 of file comm.\+hpp.


\begin{DoxyCode}
791                                                               \{
792     \textcolor{keywordflow}{return} \hyperlink{classlbann_1_1lbann__comm_ac7731d6bcdb6775009467cf4138d4bab}{default\_allreduce\_algo};
793   \}
\end{DoxyCode}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=336pt]{classlbann_1_1lbann__comm_aafcb505629dd550ebd0b2c41792aca27_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classlbann_1_1lbann__comm_a3c60c211a663801b57197dddf58356da}\label{classlbann_1_1lbann__comm_a3c60c211a663801b57197dddf58356da}} 
\index{lbann\+::lbann\+\_\+comm@{lbann\+::lbann\+\_\+comm}!get\+\_\+default\+\_\+threads\+\_\+per\+\_\+proc@{get\+\_\+default\+\_\+threads\+\_\+per\+\_\+proc}}
\index{get\+\_\+default\+\_\+threads\+\_\+per\+\_\+proc@{get\+\_\+default\+\_\+threads\+\_\+per\+\_\+proc}!lbann\+::lbann\+\_\+comm@{lbann\+::lbann\+\_\+comm}}
\subsubsection{\texorpdfstring{get\+\_\+default\+\_\+threads\+\_\+per\+\_\+proc()}{get\_default\_threads\_per\_proc()}}
{\footnotesize\ttfamily int lbann\+::lbann\+\_\+comm\+::get\+\_\+default\+\_\+threads\+\_\+per\+\_\+proc (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}

Get default number of threads per process. This is the number of Open\+MP threads to use for parallel regions, provided omp\+\_\+set\+\_\+num\+\_\+threads has not been called or the num\+\_\+threads directive has not been provided. 

Definition at line 183 of file comm.\+hpp.


\begin{DoxyCode}
183                                                   \{
184     \textcolor{keywordflow}{return} \hyperlink{classlbann_1_1lbann__comm_a23ff8e3563e4472af29d15f6cb823bc1}{threads\_per\_proc};
185   \}
\end{DoxyCode}
\mbox{\Hypertarget{classlbann_1_1lbann__comm_a61d59b7dff63ece4c10cd3946b41cb39}\label{classlbann_1_1lbann__comm_a61d59b7dff63ece4c10cd3946b41cb39}} 
\index{lbann\+::lbann\+\_\+comm@{lbann\+::lbann\+\_\+comm}!get\+\_\+intermodel\+\_\+comm@{get\+\_\+intermodel\+\_\+comm}}
\index{get\+\_\+intermodel\+\_\+comm@{get\+\_\+intermodel\+\_\+comm}!lbann\+::lbann\+\_\+comm@{lbann\+::lbann\+\_\+comm}}
\subsubsection{\texorpdfstring{get\+\_\+intermodel\+\_\+comm()}{get\_intermodel\_comm()}}
{\footnotesize\ttfamily El\+::mpi\+::\+Comm lbann\+::lbann\+\_\+comm\+::get\+\_\+intermodel\+\_\+comm (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}

Return the intermodel communicator. 

Definition at line 881 of file comm.\+hpp.


\begin{DoxyCode}
881                                         \{
882     \textcolor{keywordflow}{return} \hyperlink{classlbann_1_1lbann__comm_a2c51c5d8faf4f0ab4f43b892c55e597b}{intermodel\_comm};
883   \}
\end{DoxyCode}
\mbox{\Hypertarget{classlbann_1_1lbann__comm_adbd99fe6c8df2689217c9ee16d6234d7}\label{classlbann_1_1lbann__comm_adbd99fe6c8df2689217c9ee16d6234d7}} 
\index{lbann\+::lbann\+\_\+comm@{lbann\+::lbann\+\_\+comm}!get\+\_\+intermodel\+\_\+master@{get\+\_\+intermodel\+\_\+master}}
\index{get\+\_\+intermodel\+\_\+master@{get\+\_\+intermodel\+\_\+master}!lbann\+::lbann\+\_\+comm@{lbann\+::lbann\+\_\+comm}}
\subsubsection{\texorpdfstring{get\+\_\+intermodel\+\_\+master()}{get\_intermodel\_master()}}
{\footnotesize\ttfamily int lbann\+::lbann\+\_\+comm\+::get\+\_\+intermodel\+\_\+master (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}

Return the rank of the inter-\/model master process. 

Definition at line 132 of file comm.\+hpp.


\begin{DoxyCode}
132                                            \{
133     \textcolor{keywordflow}{return} 0;
134   \}
\end{DoxyCode}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classlbann_1_1lbann__comm_adbd99fe6c8df2689217c9ee16d6234d7_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classlbann_1_1lbann__comm_acc06dd4de92e45030d6fbe5984ae58d1}\label{classlbann_1_1lbann__comm_acc06dd4de92e45030d6fbe5984ae58d1}} 
\index{lbann\+::lbann\+\_\+comm@{lbann\+::lbann\+\_\+comm}!get\+\_\+model\+\_\+comm@{get\+\_\+model\+\_\+comm}}
\index{get\+\_\+model\+\_\+comm@{get\+\_\+model\+\_\+comm}!lbann\+::lbann\+\_\+comm@{lbann\+::lbann\+\_\+comm}}
\subsubsection{\texorpdfstring{get\+\_\+model\+\_\+comm()}{get\_model\_comm()}}
{\footnotesize\ttfamily El\+::mpi\+::\+Comm lbann\+::lbann\+\_\+comm\+::get\+\_\+model\+\_\+comm (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}

Return the model communicator. 

Definition at line 886 of file comm.\+hpp.


\begin{DoxyCode}
886                                    \{
887     \textcolor{keywordflow}{return} \hyperlink{classlbann_1_1lbann__comm_a58a75b76bd61ec8a26c1cbbec3dc2f45}{model\_comm};
888   \}
\end{DoxyCode}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classlbann_1_1lbann__comm_acc06dd4de92e45030d6fbe5984ae58d1_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classlbann_1_1lbann__comm_a483bf8a72d44a0e83da45f3d47bd20d4}\label{classlbann_1_1lbann__comm_a483bf8a72d44a0e83da45f3d47bd20d4}} 
\index{lbann\+::lbann\+\_\+comm@{lbann\+::lbann\+\_\+comm}!get\+\_\+model\+\_\+grid@{get\+\_\+model\+\_\+grid}}
\index{get\+\_\+model\+\_\+grid@{get\+\_\+model\+\_\+grid}!lbann\+::lbann\+\_\+comm@{lbann\+::lbann\+\_\+comm}}
\subsubsection{\texorpdfstring{get\+\_\+model\+\_\+grid()}{get\_model\_grid()}}
{\footnotesize\ttfamily \hyperlink{base_8hpp_a9951bb1719d534e0401b1f06cad19eab}{Grid}\& lbann\+::lbann\+\_\+comm\+::get\+\_\+model\+\_\+grid (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}

Return a grid to use for this model. 

Definition at line 148 of file comm.\+hpp.


\begin{DoxyCode}
148                                 \{
149     \textcolor{keywordflow}{return} *\hyperlink{classlbann_1_1lbann__comm_a29fb31be115db3225b145f250a7778d9}{grid};
150   \}
\end{DoxyCode}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classlbann_1_1lbann__comm_a483bf8a72d44a0e83da45f3d47bd20d4_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classlbann_1_1lbann__comm_a96d8d7a0ff8ee1511f8c8b8fa92628af}\label{classlbann_1_1lbann__comm_a96d8d7a0ff8ee1511f8c8b8fa92628af}} 
\index{lbann\+::lbann\+\_\+comm@{lbann\+::lbann\+\_\+comm}!get\+\_\+model\+\_\+master@{get\+\_\+model\+\_\+master}}
\index{get\+\_\+model\+\_\+master@{get\+\_\+model\+\_\+master}!lbann\+::lbann\+\_\+comm@{lbann\+::lbann\+\_\+comm}}
\subsubsection{\texorpdfstring{get\+\_\+model\+\_\+master()}{get\_model\_master()}}
{\footnotesize\ttfamily int lbann\+::lbann\+\_\+comm\+::get\+\_\+model\+\_\+master (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}

Return the rank of the master process in this model. 

Definition at line 128 of file comm.\+hpp.


\begin{DoxyCode}
128                                       \{
129     \textcolor{keywordflow}{return} 0;
130   \}
\end{DoxyCode}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classlbann_1_1lbann__comm_a96d8d7a0ff8ee1511f8c8b8fa92628af_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classlbann_1_1lbann__comm_a6422f70c92bed0b78179facc52b066f7}\label{classlbann_1_1lbann__comm_a6422f70c92bed0b78179facc52b066f7}} 
\index{lbann\+::lbann\+\_\+comm@{lbann\+::lbann\+\_\+comm}!get\+\_\+model\+\_\+rank@{get\+\_\+model\+\_\+rank}}
\index{get\+\_\+model\+\_\+rank@{get\+\_\+model\+\_\+rank}!lbann\+::lbann\+\_\+comm@{lbann\+::lbann\+\_\+comm}}
\subsubsection{\texorpdfstring{get\+\_\+model\+\_\+rank()}{get\_model\_rank()}}
{\footnotesize\ttfamily int lbann\+::lbann\+\_\+comm\+::get\+\_\+model\+\_\+rank (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}

Get which model this process is in. 

Definition at line 112 of file comm.\+hpp.


\begin{DoxyCode}
112                                     \{
113     \textcolor{keywordflow}{return} \hyperlink{classlbann_1_1lbann__comm_a1f3f90a996dbba4cd1cca60596933ea3}{model\_rank};
114   \}
\end{DoxyCode}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=550pt]{classlbann_1_1lbann__comm_a6422f70c92bed0b78179facc52b066f7_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classlbann_1_1lbann__comm_ad5a4f05dc5a2c992ebb659650a7dc6ce}\label{classlbann_1_1lbann__comm_ad5a4f05dc5a2c992ebb659650a7dc6ce}} 
\index{lbann\+::lbann\+\_\+comm@{lbann\+::lbann\+\_\+comm}!get\+\_\+num\+\_\+global\+\_\+barriers@{get\+\_\+num\+\_\+global\+\_\+barriers}}
\index{get\+\_\+num\+\_\+global\+\_\+barriers@{get\+\_\+num\+\_\+global\+\_\+barriers}!lbann\+::lbann\+\_\+comm@{lbann\+::lbann\+\_\+comm}}
\subsubsection{\texorpdfstring{get\+\_\+num\+\_\+global\+\_\+barriers()}{get\_num\_global\_barriers()}}
{\footnotesize\ttfamily size\+\_\+t lbann\+::lbann\+\_\+comm\+::get\+\_\+num\+\_\+global\+\_\+barriers (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}

Return the number of global barriers performed. 

Definition at line 640 of file comm.\+hpp.


\begin{DoxyCode}
640                                                 \{
641     \textcolor{keywordflow}{return} \hyperlink{classlbann_1_1lbann__comm_a4f01e2f2d8220dc34cf39eb4a255cd7d}{num\_global\_barriers};
642   \}
\end{DoxyCode}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classlbann_1_1lbann__comm_ad5a4f05dc5a2c992ebb659650a7dc6ce_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classlbann_1_1lbann__comm_a78ea2f289eb8de66edecb84b6cf48b84}\label{classlbann_1_1lbann__comm_a78ea2f289eb8de66edecb84b6cf48b84}} 
\index{lbann\+::lbann\+\_\+comm@{lbann\+::lbann\+\_\+comm}!get\+\_\+num\+\_\+intermodel\+\_\+barriers@{get\+\_\+num\+\_\+intermodel\+\_\+barriers}}
\index{get\+\_\+num\+\_\+intermodel\+\_\+barriers@{get\+\_\+num\+\_\+intermodel\+\_\+barriers}!lbann\+::lbann\+\_\+comm@{lbann\+::lbann\+\_\+comm}}
\subsubsection{\texorpdfstring{get\+\_\+num\+\_\+intermodel\+\_\+barriers()}{get\_num\_intermodel\_barriers()}}
{\footnotesize\ttfamily size\+\_\+t lbann\+::lbann\+\_\+comm\+::get\+\_\+num\+\_\+intermodel\+\_\+barriers (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}

Return the number of inter-\/model barriers performed. 

Definition at line 636 of file comm.\+hpp.


\begin{DoxyCode}
636                                                     \{
637     \textcolor{keywordflow}{return} \hyperlink{classlbann_1_1lbann__comm_a03d946ef5ea5d3b15351e78a2eed10fe}{num\_intermodel\_barriers};
638   \}
\end{DoxyCode}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classlbann_1_1lbann__comm_a78ea2f289eb8de66edecb84b6cf48b84_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classlbann_1_1lbann__comm_ab07201c12c01f065acb151f2a3c32efa}\label{classlbann_1_1lbann__comm_ab07201c12c01f065acb151f2a3c32efa}} 
\index{lbann\+::lbann\+\_\+comm@{lbann\+::lbann\+\_\+comm}!get\+\_\+num\+\_\+model\+\_\+barriers@{get\+\_\+num\+\_\+model\+\_\+barriers}}
\index{get\+\_\+num\+\_\+model\+\_\+barriers@{get\+\_\+num\+\_\+model\+\_\+barriers}!lbann\+::lbann\+\_\+comm@{lbann\+::lbann\+\_\+comm}}
\subsubsection{\texorpdfstring{get\+\_\+num\+\_\+model\+\_\+barriers()}{get\_num\_model\_barriers()}}
{\footnotesize\ttfamily size\+\_\+t lbann\+::lbann\+\_\+comm\+::get\+\_\+num\+\_\+model\+\_\+barriers (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}

Return the number of model barriers performed. 

Definition at line 632 of file comm.\+hpp.


\begin{DoxyCode}
632                                                \{
633     \textcolor{keywordflow}{return} \hyperlink{classlbann_1_1lbann__comm_aa4f15459eca2a06174a877ba0c23feb7}{num\_model\_barriers};
634   \}
\end{DoxyCode}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classlbann_1_1lbann__comm_ab07201c12c01f065acb151f2a3c32efa_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classlbann_1_1lbann__comm_aeb8ef8f13bbb324e3e1f656998198f3f}\label{classlbann_1_1lbann__comm_aeb8ef8f13bbb324e3e1f656998198f3f}} 
\index{lbann\+::lbann\+\_\+comm@{lbann\+::lbann\+\_\+comm}!get\+\_\+num\+\_\+models@{get\+\_\+num\+\_\+models}}
\index{get\+\_\+num\+\_\+models@{get\+\_\+num\+\_\+models}!lbann\+::lbann\+\_\+comm@{lbann\+::lbann\+\_\+comm}}
\subsubsection{\texorpdfstring{get\+\_\+num\+\_\+models()}{get\_num\_models()}}
{\footnotesize\ttfamily int lbann\+::lbann\+\_\+comm\+::get\+\_\+num\+\_\+models (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}

Return the total number of models. 

Definition at line 152 of file comm.\+hpp.


\begin{DoxyCode}
152                                     \{
153     \textcolor{keywordflow}{return} \hyperlink{classlbann_1_1lbann__comm_a256ff5a0bafb33f43784ffc8dd2d29cf}{num\_models};
154   \}
\end{DoxyCode}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classlbann_1_1lbann__comm_aeb8ef8f13bbb324e3e1f656998198f3f_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classlbann_1_1lbann__comm_a1eb92927a8f8bcbdd677ccecc1a33c59}\label{classlbann_1_1lbann__comm_a1eb92927a8f8bcbdd677ccecc1a33c59}} 
\index{lbann\+::lbann\+\_\+comm@{lbann\+::lbann\+\_\+comm}!get\+\_\+procs\+\_\+in\+\_\+world@{get\+\_\+procs\+\_\+in\+\_\+world}}
\index{get\+\_\+procs\+\_\+in\+\_\+world@{get\+\_\+procs\+\_\+in\+\_\+world}!lbann\+::lbann\+\_\+comm@{lbann\+::lbann\+\_\+comm}}
\subsubsection{\texorpdfstring{get\+\_\+procs\+\_\+in\+\_\+world()}{get\_procs\_in\_world()}}
{\footnotesize\ttfamily int lbann\+::lbann\+\_\+comm\+::get\+\_\+procs\+\_\+in\+\_\+world (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}

Return the total number of ranks. 

Definition at line 164 of file comm.\+hpp.


\begin{DoxyCode}
164                                         \{
165     \textcolor{keywordflow}{return} El::mpi::Size(\hyperlink{classlbann_1_1lbann__comm_a0493f1f0c42b95674daacf5288fdb073}{get\_world\_comm}());
166   \}
\end{DoxyCode}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=301pt]{classlbann_1_1lbann__comm_a1eb92927a8f8bcbdd677ccecc1a33c59_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classlbann_1_1lbann__comm_a5755dfdfc6377b4cae5ef8f7819e17de}\label{classlbann_1_1lbann__comm_a5755dfdfc6377b4cae5ef8f7819e17de}} 
\index{lbann\+::lbann\+\_\+comm@{lbann\+::lbann\+\_\+comm}!get\+\_\+procs\+\_\+per\+\_\+model@{get\+\_\+procs\+\_\+per\+\_\+model}}
\index{get\+\_\+procs\+\_\+per\+\_\+model@{get\+\_\+procs\+\_\+per\+\_\+model}!lbann\+::lbann\+\_\+comm@{lbann\+::lbann\+\_\+comm}}
\subsubsection{\texorpdfstring{get\+\_\+procs\+\_\+per\+\_\+model()}{get\_procs\_per\_model()}}
{\footnotesize\ttfamily int lbann\+::lbann\+\_\+comm\+::get\+\_\+procs\+\_\+per\+\_\+model (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}



Definition at line 156 of file comm.\+hpp.


\begin{DoxyCode}
156                                          \{
157     \textcolor{keywordflow}{return} \hyperlink{classlbann_1_1lbann__comm_a7cb55d127259d7ed9f07ccde6f4ebd8c}{procs\_per\_model};
158   \}
\end{DoxyCode}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classlbann_1_1lbann__comm_a5755dfdfc6377b4cae5ef8f7819e17de_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classlbann_1_1lbann__comm_ac5ccd63337b0cbb2fd730fddd9f8da3e}\label{classlbann_1_1lbann__comm_ac5ccd63337b0cbb2fd730fddd9f8da3e}} 
\index{lbann\+::lbann\+\_\+comm@{lbann\+::lbann\+\_\+comm}!get\+\_\+procs\+\_\+per\+\_\+node@{get\+\_\+procs\+\_\+per\+\_\+node}}
\index{get\+\_\+procs\+\_\+per\+\_\+node@{get\+\_\+procs\+\_\+per\+\_\+node}!lbann\+::lbann\+\_\+comm@{lbann\+::lbann\+\_\+comm}}
\subsubsection{\texorpdfstring{get\+\_\+procs\+\_\+per\+\_\+node()}{get\_procs\_per\_node()}}
{\footnotesize\ttfamily int lbann\+::lbann\+\_\+comm\+::get\+\_\+procs\+\_\+per\+\_\+node (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}

Return the number of processes in a compute node. 

Definition at line 160 of file comm.\+hpp.


\begin{DoxyCode}
160                                         \{
161     \textcolor{keywordflow}{return} \hyperlink{classlbann_1_1lbann__comm_a2ffc59f0c1d97df2ca6845312c8c8b3e}{procs\_per\_node};
162   \}
\end{DoxyCode}
\mbox{\Hypertarget{classlbann_1_1lbann__comm_a789453454468a3b70de768537c50ca52}\label{classlbann_1_1lbann__comm_a789453454468a3b70de768537c50ca52}} 
\index{lbann\+::lbann\+\_\+comm@{lbann\+::lbann\+\_\+comm}!get\+\_\+rank\+\_\+in\+\_\+model@{get\+\_\+rank\+\_\+in\+\_\+model}}
\index{get\+\_\+rank\+\_\+in\+\_\+model@{get\+\_\+rank\+\_\+in\+\_\+model}!lbann\+::lbann\+\_\+comm@{lbann\+::lbann\+\_\+comm}}
\subsubsection{\texorpdfstring{get\+\_\+rank\+\_\+in\+\_\+model()}{get\_rank\_in\_model()}}
{\footnotesize\ttfamily int lbann\+::lbann\+\_\+comm\+::get\+\_\+rank\+\_\+in\+\_\+model (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}

Get the rank of this process in its model. 

Definition at line 116 of file comm.\+hpp.


\begin{DoxyCode}
116                                        \{
117     \textcolor{keywordflow}{return} \hyperlink{classlbann_1_1lbann__comm_a0dcccd57c2b591eb7682e192e0a09033}{rank\_in\_model};
118   \}
\end{DoxyCode}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classlbann_1_1lbann__comm_a789453454468a3b70de768537c50ca52_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classlbann_1_1lbann__comm_acebc5ff36fcb64c05f66757953aefb8c}\label{classlbann_1_1lbann__comm_acebc5ff36fcb64c05f66757953aefb8c}} 
\index{lbann\+::lbann\+\_\+comm@{lbann\+::lbann\+\_\+comm}!get\+\_\+rank\+\_\+in\+\_\+node@{get\+\_\+rank\+\_\+in\+\_\+node}}
\index{get\+\_\+rank\+\_\+in\+\_\+node@{get\+\_\+rank\+\_\+in\+\_\+node}!lbann\+::lbann\+\_\+comm@{lbann\+::lbann\+\_\+comm}}
\subsubsection{\texorpdfstring{get\+\_\+rank\+\_\+in\+\_\+node()}{get\_rank\_in\_node()}}
{\footnotesize\ttfamily int lbann\+::lbann\+\_\+comm\+::get\+\_\+rank\+\_\+in\+\_\+node (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}

Return the rank of this process within its compute node. 

Definition at line 168 of file comm.\+hpp.


\begin{DoxyCode}
168                                       \{
169     \textcolor{keywordflow}{return} \hyperlink{classlbann_1_1lbann__comm_abb5c8b008b5cac11702bf1f991c78ab0}{rank\_in\_node};
170   \}
\end{DoxyCode}
\mbox{\Hypertarget{classlbann_1_1lbann__comm_a4519335d6772dab3c36517618260d48a}\label{classlbann_1_1lbann__comm_a4519335d6772dab3c36517618260d48a}} 
\index{lbann\+::lbann\+\_\+comm@{lbann\+::lbann\+\_\+comm}!get\+\_\+rank\+\_\+in\+\_\+world@{get\+\_\+rank\+\_\+in\+\_\+world}}
\index{get\+\_\+rank\+\_\+in\+\_\+world@{get\+\_\+rank\+\_\+in\+\_\+world}!lbann\+::lbann\+\_\+comm@{lbann\+::lbann\+\_\+comm}}
\subsubsection{\texorpdfstring{get\+\_\+rank\+\_\+in\+\_\+world()}{get\_rank\_in\_world()}}
{\footnotesize\ttfamily int lbann\+::lbann\+\_\+comm\+::get\+\_\+rank\+\_\+in\+\_\+world (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}

Get my rank in C\+O\+M\+M\+\_\+\+W\+O\+R\+LD. 

Definition at line 120 of file comm.\+hpp.


\begin{DoxyCode}
120                                        \{
121     \textcolor{keywordflow}{return} El::mpi::Rank(\hyperlink{classlbann_1_1lbann__comm_a0493f1f0c42b95674daacf5288fdb073}{get\_world\_comm}());
122   \}
\end{DoxyCode}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classlbann_1_1lbann__comm_a4519335d6772dab3c36517618260d48a_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classlbann_1_1lbann__comm_a0493f1f0c42b95674daacf5288fdb073}\label{classlbann_1_1lbann__comm_a0493f1f0c42b95674daacf5288fdb073}} 
\index{lbann\+::lbann\+\_\+comm@{lbann\+::lbann\+\_\+comm}!get\+\_\+world\+\_\+comm@{get\+\_\+world\+\_\+comm}}
\index{get\+\_\+world\+\_\+comm@{get\+\_\+world\+\_\+comm}!lbann\+::lbann\+\_\+comm@{lbann\+::lbann\+\_\+comm}}
\subsubsection{\texorpdfstring{get\+\_\+world\+\_\+comm()}{get\_world\_comm()}}
{\footnotesize\ttfamily const El\+::mpi\+::\+Comm lbann\+::lbann\+\_\+comm\+::get\+\_\+world\+\_\+comm (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}

Return the world communicator. 

Definition at line 891 of file comm.\+hpp.


\begin{DoxyCode}
891                                          \{
892     \textcolor{keywordflow}{return} \hyperlink{classlbann_1_1lbann__comm_a1fc59c935580eab2ce8e60464a45ef39}{world\_comm};
893   \}
\end{DoxyCode}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classlbann_1_1lbann__comm_a0493f1f0c42b95674daacf5288fdb073_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classlbann_1_1lbann__comm_aa682313f366e0b7cf781bc1872911f65}\label{classlbann_1_1lbann__comm_aa682313f366e0b7cf781bc1872911f65}} 
\index{lbann\+::lbann\+\_\+comm@{lbann\+::lbann\+\_\+comm}!get\+\_\+world\+\_\+master@{get\+\_\+world\+\_\+master}}
\index{get\+\_\+world\+\_\+master@{get\+\_\+world\+\_\+master}!lbann\+::lbann\+\_\+comm@{lbann\+::lbann\+\_\+comm}}
\subsubsection{\texorpdfstring{get\+\_\+world\+\_\+master()}{get\_world\_master()}}
{\footnotesize\ttfamily int lbann\+::lbann\+\_\+comm\+::get\+\_\+world\+\_\+master (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}

Return the rank of the world master process. 

Definition at line 136 of file comm.\+hpp.


\begin{DoxyCode}
136                                       \{
137     \textcolor{keywordflow}{return} 0;
138   \}
\end{DoxyCode}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classlbann_1_1lbann__comm_aa682313f366e0b7cf781bc1872911f65_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classlbann_1_1lbann__comm_ab3b1ebe8b72575094405eb2e37bb447d}\label{classlbann_1_1lbann__comm_ab3b1ebe8b72575094405eb2e37bb447d}} 
\index{lbann\+::lbann\+\_\+comm@{lbann\+::lbann\+\_\+comm}!get\+\_\+world\+\_\+rank@{get\+\_\+world\+\_\+rank}}
\index{get\+\_\+world\+\_\+rank@{get\+\_\+world\+\_\+rank}!lbann\+::lbann\+\_\+comm@{lbann\+::lbann\+\_\+comm}}
\subsubsection{\texorpdfstring{get\+\_\+world\+\_\+rank()}{get\_world\_rank()}}
{\footnotesize\ttfamily int lbann\+::lbann\+\_\+comm\+::get\+\_\+world\+\_\+rank (\begin{DoxyParamCaption}\item[{int}]{model,  }\item[{int}]{rank }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}

Return the C\+O\+M\+M\+\_\+\+W\+O\+R\+LD rank of the rank\textquotesingle{}th processor in model. 

Definition at line 124 of file comm.\+hpp.


\begin{DoxyCode}
124                                                        \{
125     \textcolor{keywordflow}{return} \hyperlink{classlbann_1_1lbann__comm_a7cb55d127259d7ed9f07ccde6f4ebd8c}{procs\_per\_model} * \hyperlink{namespacelbann_adee41f31f15f3906cbdcce4a1417eb56a20f35e630daf44dbfa4c3f68f5399d8c}{model} + rank;
126   \}
\end{DoxyCode}
\mbox{\Hypertarget{classlbann_1_1lbann__comm_ae12af95f4826571efa03fb8520260daa}\label{classlbann_1_1lbann__comm_ae12af95f4826571efa03fb8520260daa}} 
\index{lbann\+::lbann\+\_\+comm@{lbann\+::lbann\+\_\+comm}!global\+\_\+barrier@{global\+\_\+barrier}}
\index{global\+\_\+barrier@{global\+\_\+barrier}!lbann\+::lbann\+\_\+comm@{lbann\+::lbann\+\_\+comm}}
\subsubsection{\texorpdfstring{global\+\_\+barrier()}{global\_barrier()}}
{\footnotesize\ttfamily void lbann\+::lbann\+\_\+comm\+::global\+\_\+barrier (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}

Barrier among all processes. 

Definition at line 263 of file comm.\+cpp.


\begin{DoxyCode}
263                                 \{
264   ++\hyperlink{classlbann_1_1lbann__comm_a4f01e2f2d8220dc34cf39eb4a255cd7d}{num\_global\_barriers};
265   \hyperlink{classlbann_1_1lbann__comm_a303c02c5a127f3ed21f12c9a71cc90a6}{barrier}(\hyperlink{classlbann_1_1lbann__comm_a0493f1f0c42b95674daacf5288fdb073}{get\_world\_comm}());
266 \}
\end{DoxyCode}
Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=334pt]{classlbann_1_1lbann__comm_ae12af95f4826571efa03fb8520260daa_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classlbann_1_1lbann__comm_ae12af95f4826571efa03fb8520260daa_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classlbann_1_1lbann__comm_a502bd724f9fb27f0e899306c69a3ec47}\label{classlbann_1_1lbann__comm_a502bd724f9fb27f0e899306c69a3ec47}} 
\index{lbann\+::lbann\+\_\+comm@{lbann\+::lbann\+\_\+comm}!intermodel\+\_\+allreduce@{intermodel\+\_\+allreduce}}
\index{intermodel\+\_\+allreduce@{intermodel\+\_\+allreduce}!lbann\+::lbann\+\_\+comm@{lbann\+::lbann\+\_\+comm}}
\subsubsection{\texorpdfstring{intermodel\+\_\+allreduce()}{intermodel\_allreduce()}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily template$<$typename T $>$ \\
T lbann\+::lbann\+\_\+comm\+::intermodel\+\_\+allreduce (\begin{DoxyParamCaption}\item[{T}]{snd,  }\item[{El\+::mpi\+::\+Op}]{op = {\ttfamily El\+:\+:mpi\+:\+:SUM} }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}

Inter-\/model all-\/reduce. 

Definition at line 404 of file comm.\+hpp.


\begin{DoxyCode}
404                                                        \{
405     \textcolor{keywordflow}{return} \hyperlink{classlbann_1_1lbann__comm_af5631e5f0f54e4df4958eba9df2599ef}{allreduce}(snd, \hyperlink{classlbann_1_1lbann__comm_a2c51c5d8faf4f0ab4f43b892c55e597b}{intermodel\_comm}, op);
406   \}
\end{DoxyCode}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classlbann_1_1lbann__comm_a502bd724f9fb27f0e899306c69a3ec47_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classlbann_1_1lbann__comm_a34d5414f1ac4749e6f0937b638bb5cc6}\label{classlbann_1_1lbann__comm_a34d5414f1ac4749e6f0937b638bb5cc6}} 
\index{lbann\+::lbann\+\_\+comm@{lbann\+::lbann\+\_\+comm}!intermodel\+\_\+allreduce@{intermodel\+\_\+allreduce}}
\index{intermodel\+\_\+allreduce@{intermodel\+\_\+allreduce}!lbann\+::lbann\+\_\+comm@{lbann\+::lbann\+\_\+comm}}
\subsubsection{\texorpdfstring{intermodel\+\_\+allreduce()}{intermodel\_allreduce()}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily void lbann\+::lbann\+\_\+comm\+::intermodel\+\_\+allreduce (\begin{DoxyParamCaption}\item[{\hyperlink{base_8hpp_a68f11fdc31b62516cb310831bbe54d73}{Mat} \&}]{mat,  }\item[{int}]{max\+\_\+recv\+\_\+count,  }\item[{std\+::function$<$ uint8\+\_\+t $\ast$(\hyperlink{base_8hpp_a68f11fdc31b62516cb310831bbe54d73}{Mat} \&, El\+::\+IR, El\+::\+IR, int \&, bool, int)$>$}]{send\+\_\+transform,  }\item[{std\+::function$<$ int(uint8\+\_\+t $\ast$, \hyperlink{base_8hpp_a68f11fdc31b62516cb310831bbe54d73}{Mat} \&)$>$}]{recv\+\_\+transform,  }\item[{std\+::function$<$ int(uint8\+\_\+t $\ast$, \hyperlink{base_8hpp_a68f11fdc31b62516cb310831bbe54d73}{Mat} \&, bool)$>$}]{recv\+\_\+apply\+\_\+transform,  }\item[{const \hyperlink{structlbann_1_1lbann__comm_1_1allreduce__options}{allreduce\+\_\+options}}]{opts }\end{DoxyParamCaption})}

Do a custom allreduce on mat on the intermodel communicator. This selects the allreduce algorithm to use based on the size of mat. All counts/sizes are in bytes. 
\begin{DoxyParams}{Parameters}
{\em mat} & The matrix to allreduce. \\
\hline
{\em max\+\_\+recv\+\_\+count} & An upper bound on the size of data that will be received in any step; this will be the size of receive buffers used in the allreduce. \\
\hline
{\em send\+\_\+transform} & A function that takes a range of a matrix and applies a transformation to it. The return value is a pointer to a buffer containing the transformed data, which will be sent. The int\& param should be set to the count of how many elements are in the buffer. The boolean parameter indicates whether the matrix is constant between different calls to send\+\_\+transform; if true, the function may be able to take advantage of this. The int parameter gives a count of how many times send\+\_\+transform has been called concurrently, starting from 0. \\
\hline
{\em recv\+\_\+transform} & A function that takes a pointer to a buffer and a matrix and applies a transform to the buffer, storing the result in the matrix. The buffer will be data transformed with send\+\_\+transform and received from another rank. The return value is the actual count of the received data (i.\+e. the count that the data was sent using). \\
\hline
{\em recv\+\_\+apply\+\_\+transform} & A function like recv\+\_\+transform except that the transformed data should be combined (applied, reduced) with the current data in the matrix argument. A boolean parameter indicates that no\+\_\+local\+\_\+trans was true and the data was not transformed. \\
\hline
{\em options} & Various allreduce options. \\
\hline
\end{DoxyParams}


Definition at line 325 of file comm.\+cpp.


\begin{DoxyCode}
330                                           \{
331   \textcolor{comment}{// Determine which algorithm to actually use.}
332   \hyperlink{classlbann_1_1lbann__comm_a02a03227cc27e3516f0d9f9812f32019}{lbann\_comm::allreduce\_algorithm} algo = opts.algo;
333   \textcolor{keywordflow}{if} (algo == \hyperlink{classlbann_1_1lbann__comm_a02a03227cc27e3516f0d9f9812f32019a5b39c8b553c821e7cddc6da64b5bd2ee}{allreduce\_algorithm::DEFAULT}) \{
334     algo = \hyperlink{classlbann_1_1lbann__comm_aafcb505629dd550ebd0b2c41792aca27}{get\_default\_allreduce\_algorithm}();
335   \}
336   \textcolor{keyword}{const} \textcolor{keywordtype}{int} nprocs = \hyperlink{classlbann_1_1lbann__comm_aeb8ef8f13bbb324e3e1f656998198f3f}{get\_num\_models}();
337   \textcolor{keyword}{const} El::Int small\_message\_threshold = 64*64;
338   \textcolor{keywordflow}{if} (algo == \hyperlink{classlbann_1_1lbann__comm_a02a03227cc27e3516f0d9f9812f32019a0fcc90da4811c877ba9f9c12f7d60bc9}{allreduce\_algorithm::DYNAMIC}) \{
339     \textcolor{comment}{// For small messages and power-of-2 number of processes, use RD.}
340     \textcolor{keywordflow}{if} (!(nprocs & (nprocs - 1)) &&
341         mat.Height() * mat.Width() <= small\_message\_threshold) \{
342       algo = \hyperlink{classlbann_1_1lbann__comm_a02a03227cc27e3516f0d9f9812f32019a5a99a7b378e450d9e91b10b1f0085274}{allreduce\_algorithm::RECURSIVE\_DOUBLING};
343     \} \textcolor{keywordflow}{else} \{
344       algo = \hyperlink{classlbann_1_1lbann__comm_a02a03227cc27e3516f0d9f9812f32019ae97d669b6498b36d1ce07b3d2c544fee}{allreduce\_algorithm::PAIRWISE\_EXCHANGE\_RING};
345     \}
346   \}
347   \textcolor{keywordflow}{switch} (algo) \{
348   \textcolor{keywordflow}{case} \hyperlink{classlbann_1_1lbann__comm_a02a03227cc27e3516f0d9f9812f32019a5a99a7b378e450d9e91b10b1f0085274}{allreduce\_algorithm::RECURSIVE\_DOUBLING}:
349     \hyperlink{classlbann_1_1lbann__comm_a99bc2f8128f0b0e2ebdf876a3a343635}{recursive\_doubling\_allreduce\_pow2}(
350       \hyperlink{classlbann_1_1lbann__comm_a2c51c5d8faf4f0ab4f43b892c55e597b}{intermodel\_comm}, mat, max\_recv\_count,
351       send\_transform, recv\_apply\_transform, opts);
352     \textcolor{keywordflow}{break};
353   \textcolor{keywordflow}{case} \hyperlink{classlbann_1_1lbann__comm_a02a03227cc27e3516f0d9f9812f32019ae97d669b6498b36d1ce07b3d2c544fee}{allreduce\_algorithm::PAIRWISE\_EXCHANGE\_RING}:
354     \hyperlink{classlbann_1_1lbann__comm_ac294fe5fa47f283aba31fa1abfa99438}{pe\_ring\_allreduce}(
355       \hyperlink{classlbann_1_1lbann__comm_a2c51c5d8faf4f0ab4f43b892c55e597b}{intermodel\_comm}, mat, max\_recv\_count, send\_transform,
356       recv\_transform, recv\_apply\_transform, opts);
357     \textcolor{keywordflow}{break};
358   \textcolor{keywordflow}{case} \hyperlink{classlbann_1_1lbann__comm_a02a03227cc27e3516f0d9f9812f32019ae69b8a2544417fb71e2767e95d7ac8f3}{allreduce\_algorithm::RING}:
359     \hyperlink{classlbann_1_1lbann__comm_a88162511dc2733dccd9c245e6c7ba53b}{ring\_allreduce}(
360       \hyperlink{classlbann_1_1lbann__comm_a2c51c5d8faf4f0ab4f43b892c55e597b}{intermodel\_comm}, mat, max\_recv\_count, send\_transform,
361       recv\_transform, recv\_apply\_transform, opts);
362     \textcolor{keywordflow}{break};
363   \textcolor{keywordflow}{case} \hyperlink{classlbann_1_1lbann__comm_a02a03227cc27e3516f0d9f9812f32019aecfb3869b05d9c2103f98c386a9e8a41}{allreduce\_algorithm::RABENSEIFNER}:
364     \hyperlink{classlbann_1_1lbann__comm_a925fcf1c15cb8ff10daed1dc1faed9ac}{rabenseifner\_allreduce}(
365       \hyperlink{classlbann_1_1lbann__comm_a2c51c5d8faf4f0ab4f43b892c55e597b}{intermodel\_comm}, mat, max\_recv\_count, send\_transform,
366       recv\_transform, recv\_apply\_transform, opts);
367     \textcolor{keywordflow}{break};
368   \textcolor{keywordflow}{case} \hyperlink{classlbann_1_1lbann__comm_a02a03227cc27e3516f0d9f9812f32019a5b39c8b553c821e7cddc6da64b5bd2ee}{allreduce\_algorithm::DEFAULT}:
369   \textcolor{keywordflow}{case} \hyperlink{classlbann_1_1lbann__comm_a02a03227cc27e3516f0d9f9812f32019a0fcc90da4811c877ba9f9c12f7d60bc9}{allreduce\_algorithm::DYNAMIC}:
370   \textcolor{keywordflow}{default}:
371     \textcolor{keywordflow}{throw} lbann\_exception(\textcolor{stringliteral}{"intermodel\_allreduce: bad algorithm"});
372     \textcolor{keywordflow}{break};
373   \}
374 \}
\end{DoxyCode}
Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classlbann_1_1lbann__comm_a34d5414f1ac4749e6f0937b638bb5cc6_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classlbann_1_1lbann__comm_a5834e95e066313d9328b22e4a0ec8663}\label{classlbann_1_1lbann__comm_a5834e95e066313d9328b22e4a0ec8663}} 
\index{lbann\+::lbann\+\_\+comm@{lbann\+::lbann\+\_\+comm}!intermodel\+\_\+barrier@{intermodel\+\_\+barrier}}
\index{intermodel\+\_\+barrier@{intermodel\+\_\+barrier}!lbann\+::lbann\+\_\+comm@{lbann\+::lbann\+\_\+comm}}
\subsubsection{\texorpdfstring{intermodel\+\_\+barrier()}{intermodel\_barrier()}}
{\footnotesize\ttfamily void lbann\+::lbann\+\_\+comm\+::intermodel\+\_\+barrier (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}

Barrier among the inter-\/model processes. 

Definition at line 253 of file comm.\+cpp.


\begin{DoxyCode}
253                                     \{
254   ++\hyperlink{classlbann_1_1lbann__comm_a03d946ef5ea5d3b15351e78a2eed10fe}{num\_intermodel\_barriers};
255   \hyperlink{classlbann_1_1lbann__comm_a303c02c5a127f3ed21f12c9a71cc90a6}{barrier}(\hyperlink{classlbann_1_1lbann__comm_a2c51c5d8faf4f0ab4f43b892c55e597b}{intermodel\_comm});
256 \}
\end{DoxyCode}
Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=334pt]{classlbann_1_1lbann__comm_a5834e95e066313d9328b22e4a0ec8663_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classlbann_1_1lbann__comm_a158db6a85549d314be56806dcb442432}\label{classlbann_1_1lbann__comm_a158db6a85549d314be56806dcb442432}} 
\index{lbann\+::lbann\+\_\+comm@{lbann\+::lbann\+\_\+comm}!intermodel\+\_\+broadcast@{intermodel\+\_\+broadcast}}
\index{intermodel\+\_\+broadcast@{intermodel\+\_\+broadcast}!lbann\+::lbann\+\_\+comm@{lbann\+::lbann\+\_\+comm}}
\subsubsection{\texorpdfstring{intermodel\+\_\+broadcast()}{intermodel\_broadcast()}}
{\footnotesize\ttfamily template$<$typename T $>$ \\
T lbann\+::lbann\+\_\+comm\+::intermodel\+\_\+broadcast (\begin{DoxyParamCaption}\item[{int}]{root,  }\item[{T}]{val = {\ttfamily \{\}} }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}

Inter-\/model broadcast, returns the broadcast value. Root process specifies root and val, other processes just root. 

Definition at line 201 of file comm.\+hpp.


\begin{DoxyCode}
201                                            \{\}) \{
202     El::mpi::Broadcast(&val, 1, root, \hyperlink{classlbann_1_1lbann__comm_a2c51c5d8faf4f0ab4f43b892c55e597b}{intermodel\_comm});
203     \textcolor{keywordflow}{if} (\hyperlink{classlbann_1_1lbann__comm_a789453454468a3b70de768537c50ca52}{get\_rank\_in\_model}() == root) \{
204       \hyperlink{classlbann_1_1lbann__comm_ad1f146ae7337ece6266fd307944928e0}{bytes\_sent} += \textcolor{keyword}{sizeof}(T);
205     \} \textcolor{keywordflow}{else} \{
206       \hyperlink{classlbann_1_1lbann__comm_afb99f57f7eafc0695bf28e6c26a8120f}{bytes\_received} += \textcolor{keyword}{sizeof}(T);
207     \}
208     \textcolor{keywordflow}{return} val;
209   \}
\end{DoxyCode}
\mbox{\Hypertarget{classlbann_1_1lbann__comm_a4989229db1ee858c5a2170a989653d0b}\label{classlbann_1_1lbann__comm_a4989229db1ee858c5a2170a989653d0b}} 
\index{lbann\+::lbann\+\_\+comm@{lbann\+::lbann\+\_\+comm}!intermodel\+\_\+broadcast\+\_\+matrix@{intermodel\+\_\+broadcast\+\_\+matrix}}
\index{intermodel\+\_\+broadcast\+\_\+matrix@{intermodel\+\_\+broadcast\+\_\+matrix}!lbann\+::lbann\+\_\+comm@{lbann\+::lbann\+\_\+comm}}
\subsubsection{\texorpdfstring{intermodel\+\_\+broadcast\+\_\+matrix()}{intermodel\_broadcast\_matrix()}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily void lbann\+::lbann\+\_\+comm\+::intermodel\+\_\+broadcast\+\_\+matrix (\begin{DoxyParamCaption}\item[{\hyperlink{base_8hpp_a68f11fdc31b62516cb310831bbe54d73}{Mat} \&}]{mat,  }\item[{int}]{root }\end{DoxyParamCaption})}

Broadcast mat over the inter-\/model communicator starting from root. 

Definition at line 245 of file comm.\+cpp.


\begin{DoxyCode}
245                                                                \{
246   El::Broadcast(mat, \hyperlink{classlbann_1_1lbann__comm_a2c51c5d8faf4f0ab4f43b892c55e597b}{intermodel\_comm}, root);
247 \}
\end{DoxyCode}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classlbann_1_1lbann__comm_a4989229db1ee858c5a2170a989653d0b_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classlbann_1_1lbann__comm_a7fb6be066a634169cb41cef3f98032f0}\label{classlbann_1_1lbann__comm_a7fb6be066a634169cb41cef3f98032f0}} 
\index{lbann\+::lbann\+\_\+comm@{lbann\+::lbann\+\_\+comm}!intermodel\+\_\+broadcast\+\_\+matrix@{intermodel\+\_\+broadcast\+\_\+matrix}}
\index{intermodel\+\_\+broadcast\+\_\+matrix@{intermodel\+\_\+broadcast\+\_\+matrix}!lbann\+::lbann\+\_\+comm@{lbann\+::lbann\+\_\+comm}}
\subsubsection{\texorpdfstring{intermodel\+\_\+broadcast\+\_\+matrix()}{intermodel\_broadcast\_matrix()}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily void lbann\+::lbann\+\_\+comm\+::intermodel\+\_\+broadcast\+\_\+matrix (\begin{DoxyParamCaption}\item[{\hyperlink{base_8hpp_a9a697a504ae84010e7439ffec862b470}{Abs\+Dist\+Mat} \&}]{mat,  }\item[{int}]{root }\end{DoxyParamCaption})}



Definition at line 249 of file comm.\+cpp.


\begin{DoxyCode}
249                                                                       \{
250   El::Broadcast(mat, \hyperlink{classlbann_1_1lbann__comm_a2c51c5d8faf4f0ab4f43b892c55e597b}{intermodel\_comm}, root);
251 \}
\end{DoxyCode}
\mbox{\Hypertarget{classlbann_1_1lbann__comm_a142c396a4d4a2c16ee234b813e7e45a6}\label{classlbann_1_1lbann__comm_a142c396a4d4a2c16ee234b813e7e45a6}} 
\index{lbann\+::lbann\+\_\+comm@{lbann\+::lbann\+\_\+comm}!intermodel\+\_\+gather@{intermodel\+\_\+gather}}
\index{intermodel\+\_\+gather@{intermodel\+\_\+gather}!lbann\+::lbann\+\_\+comm@{lbann\+::lbann\+\_\+comm}}
\subsubsection{\texorpdfstring{intermodel\+\_\+gather()}{intermodel\_gather()}\hspace{0.1cm}{\footnotesize\ttfamily [1/4]}}
{\footnotesize\ttfamily template$<$typename T $>$ \\
void lbann\+::lbann\+\_\+comm\+::intermodel\+\_\+gather (\begin{DoxyParamCaption}\item[{T}]{snd,  }\item[{int}]{root }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}

Inter-\/model gather (for non-\/root processes). 

Definition at line 283 of file comm.\+hpp.


\begin{DoxyCode}
283                                           \{
284     \hyperlink{classlbann_1_1lbann__comm_aa784298e6ed0f9f01a20b179d5110df9}{gather}(snd, root, \hyperlink{classlbann_1_1lbann__comm_a2c51c5d8faf4f0ab4f43b892c55e597b}{intermodel\_comm});
285   \}
\end{DoxyCode}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classlbann_1_1lbann__comm_a142c396a4d4a2c16ee234b813e7e45a6_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classlbann_1_1lbann__comm_aafaadde82ce60f467b5dcf014dc78481}\label{classlbann_1_1lbann__comm_aafaadde82ce60f467b5dcf014dc78481}} 
\index{lbann\+::lbann\+\_\+comm@{lbann\+::lbann\+\_\+comm}!intermodel\+\_\+gather@{intermodel\+\_\+gather}}
\index{intermodel\+\_\+gather@{intermodel\+\_\+gather}!lbann\+::lbann\+\_\+comm@{lbann\+::lbann\+\_\+comm}}
\subsubsection{\texorpdfstring{intermodel\+\_\+gather()}{intermodel\_gather()}\hspace{0.1cm}{\footnotesize\ttfamily [2/4]}}
{\footnotesize\ttfamily template$<$typename T $>$ \\
void lbann\+::lbann\+\_\+comm\+::intermodel\+\_\+gather (\begin{DoxyParamCaption}\item[{T}]{snd,  }\item[{std\+::vector$<$ T $>$ \&}]{rcv }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}

Inter-\/model gather (for root processes). 

Definition at line 288 of file comm.\+hpp.


\begin{DoxyCode}
288                                                    \{
289     \hyperlink{classlbann_1_1lbann__comm_aa784298e6ed0f9f01a20b179d5110df9}{gather}(snd, rcv, \hyperlink{classlbann_1_1lbann__comm_a2c51c5d8faf4f0ab4f43b892c55e597b}{intermodel\_comm});
290   \}
\end{DoxyCode}
\mbox{\Hypertarget{classlbann_1_1lbann__comm_a3fe4457945fb78769a69ac7f86e4bc11}\label{classlbann_1_1lbann__comm_a3fe4457945fb78769a69ac7f86e4bc11}} 
\index{lbann\+::lbann\+\_\+comm@{lbann\+::lbann\+\_\+comm}!intermodel\+\_\+gather@{intermodel\+\_\+gather}}
\index{intermodel\+\_\+gather@{intermodel\+\_\+gather}!lbann\+::lbann\+\_\+comm@{lbann\+::lbann\+\_\+comm}}
\subsubsection{\texorpdfstring{intermodel\+\_\+gather()}{intermodel\_gather()}\hspace{0.1cm}{\footnotesize\ttfamily [3/4]}}
{\footnotesize\ttfamily template$<$typename T $>$ \\
void lbann\+::lbann\+\_\+comm\+::intermodel\+\_\+gather (\begin{DoxyParamCaption}\item[{T $\ast$}]{snd,  }\item[{int}]{count,  }\item[{int}]{root }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}

Inter-\/model scalar-\/array gather (for non-\/root processes). 

Definition at line 293 of file comm.\+hpp.


\begin{DoxyCode}
293                                                       \{
294     \hyperlink{classlbann_1_1lbann__comm_aa784298e6ed0f9f01a20b179d5110df9}{gather}(snd, count, root, \hyperlink{classlbann_1_1lbann__comm_a2c51c5d8faf4f0ab4f43b892c55e597b}{intermodel\_comm});
295   \}
\end{DoxyCode}
\mbox{\Hypertarget{classlbann_1_1lbann__comm_a954d59f6574884b9a6c7d5228e9460d4}\label{classlbann_1_1lbann__comm_a954d59f6574884b9a6c7d5228e9460d4}} 
\index{lbann\+::lbann\+\_\+comm@{lbann\+::lbann\+\_\+comm}!intermodel\+\_\+gather@{intermodel\+\_\+gather}}
\index{intermodel\+\_\+gather@{intermodel\+\_\+gather}!lbann\+::lbann\+\_\+comm@{lbann\+::lbann\+\_\+comm}}
\subsubsection{\texorpdfstring{intermodel\+\_\+gather()}{intermodel\_gather()}\hspace{0.1cm}{\footnotesize\ttfamily [4/4]}}
{\footnotesize\ttfamily template$<$typename T $>$ \\
void lbann\+::lbann\+\_\+comm\+::intermodel\+\_\+gather (\begin{DoxyParamCaption}\item[{T $\ast$}]{snd,  }\item[{int}]{count,  }\item[{T $\ast$}]{rcv }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}

Inter-\/model scalar-\/array gather (for root processes). 

Definition at line 298 of file comm.\+hpp.


\begin{DoxyCode}
298                                                     \{
299     \hyperlink{classlbann_1_1lbann__comm_aa784298e6ed0f9f01a20b179d5110df9}{gather}(snd, count, rcv, \hyperlink{classlbann_1_1lbann__comm_a2c51c5d8faf4f0ab4f43b892c55e597b}{intermodel\_comm});
300   \}
\end{DoxyCode}
\mbox{\Hypertarget{classlbann_1_1lbann__comm_a485715aa8e0e05d9ced78346342692a5}\label{classlbann_1_1lbann__comm_a485715aa8e0e05d9ced78346342692a5}} 
\index{lbann\+::lbann\+\_\+comm@{lbann\+::lbann\+\_\+comm}!intermodel\+\_\+reduce@{intermodel\+\_\+reduce}}
\index{intermodel\+\_\+reduce@{intermodel\+\_\+reduce}!lbann\+::lbann\+\_\+comm@{lbann\+::lbann\+\_\+comm}}
\subsubsection{\texorpdfstring{intermodel\+\_\+reduce()}{intermodel\_reduce()}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily template$<$typename T $>$ \\
void lbann\+::lbann\+\_\+comm\+::intermodel\+\_\+reduce (\begin{DoxyParamCaption}\item[{T}]{snd,  }\item[{int}]{root,  }\item[{El\+::mpi\+::\+Op}]{op = {\ttfamily El\+:\+:mpi\+:\+:SUM} }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}

Inter-\/model reduce (for non-\/root processes). 

Definition at line 348 of file comm.\+hpp.


\begin{DoxyCode}
348                                                                  \{
349     \hyperlink{classlbann_1_1lbann__comm_ab8a2261394c978aa7e4b74ecebc739a8}{reduce}(snd, root, \hyperlink{classlbann_1_1lbann__comm_a2c51c5d8faf4f0ab4f43b892c55e597b}{intermodel\_comm}, op);
350   \}
\end{DoxyCode}
\mbox{\Hypertarget{classlbann_1_1lbann__comm_a4861b03da73bbc8fec61a10ebf129ee0}\label{classlbann_1_1lbann__comm_a4861b03da73bbc8fec61a10ebf129ee0}} 
\index{lbann\+::lbann\+\_\+comm@{lbann\+::lbann\+\_\+comm}!intermodel\+\_\+reduce@{intermodel\+\_\+reduce}}
\index{intermodel\+\_\+reduce@{intermodel\+\_\+reduce}!lbann\+::lbann\+\_\+comm@{lbann\+::lbann\+\_\+comm}}
\subsubsection{\texorpdfstring{intermodel\+\_\+reduce()}{intermodel\_reduce()}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily template$<$typename T $>$ \\
T lbann\+::lbann\+\_\+comm\+::intermodel\+\_\+reduce (\begin{DoxyParamCaption}\item[{T}]{snd,  }\item[{El\+::mpi\+::\+Op}]{op = {\ttfamily El\+:\+:mpi\+:\+:SUM} }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}

Inter-\/model reduce (for root processes). 

Definition at line 353 of file comm.\+hpp.


\begin{DoxyCode}
353                                                     \{
354     \textcolor{keywordflow}{return} \hyperlink{classlbann_1_1lbann__comm_ab8a2261394c978aa7e4b74ecebc739a8}{reduce}(snd, \hyperlink{classlbann_1_1lbann__comm_a2c51c5d8faf4f0ab4f43b892c55e597b}{intermodel\_comm}, op);
355   \}
\end{DoxyCode}
\mbox{\Hypertarget{classlbann_1_1lbann__comm_a68b36ba64db34f33cb135bc64c4623e0}\label{classlbann_1_1lbann__comm_a68b36ba64db34f33cb135bc64c4623e0}} 
\index{lbann\+::lbann\+\_\+comm@{lbann\+::lbann\+\_\+comm}!intermodel\+\_\+sum\+\_\+matrix@{intermodel\+\_\+sum\+\_\+matrix}}
\index{intermodel\+\_\+sum\+\_\+matrix@{intermodel\+\_\+sum\+\_\+matrix}!lbann\+::lbann\+\_\+comm@{lbann\+::lbann\+\_\+comm}}
\subsubsection{\texorpdfstring{intermodel\+\_\+sum\+\_\+matrix()}{intermodel\_sum\_matrix()}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily void lbann\+::lbann\+\_\+comm\+::intermodel\+\_\+sum\+\_\+matrix (\begin{DoxyParamCaption}\item[{\hyperlink{base_8hpp_a68f11fdc31b62516cb310831bbe54d73}{Mat} \&}]{mat }\end{DoxyParamCaption})}

Perform a sum reduction of mat over the inter-\/model communicator. 

Definition at line 132 of file comm.\+cpp.


\begin{DoxyCode}
132                                                \{
133   \hyperlink{classlbann_1_1lbann__comm_ad1f146ae7337ece6266fd307944928e0}{bytes\_sent} += \textcolor{keyword}{sizeof}(DataType) * mat.Height() * mat.Width();
134   El::AllReduce(mat, \hyperlink{classlbann_1_1lbann__comm_a2c51c5d8faf4f0ab4f43b892c55e597b}{intermodel\_comm}, El::mpi::SUM);
135   \hyperlink{classlbann_1_1lbann__comm_afb99f57f7eafc0695bf28e6c26a8120f}{bytes\_received} += \textcolor{keyword}{sizeof}(DataType) * mat.Height() * mat.Width();
136 \}
\end{DoxyCode}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classlbann_1_1lbann__comm_a68b36ba64db34f33cb135bc64c4623e0_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classlbann_1_1lbann__comm_a55edcd98bf4903235ed11eb7c96f5eb4}\label{classlbann_1_1lbann__comm_a55edcd98bf4903235ed11eb7c96f5eb4}} 
\index{lbann\+::lbann\+\_\+comm@{lbann\+::lbann\+\_\+comm}!intermodel\+\_\+sum\+\_\+matrix@{intermodel\+\_\+sum\+\_\+matrix}}
\index{intermodel\+\_\+sum\+\_\+matrix@{intermodel\+\_\+sum\+\_\+matrix}!lbann\+::lbann\+\_\+comm@{lbann\+::lbann\+\_\+comm}}
\subsubsection{\texorpdfstring{intermodel\+\_\+sum\+\_\+matrix()}{intermodel\_sum\_matrix()}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily void lbann\+::lbann\+\_\+comm\+::intermodel\+\_\+sum\+\_\+matrix (\begin{DoxyParamCaption}\item[{\hyperlink{base_8hpp_a9a697a504ae84010e7439ffec862b470}{Abs\+Dist\+Mat} \&}]{mat }\end{DoxyParamCaption})}



Definition at line 138 of file comm.\+cpp.


\begin{DoxyCode}
138                                                       \{
139   \hyperlink{classlbann_1_1lbann__comm_af5631e5f0f54e4df4958eba9df2599ef}{allreduce}(mat, \hyperlink{classlbann_1_1lbann__comm_a2c51c5d8faf4f0ab4f43b892c55e597b}{intermodel\_comm}, El::mpi::SUM);
140 \}
\end{DoxyCode}
Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=345pt]{classlbann_1_1lbann__comm_a55edcd98bf4903235ed11eb7c96f5eb4_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classlbann_1_1lbann__comm_a5cdd318d1505ba0f31bf4fe9fadffacc}\label{classlbann_1_1lbann__comm_a5cdd318d1505ba0f31bf4fe9fadffacc}} 
\index{lbann\+::lbann\+\_\+comm@{lbann\+::lbann\+\_\+comm}!is\+\_\+rank\+\_\+node\+\_\+local@{is\+\_\+rank\+\_\+node\+\_\+local}}
\index{is\+\_\+rank\+\_\+node\+\_\+local@{is\+\_\+rank\+\_\+node\+\_\+local}!lbann\+::lbann\+\_\+comm@{lbann\+::lbann\+\_\+comm}}
\subsubsection{\texorpdfstring{is\+\_\+rank\+\_\+node\+\_\+local()}{is\_rank\_node\_local()}}
{\footnotesize\ttfamily bool lbann\+::lbann\+\_\+comm\+::is\+\_\+rank\+\_\+node\+\_\+local (\begin{DoxyParamCaption}\item[{int}]{rank,  }\item[{const El\+::mpi\+::\+Comm}]{comm }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}

Return true if rank (in comm) is on the local node. 

Definition at line 896 of file comm.\+hpp.


\begin{DoxyCode}
896                                                                 \{
897     \textcolor{comment}{// Translating to COMM\_WORLD is typically constant time.}
898     \textcolor{keywordtype}{int} world\_rank = El::mpi::Translate(\hyperlink{file__io_8cpp_ab048c6f9fcbcfaa57ce68b00263dbebe}{comm}, rank, \hyperlink{classlbann_1_1lbann__comm_a0493f1f0c42b95674daacf5288fdb073}{get\_world\_comm}());
899     \textcolor{keywordflow}{return} \hyperlink{classlbann_1_1lbann__comm_a17ef6771432c3e91cd7d404d182ed531}{is\_world\_rank\_on\_node}(world\_rank);
900   \}
\end{DoxyCode}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classlbann_1_1lbann__comm_a5cdd318d1505ba0f31bf4fe9fadffacc_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classlbann_1_1lbann__comm_a4ba1b9a6b4eb986a348d85c2d80ca3eb}\label{classlbann_1_1lbann__comm_a4ba1b9a6b4eb986a348d85c2d80ca3eb}} 
\index{lbann\+::lbann\+\_\+comm@{lbann\+::lbann\+\_\+comm}!is\+\_\+sendable@{is\+\_\+sendable}}
\index{is\+\_\+sendable@{is\+\_\+sendable}!lbann\+::lbann\+\_\+comm@{lbann\+::lbann\+\_\+comm}}
\subsubsection{\texorpdfstring{is\+\_\+sendable()}{is\_sendable()}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily static bool lbann\+::lbann\+\_\+comm\+::is\+\_\+sendable (\begin{DoxyParamCaption}\item[{const \hyperlink{base_8hpp_a68f11fdc31b62516cb310831bbe54d73}{Mat} \&}]{mat }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [static]}}

Return true if mat can be transmitted. 

Definition at line 750 of file comm.\+hpp.


\begin{DoxyCode}
750                                                  \{
751     \textcolor{comment}{// This assumes we do not transmit mat with a datatype smaller than}
752     \textcolor{comment}{// DataType.}
753     \textcolor{comment}{// MPI uses "int" as its count type; do calculations with larger ints.}
754     \textcolor{keywordtype}{size\_t} count = (size\_t) mat.Height() * (size\_t) mat.Width();
755     \textcolor{keywordflow}{return} count <= (size\_t) std::numeric\_limits<int>::max();
756   \}
\end{DoxyCode}
\mbox{\Hypertarget{classlbann_1_1lbann__comm_ac6addefb7577f81fbc90da94d26991e4}\label{classlbann_1_1lbann__comm_ac6addefb7577f81fbc90da94d26991e4}} 
\index{lbann\+::lbann\+\_\+comm@{lbann\+::lbann\+\_\+comm}!is\+\_\+sendable@{is\+\_\+sendable}}
\index{is\+\_\+sendable@{is\+\_\+sendable}!lbann\+::lbann\+\_\+comm@{lbann\+::lbann\+\_\+comm}}
\subsubsection{\texorpdfstring{is\+\_\+sendable()}{is\_sendable()}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily static bool lbann\+::lbann\+\_\+comm\+::is\+\_\+sendable (\begin{DoxyParamCaption}\item[{const \hyperlink{base_8hpp_a9a697a504ae84010e7439ffec862b470}{Abs\+Dist\+Mat} \&}]{dist\+\_\+mat }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [static]}}

Return true if the local portion of dist\+\_\+mat can be transmitted. 

Definition at line 758 of file comm.\+hpp.


\begin{DoxyCode}
758                                                              \{
759     \textcolor{keywordflow}{return} \hyperlink{classlbann_1_1lbann__comm_a4ba1b9a6b4eb986a348d85c2d80ca3eb}{is\_sendable}(dist\_mat.LockedMatrix());
760   \}
\end{DoxyCode}
\mbox{\Hypertarget{classlbann_1_1lbann__comm_a17ef6771432c3e91cd7d404d182ed531}\label{classlbann_1_1lbann__comm_a17ef6771432c3e91cd7d404d182ed531}} 
\index{lbann\+::lbann\+\_\+comm@{lbann\+::lbann\+\_\+comm}!is\+\_\+world\+\_\+rank\+\_\+on\+\_\+node@{is\+\_\+world\+\_\+rank\+\_\+on\+\_\+node}}
\index{is\+\_\+world\+\_\+rank\+\_\+on\+\_\+node@{is\+\_\+world\+\_\+rank\+\_\+on\+\_\+node}!lbann\+::lbann\+\_\+comm@{lbann\+::lbann\+\_\+comm}}
\subsubsection{\texorpdfstring{is\+\_\+world\+\_\+rank\+\_\+on\+\_\+node()}{is\_world\_rank\_on\_node()}}
{\footnotesize\ttfamily bool lbann\+::lbann\+\_\+comm\+::is\+\_\+world\+\_\+rank\+\_\+on\+\_\+node (\begin{DoxyParamCaption}\item[{int}]{rank }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}

Return true if rank (in C\+O\+M\+M\+\_\+\+W\+O\+R\+LD) is on this compute node. 

Definition at line 172 of file comm.\+hpp.


\begin{DoxyCode}
172                                                     \{
173     \textcolor{keywordflow}{return} std::find(\hyperlink{classlbann_1_1lbann__comm_a3299a37fe7b0eae43a5c154148ab6dc2}{world\_ranks\_on\_node}.begin(),
174                      \hyperlink{classlbann_1_1lbann__comm_a3299a37fe7b0eae43a5c154148ab6dc2}{world\_ranks\_on\_node}.end(),
175                      rank) != \hyperlink{classlbann_1_1lbann__comm_a3299a37fe7b0eae43a5c154148ab6dc2}{world\_ranks\_on\_node}.end();
176   \}
\end{DoxyCode}
\mbox{\Hypertarget{classlbann_1_1lbann__comm_aebb6290d1b618eace302404291c598a5}\label{classlbann_1_1lbann__comm_aebb6290d1b618eace302404291c598a5}} 
\index{lbann\+::lbann\+\_\+comm@{lbann\+::lbann\+\_\+comm}!model\+\_\+allreduce@{model\+\_\+allreduce}}
\index{model\+\_\+allreduce@{model\+\_\+allreduce}!lbann\+::lbann\+\_\+comm@{lbann\+::lbann\+\_\+comm}}
\subsubsection{\texorpdfstring{model\+\_\+allreduce()}{model\_allreduce()}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily template$<$typename T $>$ \\
T lbann\+::lbann\+\_\+comm\+::model\+\_\+allreduce (\begin{DoxyParamCaption}\item[{T}]{snd,  }\item[{El\+::mpi\+::\+Op}]{op = {\ttfamily El\+:\+:mpi\+:\+:SUM} }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}

Within-\/model all-\/reduce. 

Definition at line 409 of file comm.\+hpp.


\begin{DoxyCode}
409                                                   \{
410     \textcolor{keywordflow}{return} \hyperlink{classlbann_1_1lbann__comm_af5631e5f0f54e4df4958eba9df2599ef}{allreduce}(snd, \hyperlink{classlbann_1_1lbann__comm_a58a75b76bd61ec8a26c1cbbec3dc2f45}{model\_comm}, op);
411   \}
\end{DoxyCode}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classlbann_1_1lbann__comm_aebb6290d1b618eace302404291c598a5_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classlbann_1_1lbann__comm_a6dce8c5dd188633e69e9d5c79e5ef1bd}\label{classlbann_1_1lbann__comm_a6dce8c5dd188633e69e9d5c79e5ef1bd}} 
\index{lbann\+::lbann\+\_\+comm@{lbann\+::lbann\+\_\+comm}!model\+\_\+allreduce@{model\+\_\+allreduce}}
\index{model\+\_\+allreduce@{model\+\_\+allreduce}!lbann\+::lbann\+\_\+comm@{lbann\+::lbann\+\_\+comm}}
\subsubsection{\texorpdfstring{model\+\_\+allreduce()}{model\_allreduce()}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily template$<$typename T $>$ \\
void lbann\+::lbann\+\_\+comm\+::model\+\_\+allreduce (\begin{DoxyParamCaption}\item[{T $\ast$}]{snd,  }\item[{int}]{count,  }\item[{T $\ast$}]{rcv,  }\item[{El\+::mpi\+::\+Op}]{op = {\ttfamily El\+:\+:mpi\+:\+:SUM} }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}

Scalar array within-\/model all-\/reduce. 

Definition at line 414 of file comm.\+hpp.


\begin{DoxyCode}
414                                                                          \{
415     \hyperlink{classlbann_1_1lbann__comm_af5631e5f0f54e4df4958eba9df2599ef}{allreduce}(snd, count, rcv, \hyperlink{classlbann_1_1lbann__comm_a58a75b76bd61ec8a26c1cbbec3dc2f45}{model\_comm}, op);
416   \}
\end{DoxyCode}
\mbox{\Hypertarget{classlbann_1_1lbann__comm_a6086ced12c3eefeea6e2a78eff286983}\label{classlbann_1_1lbann__comm_a6086ced12c3eefeea6e2a78eff286983}} 
\index{lbann\+::lbann\+\_\+comm@{lbann\+::lbann\+\_\+comm}!model\+\_\+barrier@{model\+\_\+barrier}}
\index{model\+\_\+barrier@{model\+\_\+barrier}!lbann\+::lbann\+\_\+comm@{lbann\+::lbann\+\_\+comm}}
\subsubsection{\texorpdfstring{model\+\_\+barrier()}{model\_barrier()}}
{\footnotesize\ttfamily void lbann\+::lbann\+\_\+comm\+::model\+\_\+barrier (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}

Barrier among processes in this model. 

Definition at line 258 of file comm.\+cpp.


\begin{DoxyCode}
258                                \{
259   ++\hyperlink{classlbann_1_1lbann__comm_aa4f15459eca2a06174a877ba0c23feb7}{num\_model\_barriers};
260   \hyperlink{classlbann_1_1lbann__comm_a303c02c5a127f3ed21f12c9a71cc90a6}{barrier}(\hyperlink{classlbann_1_1lbann__comm_a58a75b76bd61ec8a26c1cbbec3dc2f45}{model\_comm});
261 \}
\end{DoxyCode}
Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=334pt]{classlbann_1_1lbann__comm_a6086ced12c3eefeea6e2a78eff286983_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classlbann_1_1lbann__comm_a6086ced12c3eefeea6e2a78eff286983_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classlbann_1_1lbann__comm_a929f44a9a9563ae9e4ffe7d44235a195}\label{classlbann_1_1lbann__comm_a929f44a9a9563ae9e4ffe7d44235a195}} 
\index{lbann\+::lbann\+\_\+comm@{lbann\+::lbann\+\_\+comm}!model\+\_\+broadcast@{model\+\_\+broadcast}}
\index{model\+\_\+broadcast@{model\+\_\+broadcast}!lbann\+::lbann\+\_\+comm@{lbann\+::lbann\+\_\+comm}}
\subsubsection{\texorpdfstring{model\+\_\+broadcast()}{model\_broadcast()}}
{\footnotesize\ttfamily template$<$typename T $>$ \\
T lbann\+::lbann\+\_\+comm\+::model\+\_\+broadcast (\begin{DoxyParamCaption}\item[{int}]{root,  }\item[{T}]{val = {\ttfamily \{\}} }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}

Within-\/model broadcast, returns the broadcast value. Root process specifies root and val, other processes just root. 

Definition at line 215 of file comm.\+hpp.


\begin{DoxyCode}
215                                       \{\}) \{
216     El::mpi::Broadcast(&val, 1, root, \hyperlink{classlbann_1_1lbann__comm_a58a75b76bd61ec8a26c1cbbec3dc2f45}{model\_comm});
217     \textcolor{keywordflow}{if} (\hyperlink{classlbann_1_1lbann__comm_a789453454468a3b70de768537c50ca52}{get\_rank\_in\_model}() == root) \{
218       \hyperlink{classlbann_1_1lbann__comm_ad1f146ae7337ece6266fd307944928e0}{bytes\_sent} += \textcolor{keyword}{sizeof}(T);
219     \} \textcolor{keywordflow}{else} \{
220       \hyperlink{classlbann_1_1lbann__comm_afb99f57f7eafc0695bf28e6c26a8120f}{bytes\_received} += \textcolor{keyword}{sizeof}(T);
221     \}
222     \textcolor{keywordflow}{return} val;
223   \}
\end{DoxyCode}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=331pt]{classlbann_1_1lbann__comm_a929f44a9a9563ae9e4ffe7d44235a195_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classlbann_1_1lbann__comm_ab7cdeca37f1fcd22a3b69f6134fb299f}\label{classlbann_1_1lbann__comm_ab7cdeca37f1fcd22a3b69f6134fb299f}} 
\index{lbann\+::lbann\+\_\+comm@{lbann\+::lbann\+\_\+comm}!model\+\_\+gather@{model\+\_\+gather}}
\index{model\+\_\+gather@{model\+\_\+gather}!lbann\+::lbann\+\_\+comm@{lbann\+::lbann\+\_\+comm}}
\subsubsection{\texorpdfstring{model\+\_\+gather()}{model\_gather()}\hspace{0.1cm}{\footnotesize\ttfamily [1/4]}}
{\footnotesize\ttfamily template$<$typename T $>$ \\
void lbann\+::lbann\+\_\+comm\+::model\+\_\+gather (\begin{DoxyParamCaption}\item[{T}]{snd,  }\item[{int}]{root }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}

Within-\/model scalar gather (for non-\/root processes). 

Definition at line 247 of file comm.\+hpp.


\begin{DoxyCode}
247                                      \{
248     \hyperlink{classlbann_1_1lbann__comm_aa784298e6ed0f9f01a20b179d5110df9}{gather}(snd, root, \hyperlink{classlbann_1_1lbann__comm_a58a75b76bd61ec8a26c1cbbec3dc2f45}{model\_comm});
249   \}
\end{DoxyCode}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classlbann_1_1lbann__comm_ab7cdeca37f1fcd22a3b69f6134fb299f_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classlbann_1_1lbann__comm_a54ee25dd95d57c0781ac0aa84d30ab8b}\label{classlbann_1_1lbann__comm_a54ee25dd95d57c0781ac0aa84d30ab8b}} 
\index{lbann\+::lbann\+\_\+comm@{lbann\+::lbann\+\_\+comm}!model\+\_\+gather@{model\+\_\+gather}}
\index{model\+\_\+gather@{model\+\_\+gather}!lbann\+::lbann\+\_\+comm@{lbann\+::lbann\+\_\+comm}}
\subsubsection{\texorpdfstring{model\+\_\+gather()}{model\_gather()}\hspace{0.1cm}{\footnotesize\ttfamily [2/4]}}
{\footnotesize\ttfamily template$<$typename T $>$ \\
void lbann\+::lbann\+\_\+comm\+::model\+\_\+gather (\begin{DoxyParamCaption}\item[{T}]{snd,  }\item[{T $\ast$}]{rcv }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}

Within-\/model scalar gather (for root processes). 

Definition at line 252 of file comm.\+hpp.


\begin{DoxyCode}
252                                    \{
253     \hyperlink{classlbann_1_1lbann__comm_aa784298e6ed0f9f01a20b179d5110df9}{gather}(snd, \hyperlink{classlbann_1_1lbann__comm_a96d8d7a0ff8ee1511f8c8b8fa92628af}{get\_model\_master}(), \hyperlink{classlbann_1_1lbann__comm_a58a75b76bd61ec8a26c1cbbec3dc2f45}{model\_comm});
254   \}
\end{DoxyCode}
\mbox{\Hypertarget{classlbann_1_1lbann__comm_ab3d868497325882372e1a8d9f878cd2f}\label{classlbann_1_1lbann__comm_ab3d868497325882372e1a8d9f878cd2f}} 
\index{lbann\+::lbann\+\_\+comm@{lbann\+::lbann\+\_\+comm}!model\+\_\+gather@{model\+\_\+gather}}
\index{model\+\_\+gather@{model\+\_\+gather}!lbann\+::lbann\+\_\+comm@{lbann\+::lbann\+\_\+comm}}
\subsubsection{\texorpdfstring{model\+\_\+gather()}{model\_gather()}\hspace{0.1cm}{\footnotesize\ttfamily [3/4]}}
{\footnotesize\ttfamily template$<$typename T $>$ \\
void lbann\+::lbann\+\_\+comm\+::model\+\_\+gather (\begin{DoxyParamCaption}\item[{T $\ast$}]{snd,  }\item[{int}]{count,  }\item[{int}]{root }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}

Within-\/model scalar-\/array gather (for non-\/root processes). 

Definition at line 257 of file comm.\+hpp.


\begin{DoxyCode}
257                                                  \{
258     \hyperlink{classlbann_1_1lbann__comm_aa784298e6ed0f9f01a20b179d5110df9}{gather}(snd, count, root, \hyperlink{classlbann_1_1lbann__comm_a58a75b76bd61ec8a26c1cbbec3dc2f45}{model\_comm});
259   \}
\end{DoxyCode}
\mbox{\Hypertarget{classlbann_1_1lbann__comm_adc1c96023f4546d57f0a85e905d070b4}\label{classlbann_1_1lbann__comm_adc1c96023f4546d57f0a85e905d070b4}} 
\index{lbann\+::lbann\+\_\+comm@{lbann\+::lbann\+\_\+comm}!model\+\_\+gather@{model\+\_\+gather}}
\index{model\+\_\+gather@{model\+\_\+gather}!lbann\+::lbann\+\_\+comm@{lbann\+::lbann\+\_\+comm}}
\subsubsection{\texorpdfstring{model\+\_\+gather()}{model\_gather()}\hspace{0.1cm}{\footnotesize\ttfamily [4/4]}}
{\footnotesize\ttfamily template$<$typename T $>$ \\
void lbann\+::lbann\+\_\+comm\+::model\+\_\+gather (\begin{DoxyParamCaption}\item[{T $\ast$}]{snd,  }\item[{int}]{count,  }\item[{T $\ast$}]{rcv }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}

Within-\/model scalar-\/array gather (for root processes). 

Definition at line 262 of file comm.\+hpp.


\begin{DoxyCode}
262                                                \{
263     \hyperlink{classlbann_1_1lbann__comm_aa784298e6ed0f9f01a20b179d5110df9}{gather}(snd, count, rcv, \hyperlink{classlbann_1_1lbann__comm_a58a75b76bd61ec8a26c1cbbec3dc2f45}{model\_comm});
264   \}
\end{DoxyCode}
\mbox{\Hypertarget{classlbann_1_1lbann__comm_a9d4eeae3b7ed19d48e95fc3f7138885b}\label{classlbann_1_1lbann__comm_a9d4eeae3b7ed19d48e95fc3f7138885b}} 
\index{lbann\+::lbann\+\_\+comm@{lbann\+::lbann\+\_\+comm}!model\+\_\+gatherv@{model\+\_\+gatherv}}
\index{model\+\_\+gatherv@{model\+\_\+gatherv}!lbann\+::lbann\+\_\+comm@{lbann\+::lbann\+\_\+comm}}
\subsubsection{\texorpdfstring{model\+\_\+gatherv()}{model\_gatherv()}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily template$<$typename T $>$ \\
void lbann\+::lbann\+\_\+comm\+::model\+\_\+gatherv (\begin{DoxyParamCaption}\item[{T $\ast$}]{snd,  }\item[{int}]{count,  }\item[{int}]{root }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}

Within-\/model variable-\/length-\/array gather (for non-\/root processes). 

Definition at line 267 of file comm.\+hpp.


\begin{DoxyCode}
267                                                   \{
268     \hyperlink{classlbann_1_1lbann__comm_ad1f146ae7337ece6266fd307944928e0}{bytes\_sent} += \textcolor{keyword}{sizeof}(T) * count;
269     El::mpi::Gather(snd, count, (T *) NULL, (\textcolor{keywordtype}{int} *) \textcolor{keyword}{nullptr}, (\textcolor{keywordtype}{int} *) \textcolor{keyword}{nullptr}, root,
270                     \hyperlink{classlbann_1_1lbann__comm_a58a75b76bd61ec8a26c1cbbec3dc2f45}{model\_comm});
271   \}
\end{DoxyCode}
\mbox{\Hypertarget{classlbann_1_1lbann__comm_a2752b91d60548d15320d5808d8c523d2}\label{classlbann_1_1lbann__comm_a2752b91d60548d15320d5808d8c523d2}} 
\index{lbann\+::lbann\+\_\+comm@{lbann\+::lbann\+\_\+comm}!model\+\_\+gatherv@{model\+\_\+gatherv}}
\index{model\+\_\+gatherv@{model\+\_\+gatherv}!lbann\+::lbann\+\_\+comm@{lbann\+::lbann\+\_\+comm}}
\subsubsection{\texorpdfstring{model\+\_\+gatherv()}{model\_gatherv()}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily template$<$typename T $>$ \\
void lbann\+::lbann\+\_\+comm\+::model\+\_\+gatherv (\begin{DoxyParamCaption}\item[{T $\ast$}]{snd,  }\item[{int}]{count,  }\item[{T $\ast$}]{rcv,  }\item[{int $\ast$}]{rcv\+\_\+counts,  }\item[{int $\ast$}]{rcv\+\_\+displacements }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Definition at line 273 of file comm.\+hpp.


\begin{DoxyCode}
274                                              \{
275     El::mpi::Gather(snd, count, rcv, rcv\_counts, rcv\_displacements,
276                     \hyperlink{classlbann_1_1lbann__comm_a789453454468a3b70de768537c50ca52}{get\_rank\_in\_model}(), \hyperlink{classlbann_1_1lbann__comm_a58a75b76bd61ec8a26c1cbbec3dc2f45}{model\_comm});
277     \hyperlink{classlbann_1_1lbann__comm_afb99f57f7eafc0695bf28e6c26a8120f}{bytes\_received} += \textcolor{keyword}{sizeof}(T) *
278       (std::accumulate(rcv\_counts, &rcv\_counts[\hyperlink{classlbann_1_1lbann__comm_a5755dfdfc6377b4cae5ef8f7819e17de}{get\_procs\_per\_model}()], 0) -
279        rcv\_counts[\hyperlink{classlbann_1_1lbann__comm_a789453454468a3b70de768537c50ca52}{get\_rank\_in\_model}()]);
280   \}
\end{DoxyCode}
\mbox{\Hypertarget{classlbann_1_1lbann__comm_a4903dbabf8f649abc2734510d434eed2}\label{classlbann_1_1lbann__comm_a4903dbabf8f649abc2734510d434eed2}} 
\index{lbann\+::lbann\+\_\+comm@{lbann\+::lbann\+\_\+comm}!model\+\_\+reduce@{model\+\_\+reduce}}
\index{model\+\_\+reduce@{model\+\_\+reduce}!lbann\+::lbann\+\_\+comm@{lbann\+::lbann\+\_\+comm}}
\subsubsection{\texorpdfstring{model\+\_\+reduce()}{model\_reduce()}\hspace{0.1cm}{\footnotesize\ttfamily [1/4]}}
{\footnotesize\ttfamily template$<$typename T $>$ \\
void lbann\+::lbann\+\_\+comm\+::model\+\_\+reduce (\begin{DoxyParamCaption}\item[{T}]{snd,  }\item[{int}]{root,  }\item[{El\+::mpi\+::\+Op}]{op = {\ttfamily El\+:\+:mpi\+:\+:SUM} }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}

Within-\/model reduce (for non-\/root processes). 

Definition at line 358 of file comm.\+hpp.


\begin{DoxyCode}
358                                                             \{
359     \hyperlink{classlbann_1_1lbann__comm_ab8a2261394c978aa7e4b74ecebc739a8}{reduce}(snd, root, \hyperlink{classlbann_1_1lbann__comm_a58a75b76bd61ec8a26c1cbbec3dc2f45}{model\_comm}, op);
360   \}
\end{DoxyCode}
\mbox{\Hypertarget{classlbann_1_1lbann__comm_aac992e520cfbfb5f7b403ee6c9334b0e}\label{classlbann_1_1lbann__comm_aac992e520cfbfb5f7b403ee6c9334b0e}} 
\index{lbann\+::lbann\+\_\+comm@{lbann\+::lbann\+\_\+comm}!model\+\_\+reduce@{model\+\_\+reduce}}
\index{model\+\_\+reduce@{model\+\_\+reduce}!lbann\+::lbann\+\_\+comm@{lbann\+::lbann\+\_\+comm}}
\subsubsection{\texorpdfstring{model\+\_\+reduce()}{model\_reduce()}\hspace{0.1cm}{\footnotesize\ttfamily [2/4]}}
{\footnotesize\ttfamily template$<$typename T $>$ \\
T lbann\+::lbann\+\_\+comm\+::model\+\_\+reduce (\begin{DoxyParamCaption}\item[{T}]{snd,  }\item[{El\+::mpi\+::\+Op}]{op = {\ttfamily El\+:\+:mpi\+:\+:SUM} }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}

Within-\/model reduce (for root processes). 

Definition at line 363 of file comm.\+hpp.


\begin{DoxyCode}
363                                                \{
364     \textcolor{keywordflow}{return} \hyperlink{classlbann_1_1lbann__comm_ab8a2261394c978aa7e4b74ecebc739a8}{reduce}(snd, \hyperlink{classlbann_1_1lbann__comm_a58a75b76bd61ec8a26c1cbbec3dc2f45}{model\_comm}, op);
365   \}
\end{DoxyCode}
\mbox{\Hypertarget{classlbann_1_1lbann__comm_aa605a57eb9132fc575e90b1ac825cf0b}\label{classlbann_1_1lbann__comm_aa605a57eb9132fc575e90b1ac825cf0b}} 
\index{lbann\+::lbann\+\_\+comm@{lbann\+::lbann\+\_\+comm}!model\+\_\+reduce@{model\+\_\+reduce}}
\index{model\+\_\+reduce@{model\+\_\+reduce}!lbann\+::lbann\+\_\+comm@{lbann\+::lbann\+\_\+comm}}
\subsubsection{\texorpdfstring{model\+\_\+reduce()}{model\_reduce()}\hspace{0.1cm}{\footnotesize\ttfamily [3/4]}}
{\footnotesize\ttfamily template$<$typename T $>$ \\
void lbann\+::lbann\+\_\+comm\+::model\+\_\+reduce (\begin{DoxyParamCaption}\item[{T $\ast$}]{snd,  }\item[{int}]{count,  }\item[{int}]{root,  }\item[{El\+::mpi\+::\+Op}]{op = {\ttfamily El\+:\+:mpi\+:\+:SUM} }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}

Within-\/model scalar array reduce (for non-\/root processes). 

Definition at line 368 of file comm.\+hpp.


\begin{DoxyCode}
368                                                                         \{
369     \hyperlink{classlbann_1_1lbann__comm_ab8a2261394c978aa7e4b74ecebc739a8}{reduce}(snd, count, root, \hyperlink{classlbann_1_1lbann__comm_a58a75b76bd61ec8a26c1cbbec3dc2f45}{model\_comm}, op);
370   \}
\end{DoxyCode}
\mbox{\Hypertarget{classlbann_1_1lbann__comm_aba37a188f88277b23583aa8bea2e2f04}\label{classlbann_1_1lbann__comm_aba37a188f88277b23583aa8bea2e2f04}} 
\index{lbann\+::lbann\+\_\+comm@{lbann\+::lbann\+\_\+comm}!model\+\_\+reduce@{model\+\_\+reduce}}
\index{model\+\_\+reduce@{model\+\_\+reduce}!lbann\+::lbann\+\_\+comm@{lbann\+::lbann\+\_\+comm}}
\subsubsection{\texorpdfstring{model\+\_\+reduce()}{model\_reduce()}\hspace{0.1cm}{\footnotesize\ttfamily [4/4]}}
{\footnotesize\ttfamily template$<$typename T $>$ \\
void lbann\+::lbann\+\_\+comm\+::model\+\_\+reduce (\begin{DoxyParamCaption}\item[{T $\ast$}]{snd,  }\item[{int}]{count,  }\item[{T $\ast$}]{rcv,  }\item[{El\+::mpi\+::\+Op}]{op = {\ttfamily El\+:\+:mpi\+:\+:SUM} }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}

Within-\/model scalar array reduce (for root processes). 

Definition at line 373 of file comm.\+hpp.


\begin{DoxyCode}
373                                                                       \{
374     \hyperlink{classlbann_1_1lbann__comm_ab8a2261394c978aa7e4b74ecebc739a8}{reduce}(snd, count, rcv, \hyperlink{classlbann_1_1lbann__comm_a58a75b76bd61ec8a26c1cbbec3dc2f45}{model\_comm}, op);
375   \}
\end{DoxyCode}
\mbox{\Hypertarget{classlbann_1_1lbann__comm_a2a7bb6cf3707366fc0671d8894ca30ea}\label{classlbann_1_1lbann__comm_a2a7bb6cf3707366fc0671d8894ca30ea}} 
\index{lbann\+::lbann\+\_\+comm@{lbann\+::lbann\+\_\+comm}!nb\+\_\+allreduce@{nb\+\_\+allreduce}}
\index{nb\+\_\+allreduce@{nb\+\_\+allreduce}!lbann\+::lbann\+\_\+comm@{lbann\+::lbann\+\_\+comm}}
\subsubsection{\texorpdfstring{nb\+\_\+allreduce()}{nb\_allreduce()}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily void lbann\+::lbann\+\_\+comm\+::nb\+\_\+allreduce (\begin{DoxyParamCaption}\item[{\hyperlink{base_8hpp_a9a697a504ae84010e7439ffec862b470}{Abs\+Dist\+Mat} \&}]{m,  }\item[{const El\+::mpi\+::\+Comm}]{c,  }\item[{\hyperlink{structlbann_1_1Al_1_1request}{Al\+::request} \&}]{req,  }\item[{El\+::mpi\+::\+Op}]{op = {\ttfamily El\+:\+:mpi\+:\+:SUM},  }\item[{std\+::type\+\_\+index}]{t = {\ttfamily std\+:\+:type\+\_\+index(typeid(\hyperlink{namespacelbann_1_1Al_a8a69c2fac7e1117883fff1903c2232ce}{Al\+::mpi\+\_\+backend}))} }\end{DoxyParamCaption})}

Non-\/blocking matrix allreduce. If L\+B\+A\+NN has not been built with Aluminum, then this calls a blocking matrix allreduce. 

Definition at line 177 of file comm.\+cpp.


\begin{DoxyCode}
181                                                \{
182 \textcolor{preprocessor}{#ifdef LBANN\_HAS\_ALUMINUM}
183   \textcolor{keyword}{const} \textcolor{keywordtype}{int} local\_size = m.LocalHeight() * m.LocalWidth();
184   \hyperlink{classlbann_1_1lbann__comm_ad1f146ae7337ece6266fd307944928e0}{bytes\_sent} += \textcolor{keyword}{sizeof}(DataType) * local\_size;
185   \textcolor{keywordflow}{if} (m.LocalHeight() != m.LDim()) \{
186     \textcolor{keywordflow}{throw} lbann\_exception(\textcolor{stringliteral}{"Aluminum does not support allreduces on"}
187                           \textcolor{stringliteral}{" non-contiguous matrices"});
188   \}
189   \textcolor{keyword}{auto}&& \hyperlink{file__io_8cpp_ab048c6f9fcbcfaa57ce68b00263dbebe}{comm} = get\_al\_comm(c, t);
190   \textcolor{keywordflow}{if} (t == std::type\_index(\textcolor{keyword}{typeid}(::Al::MPIBackend))) \{
191     ::Al::NonblockingAllreduce<::Al::MPIBackend>(
192       m.Buffer(),
193       local\_size,
194       mpi\_op\_to\_al\_op(op),
195       *\hyperlink{file__io_8cpp_ab048c6f9fcbcfaa57ce68b00263dbebe}{comm},
196       req.mpi\_req);
197   \}
199 \textcolor{preprocessor}{#ifdef LBANN\_HAS\_NCCL2}
200   \textcolor{keywordflow}{if} (t == std::type\_index(\textcolor{keyword}{typeid}(::Al::NCCLBackend))) \{
201     ::Al::NonblockingAllreduce<::Al::NCCLBackend>(
202       m.Buffer(),
203       local\_size,
204       mpi\_op\_to\_al\_op(op),
205       *\textcolor{keyword}{static\_cast<}::Al::NCCLCommunicator*\textcolor{keyword}{>}(\hyperlink{file__io_8cpp_ab048c6f9fcbcfaa57ce68b00263dbebe}{comm}),
206       req.nccl\_req);
207   \}
208 \textcolor{preprocessor}{#endif // LBANN\_HAS\_NCCL2}
209   \hyperlink{classlbann_1_1lbann__comm_afb99f57f7eafc0695bf28e6c26a8120f}{bytes\_received} += \textcolor{keyword}{sizeof}(DataType) * local\_size * (El::mpi::Size(c) - 1);
210 \textcolor{preprocessor}{#else}
211   \hyperlink{classlbann_1_1lbann__comm_af5631e5f0f54e4df4958eba9df2599ef}{allreduce}(m, c, op);
212 \textcolor{preprocessor}{#endif // LBANN\_HAS\_ALUMINUM}
213 \}
\end{DoxyCode}
Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=334pt]{classlbann_1_1lbann__comm_a2a7bb6cf3707366fc0671d8894ca30ea_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classlbann_1_1lbann__comm_a2a7bb6cf3707366fc0671d8894ca30ea_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classlbann_1_1lbann__comm_afb144a99e0cd2241f5fb05cad68b1f08}\label{classlbann_1_1lbann__comm_afb144a99e0cd2241f5fb05cad68b1f08}} 
\index{lbann\+::lbann\+\_\+comm@{lbann\+::lbann\+\_\+comm}!nb\+\_\+allreduce@{nb\+\_\+allreduce}}
\index{nb\+\_\+allreduce@{nb\+\_\+allreduce}!lbann\+::lbann\+\_\+comm@{lbann\+::lbann\+\_\+comm}}
\subsubsection{\texorpdfstring{nb\+\_\+allreduce()}{nb\_allreduce()}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily template$<$typename T $>$ \\
void lbann\+::lbann\+\_\+comm\+::nb\+\_\+allreduce (\begin{DoxyParamCaption}\item[{T $\ast$}]{data,  }\item[{int}]{count,  }\item[{const El\+::mpi\+::\+Comm}]{c,  }\item[{\hyperlink{structlbann_1_1Al_1_1request}{Al\+::request} \&}]{req,  }\item[{El\+::mpi\+::\+Op}]{op = {\ttfamily El\+:\+:mpi\+:\+:SUM} }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}

Non-\/blocking in-\/place scalar-\/array allreduce. If L\+B\+A\+NN has not been built with Aluminum, then this calls a blocking allreduce. This currently only supports host pointers (i.\+e. the M\+PI backend). 

Definition at line 479 of file comm.\+hpp.


\begin{DoxyCode}
480                                            \{
481 \textcolor{preprocessor}{#ifdef LBANN\_HAS\_ALUMINUM}
482     \hyperlink{classlbann_1_1lbann__comm_ad1f146ae7337ece6266fd307944928e0}{bytes\_sent} += count * \textcolor{keyword}{sizeof}(T);
483     req.mpi\_req = \hyperlink{classlbann_1_1Al_1_1dummy__backend_a458ac4eb9f62b06984b4ef1b1eeb5851}{Al::mpi\_backend::null\_req};
484     ::Al::NonblockingAllreduce<::Al::MPIBackend>(
485       \hyperlink{namespacelbann_1_1cnpy__utils_a9ac86d96ccb1f8b4b2ea16441738781f}{data}, count, mpi\_op\_to\_al\_op(op), *get\_al\_comm(c), req.mpi\_req);
486     \hyperlink{classlbann_1_1lbann__comm_afb99f57f7eafc0695bf28e6c26a8120f}{bytes\_received} += count * \textcolor{keyword}{sizeof}(T) * (El::mpi::Size(c) - 1);
487 \textcolor{preprocessor}{#else}
488     \hyperlink{classlbann_1_1lbann__comm_af5631e5f0f54e4df4958eba9df2599ef}{allreduce}(data, count, c, op);
489 \textcolor{preprocessor}{#endif  // LBANN\_HAS\_ALUMINUM}
490   \}
\end{DoxyCode}
Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classlbann_1_1lbann__comm_afb144a99e0cd2241f5fb05cad68b1f08_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classlbann_1_1lbann__comm_aac24e8802602c73efddb455274e158f4}\label{classlbann_1_1lbann__comm_aac24e8802602c73efddb455274e158f4}} 
\index{lbann\+::lbann\+\_\+comm@{lbann\+::lbann\+\_\+comm}!nb\+\_\+recv@{nb\+\_\+recv}}
\index{nb\+\_\+recv@{nb\+\_\+recv}!lbann\+::lbann\+\_\+comm@{lbann\+::lbann\+\_\+comm}}
\subsubsection{\texorpdfstring{nb\+\_\+recv()}{nb\_recv()}\hspace{0.1cm}{\footnotesize\ttfamily [1/9]}}
{\footnotesize\ttfamily template$<$typename T $>$ \\
void lbann\+::lbann\+\_\+comm\+::nb\+\_\+recv (\begin{DoxyParamCaption}\item[{T $\ast$}]{data,  }\item[{int}]{count,  }\item[{int}]{model,  }\item[{int}]{rank,  }\item[{El\+::mpi\+::\+Request$<$ T $>$ \&}]{req }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}

Corresponding non-\/blocking receives. 

Definition at line 577 of file comm.\+hpp.


\begin{DoxyCode}
578                                                            \{
579     El::mpi::IRecv(\hyperlink{namespacelbann_1_1cnpy__utils_a9ac86d96ccb1f8b4b2ea16441738781f}{data}, count, \hyperlink{classlbann_1_1lbann__comm_ab3b1ebe8b72575094405eb2e37bb447d}{get\_world\_rank}(\hyperlink{namespacelbann_adee41f31f15f3906cbdcce4a1417eb56a20f35e630daf44dbfa4c3f68f5399d8c}{model}, rank), 
      \hyperlink{classlbann_1_1lbann__comm_a0493f1f0c42b95674daacf5288fdb073}{get\_world\_comm}(),
580                req);
581     \hyperlink{classlbann_1_1lbann__comm_afb99f57f7eafc0695bf28e6c26a8120f}{bytes\_received} += \textcolor{keyword}{sizeof}(T) * count;
582   \}
\end{DoxyCode}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=334pt]{classlbann_1_1lbann__comm_aac24e8802602c73efddb455274e158f4_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classlbann_1_1lbann__comm_ad75e65db156edd86efa26ef1986668d0}\label{classlbann_1_1lbann__comm_ad75e65db156edd86efa26ef1986668d0}} 
\index{lbann\+::lbann\+\_\+comm@{lbann\+::lbann\+\_\+comm}!nb\+\_\+recv@{nb\+\_\+recv}}
\index{nb\+\_\+recv@{nb\+\_\+recv}!lbann\+::lbann\+\_\+comm@{lbann\+::lbann\+\_\+comm}}
\subsubsection{\texorpdfstring{nb\+\_\+recv()}{nb\_recv()}\hspace{0.1cm}{\footnotesize\ttfamily [2/9]}}
{\footnotesize\ttfamily template$<$typename T $>$ \\
void lbann\+::lbann\+\_\+comm\+::nb\+\_\+recv (\begin{DoxyParamCaption}\item[{T $\ast$}]{data,  }\item[{int}]{count,  }\item[{int}]{model,  }\item[{El\+::mpi\+::\+Request$<$ T $>$ \&}]{req }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Definition at line 583 of file comm.\+hpp.


\begin{DoxyCode}
584                                                            \{
585     \hyperlink{classlbann_1_1lbann__comm_aac24e8802602c73efddb455274e158f4}{nb\_recv}(\hyperlink{namespacelbann_1_1cnpy__utils_a9ac86d96ccb1f8b4b2ea16441738781f}{data}, count, \hyperlink{namespacelbann_adee41f31f15f3906cbdcce4a1417eb56a20f35e630daf44dbfa4c3f68f5399d8c}{model}, \hyperlink{classlbann_1_1lbann__comm_a0dcccd57c2b591eb7682e192e0a09033}{rank\_in\_model}, req);
586   \}
\end{DoxyCode}
\mbox{\Hypertarget{classlbann_1_1lbann__comm_a8f850662e84e3efab19244d1ef6752d7}\label{classlbann_1_1lbann__comm_a8f850662e84e3efab19244d1ef6752d7}} 
\index{lbann\+::lbann\+\_\+comm@{lbann\+::lbann\+\_\+comm}!nb\+\_\+recv@{nb\+\_\+recv}}
\index{nb\+\_\+recv@{nb\+\_\+recv}!lbann\+::lbann\+\_\+comm@{lbann\+::lbann\+\_\+comm}}
\subsubsection{\texorpdfstring{nb\+\_\+recv()}{nb\_recv()}\hspace{0.1cm}{\footnotesize\ttfamily [3/9]}}
{\footnotesize\ttfamily void lbann\+::lbann\+\_\+comm\+::nb\+\_\+recv (\begin{DoxyParamCaption}\item[{\hyperlink{base_8hpp_a68f11fdc31b62516cb310831bbe54d73}{Mat} \&}]{mat,  }\item[{int}]{model,  }\item[{int}]{rank,  }\item[{El\+::mpi\+::\+Request$<$ Data\+Type $>$ \&}]{req }\end{DoxyParamCaption})}



Definition at line 307 of file comm.\+cpp.


\begin{DoxyCode}
308                                                       \{
309   \hyperlink{classlbann_1_1lbann__comm_aac24e8802602c73efddb455274e158f4}{nb\_recv}(mat.Buffer(), mat.Height() * mat.Width(), \hyperlink{namespacelbann_adee41f31f15f3906cbdcce4a1417eb56a20f35e630daf44dbfa4c3f68f5399d8c}{model}, rank, req);
310 \}
\end{DoxyCode}
Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=334pt]{classlbann_1_1lbann__comm_a8f850662e84e3efab19244d1ef6752d7_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classlbann_1_1lbann__comm_abec714b3f80361f104eaa004d906798b}\label{classlbann_1_1lbann__comm_abec714b3f80361f104eaa004d906798b}} 
\index{lbann\+::lbann\+\_\+comm@{lbann\+::lbann\+\_\+comm}!nb\+\_\+recv@{nb\+\_\+recv}}
\index{nb\+\_\+recv@{nb\+\_\+recv}!lbann\+::lbann\+\_\+comm@{lbann\+::lbann\+\_\+comm}}
\subsubsection{\texorpdfstring{nb\+\_\+recv()}{nb\_recv()}\hspace{0.1cm}{\footnotesize\ttfamily [4/9]}}
{\footnotesize\ttfamily void lbann\+::lbann\+\_\+comm\+::nb\+\_\+recv (\begin{DoxyParamCaption}\item[{\hyperlink{base_8hpp_a0fab5387556805cfeac3e7e567bf66c5}{Dist\+Mat} \&}]{mat,  }\item[{int}]{model,  }\item[{int}]{rank,  }\item[{El\+::mpi\+::\+Request$<$ Data\+Type $>$ \&}]{req }\end{DoxyParamCaption})}



Definition at line 312 of file comm.\+cpp.


\begin{DoxyCode}
313                                                       \{
314   \hyperlink{classlbann_1_1lbann__comm_aac24e8802602c73efddb455274e158f4}{nb\_recv}(mat.Buffer(), mat.LocalHeight() * mat.LocalWidth(), \hyperlink{namespacelbann_adee41f31f15f3906cbdcce4a1417eb56a20f35e630daf44dbfa4c3f68f5399d8c}{model}, rank, req);
315 \}
\end{DoxyCode}
Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=334pt]{classlbann_1_1lbann__comm_abec714b3f80361f104eaa004d906798b_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classlbann_1_1lbann__comm_ad76ddffcad6e996b8da2ba7670d20b24}\label{classlbann_1_1lbann__comm_ad76ddffcad6e996b8da2ba7670d20b24}} 
\index{lbann\+::lbann\+\_\+comm@{lbann\+::lbann\+\_\+comm}!nb\+\_\+recv@{nb\+\_\+recv}}
\index{nb\+\_\+recv@{nb\+\_\+recv}!lbann\+::lbann\+\_\+comm@{lbann\+::lbann\+\_\+comm}}
\subsubsection{\texorpdfstring{nb\+\_\+recv()}{nb\_recv()}\hspace{0.1cm}{\footnotesize\ttfamily [5/9]}}
{\footnotesize\ttfamily void lbann\+::lbann\+\_\+comm\+::nb\+\_\+recv (\begin{DoxyParamCaption}\item[{\hyperlink{base_8hpp_a68f11fdc31b62516cb310831bbe54d73}{Mat} \&}]{mat,  }\item[{int}]{model,  }\item[{El\+::mpi\+::\+Request$<$ Data\+Type $>$ \&}]{req }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Definition at line 589 of file comm.\+hpp.


\begin{DoxyCode}
589                                                                  \{
590     \hyperlink{classlbann_1_1lbann__comm_aac24e8802602c73efddb455274e158f4}{nb\_recv}(mat, \hyperlink{namespacelbann_adee41f31f15f3906cbdcce4a1417eb56a20f35e630daf44dbfa4c3f68f5399d8c}{model}, \hyperlink{classlbann_1_1lbann__comm_a0dcccd57c2b591eb7682e192e0a09033}{rank\_in\_model}, req);
591   \}
\end{DoxyCode}
\mbox{\Hypertarget{classlbann_1_1lbann__comm_aec876be95ab91bfff6337f06adc6a797}\label{classlbann_1_1lbann__comm_aec876be95ab91bfff6337f06adc6a797}} 
\index{lbann\+::lbann\+\_\+comm@{lbann\+::lbann\+\_\+comm}!nb\+\_\+recv@{nb\+\_\+recv}}
\index{nb\+\_\+recv@{nb\+\_\+recv}!lbann\+::lbann\+\_\+comm@{lbann\+::lbann\+\_\+comm}}
\subsubsection{\texorpdfstring{nb\+\_\+recv()}{nb\_recv()}\hspace{0.1cm}{\footnotesize\ttfamily [6/9]}}
{\footnotesize\ttfamily void lbann\+::lbann\+\_\+comm\+::nb\+\_\+recv (\begin{DoxyParamCaption}\item[{\hyperlink{base_8hpp_a0fab5387556805cfeac3e7e567bf66c5}{Dist\+Mat} \&}]{mat,  }\item[{int}]{model,  }\item[{El\+::mpi\+::\+Request$<$ Data\+Type $>$ \&}]{req }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Definition at line 592 of file comm.\+hpp.


\begin{DoxyCode}
592                                                                      \{
593     \hyperlink{classlbann_1_1lbann__comm_aac24e8802602c73efddb455274e158f4}{nb\_recv}(mat, \hyperlink{namespacelbann_adee41f31f15f3906cbdcce4a1417eb56a20f35e630daf44dbfa4c3f68f5399d8c}{model}, \hyperlink{classlbann_1_1lbann__comm_a0dcccd57c2b591eb7682e192e0a09033}{rank\_in\_model}, req);
594   \}
\end{DoxyCode}
\mbox{\Hypertarget{classlbann_1_1lbann__comm_a77c74bcc60e9946d45cf575234a7acc2}\label{classlbann_1_1lbann__comm_a77c74bcc60e9946d45cf575234a7acc2}} 
\index{lbann\+::lbann\+\_\+comm@{lbann\+::lbann\+\_\+comm}!nb\+\_\+recv@{nb\+\_\+recv}}
\index{nb\+\_\+recv@{nb\+\_\+recv}!lbann\+::lbann\+\_\+comm@{lbann\+::lbann\+\_\+comm}}
\subsubsection{\texorpdfstring{nb\+\_\+recv()}{nb\_recv()}\hspace{0.1cm}{\footnotesize\ttfamily [7/9]}}
{\footnotesize\ttfamily template$<$typename T $>$ \\
void lbann\+::lbann\+\_\+comm\+::nb\+\_\+recv (\begin{DoxyParamCaption}\item[{T $\ast$}]{data,  }\item[{int}]{count,  }\item[{El\+::mpi\+::\+Request$<$ T $>$ \&}]{req }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Definition at line 595 of file comm.\+hpp.


\begin{DoxyCode}
595                                                                                \{
596     El::mpi::IRecv(\hyperlink{namespacelbann_1_1cnpy__utils_a9ac86d96ccb1f8b4b2ea16441738781f}{data}, count, El::mpi::ANY\_SOURCE, \hyperlink{classlbann_1_1lbann__comm_a0493f1f0c42b95674daacf5288fdb073}{get\_world\_comm}(), req);
597     \hyperlink{classlbann_1_1lbann__comm_afb99f57f7eafc0695bf28e6c26a8120f}{bytes\_received} += \textcolor{keyword}{sizeof}(T) * count;
598   \}
\end{DoxyCode}
\mbox{\Hypertarget{classlbann_1_1lbann__comm_a4e703fa356dd7807fda82d1d1eb81e1d}\label{classlbann_1_1lbann__comm_a4e703fa356dd7807fda82d1d1eb81e1d}} 
\index{lbann\+::lbann\+\_\+comm@{lbann\+::lbann\+\_\+comm}!nb\+\_\+recv@{nb\+\_\+recv}}
\index{nb\+\_\+recv@{nb\+\_\+recv}!lbann\+::lbann\+\_\+comm@{lbann\+::lbann\+\_\+comm}}
\subsubsection{\texorpdfstring{nb\+\_\+recv()}{nb\_recv()}\hspace{0.1cm}{\footnotesize\ttfamily [8/9]}}
{\footnotesize\ttfamily void lbann\+::lbann\+\_\+comm\+::nb\+\_\+recv (\begin{DoxyParamCaption}\item[{\hyperlink{base_8hpp_a68f11fdc31b62516cb310831bbe54d73}{Mat} \&}]{mat,  }\item[{El\+::mpi\+::\+Request$<$ Data\+Type $>$ \&}]{req }\end{DoxyParamCaption})}



Definition at line 317 of file comm.\+cpp.


\begin{DoxyCode}
317                                                               \{
318   \hyperlink{classlbann_1_1lbann__comm_aac24e8802602c73efddb455274e158f4}{nb\_recv}(mat.Buffer(), mat.Height() * mat.Width(), req);
319 \}
\end{DoxyCode}
Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=334pt]{classlbann_1_1lbann__comm_a4e703fa356dd7807fda82d1d1eb81e1d_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classlbann_1_1lbann__comm_a105c0fa7997f23637cbd03d566748bca}\label{classlbann_1_1lbann__comm_a105c0fa7997f23637cbd03d566748bca}} 
\index{lbann\+::lbann\+\_\+comm@{lbann\+::lbann\+\_\+comm}!nb\+\_\+recv@{nb\+\_\+recv}}
\index{nb\+\_\+recv@{nb\+\_\+recv}!lbann\+::lbann\+\_\+comm@{lbann\+::lbann\+\_\+comm}}
\subsubsection{\texorpdfstring{nb\+\_\+recv()}{nb\_recv()}\hspace{0.1cm}{\footnotesize\ttfamily [9/9]}}
{\footnotesize\ttfamily void lbann\+::lbann\+\_\+comm\+::nb\+\_\+recv (\begin{DoxyParamCaption}\item[{\hyperlink{base_8hpp_a0fab5387556805cfeac3e7e567bf66c5}{Dist\+Mat} \&}]{mat,  }\item[{El\+::mpi\+::\+Request$<$ Data\+Type $>$ \&}]{req }\end{DoxyParamCaption})}



Definition at line 321 of file comm.\+cpp.


\begin{DoxyCode}
321                                                                   \{
322   \hyperlink{classlbann_1_1lbann__comm_aac24e8802602c73efddb455274e158f4}{nb\_recv}(mat.Buffer(), mat.LocalHeight() * mat.LocalWidth(), req);
323 \}
\end{DoxyCode}
Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=334pt]{classlbann_1_1lbann__comm_a105c0fa7997f23637cbd03d566748bca_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classlbann_1_1lbann__comm_a70679ca6477c56972f9bc53d52e5ce21}\label{classlbann_1_1lbann__comm_a70679ca6477c56972f9bc53d52e5ce21}} 
\index{lbann\+::lbann\+\_\+comm@{lbann\+::lbann\+\_\+comm}!nb\+\_\+send@{nb\+\_\+send}}
\index{nb\+\_\+send@{nb\+\_\+send}!lbann\+::lbann\+\_\+comm@{lbann\+::lbann\+\_\+comm}}
\subsubsection{\texorpdfstring{nb\+\_\+send()}{nb\_send()}\hspace{0.1cm}{\footnotesize\ttfamily [1/6]}}
{\footnotesize\ttfamily template$<$typename T $>$ \\
void lbann\+::lbann\+\_\+comm\+::nb\+\_\+send (\begin{DoxyParamCaption}\item[{const T $\ast$}]{data,  }\item[{int}]{count,  }\item[{int}]{model,  }\item[{int}]{rank,  }\item[{El\+::mpi\+::\+Request$<$ T $>$ \&}]{req }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}

Corresponding non-\/blocking sends. 

Definition at line 532 of file comm.\+hpp.


\begin{DoxyCode}
533                                      \{
534     \hyperlink{classlbann_1_1lbann__comm_ad1f146ae7337ece6266fd307944928e0}{bytes\_sent} += \textcolor{keyword}{sizeof}(T) * count;
535     El::mpi::ISend(\hyperlink{namespacelbann_1_1cnpy__utils_a9ac86d96ccb1f8b4b2ea16441738781f}{data}, count, \hyperlink{classlbann_1_1lbann__comm_ab3b1ebe8b72575094405eb2e37bb447d}{get\_world\_rank}(\hyperlink{namespacelbann_adee41f31f15f3906cbdcce4a1417eb56a20f35e630daf44dbfa4c3f68f5399d8c}{model}, rank), 
      \hyperlink{classlbann_1_1lbann__comm_a0493f1f0c42b95674daacf5288fdb073}{get\_world\_comm}(), req);
536   \}
\end{DoxyCode}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=334pt]{classlbann_1_1lbann__comm_a70679ca6477c56972f9bc53d52e5ce21_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classlbann_1_1lbann__comm_a6d9de11c64685e0983b196044856d281}\label{classlbann_1_1lbann__comm_a6d9de11c64685e0983b196044856d281}} 
\index{lbann\+::lbann\+\_\+comm@{lbann\+::lbann\+\_\+comm}!nb\+\_\+send@{nb\+\_\+send}}
\index{nb\+\_\+send@{nb\+\_\+send}!lbann\+::lbann\+\_\+comm@{lbann\+::lbann\+\_\+comm}}
\subsubsection{\texorpdfstring{nb\+\_\+send()}{nb\_send()}\hspace{0.1cm}{\footnotesize\ttfamily [2/6]}}
{\footnotesize\ttfamily template$<$typename T $>$ \\
void lbann\+::lbann\+\_\+comm\+::nb\+\_\+send (\begin{DoxyParamCaption}\item[{const T $\ast$}]{data,  }\item[{int}]{count,  }\item[{int}]{model,  }\item[{El\+::mpi\+::\+Request$<$ T $>$ \&}]{req }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Definition at line 537 of file comm.\+hpp.


\begin{DoxyCode}
538                                                            \{
539     \hyperlink{classlbann_1_1lbann__comm_a70679ca6477c56972f9bc53d52e5ce21}{nb\_send}(\hyperlink{namespacelbann_1_1cnpy__utils_a9ac86d96ccb1f8b4b2ea16441738781f}{data}, count, \hyperlink{namespacelbann_adee41f31f15f3906cbdcce4a1417eb56a20f35e630daf44dbfa4c3f68f5399d8c}{model}, \hyperlink{classlbann_1_1lbann__comm_a0dcccd57c2b591eb7682e192e0a09033}{rank\_in\_model}, req);
540   \}
\end{DoxyCode}
\mbox{\Hypertarget{classlbann_1_1lbann__comm_ae86cb0f65c8e11dec7a1cf0d3ce17cd2}\label{classlbann_1_1lbann__comm_ae86cb0f65c8e11dec7a1cf0d3ce17cd2}} 
\index{lbann\+::lbann\+\_\+comm@{lbann\+::lbann\+\_\+comm}!nb\+\_\+send@{nb\+\_\+send}}
\index{nb\+\_\+send@{nb\+\_\+send}!lbann\+::lbann\+\_\+comm@{lbann\+::lbann\+\_\+comm}}
\subsubsection{\texorpdfstring{nb\+\_\+send()}{nb\_send()}\hspace{0.1cm}{\footnotesize\ttfamily [3/6]}}
{\footnotesize\ttfamily void lbann\+::lbann\+\_\+comm\+::nb\+\_\+send (\begin{DoxyParamCaption}\item[{const \hyperlink{base_8hpp_a68f11fdc31b62516cb310831bbe54d73}{Mat} \&}]{mat,  }\item[{int}]{model,  }\item[{int}]{rank,  }\item[{El\+::mpi\+::\+Request$<$ Data\+Type $>$ \&}]{req }\end{DoxyParamCaption})}



Definition at line 280 of file comm.\+cpp.


\begin{DoxyCode}
281                                                       \{
282   \hyperlink{classlbann_1_1lbann__comm_a70679ca6477c56972f9bc53d52e5ce21}{nb\_send}(mat.LockedBuffer(), mat.Height() * mat.Width(), \hyperlink{namespacelbann_adee41f31f15f3906cbdcce4a1417eb56a20f35e630daf44dbfa4c3f68f5399d8c}{model}, rank, req);
283 \}
\end{DoxyCode}
Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=334pt]{classlbann_1_1lbann__comm_ae86cb0f65c8e11dec7a1cf0d3ce17cd2_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classlbann_1_1lbann__comm_ad77344b63311b7ec57c63af67120c3e6}\label{classlbann_1_1lbann__comm_ad77344b63311b7ec57c63af67120c3e6}} 
\index{lbann\+::lbann\+\_\+comm@{lbann\+::lbann\+\_\+comm}!nb\+\_\+send@{nb\+\_\+send}}
\index{nb\+\_\+send@{nb\+\_\+send}!lbann\+::lbann\+\_\+comm@{lbann\+::lbann\+\_\+comm}}
\subsubsection{\texorpdfstring{nb\+\_\+send()}{nb\_send()}\hspace{0.1cm}{\footnotesize\ttfamily [4/6]}}
{\footnotesize\ttfamily void lbann\+::lbann\+\_\+comm\+::nb\+\_\+send (\begin{DoxyParamCaption}\item[{const \hyperlink{base_8hpp_a0fab5387556805cfeac3e7e567bf66c5}{Dist\+Mat} \&}]{mat,  }\item[{int}]{model,  }\item[{int}]{rank,  }\item[{El\+::mpi\+::\+Request$<$ Data\+Type $>$ \&}]{req }\end{DoxyParamCaption})}



Definition at line 285 of file comm.\+cpp.


\begin{DoxyCode}
286                                                       \{
287   \hyperlink{classlbann_1_1lbann__comm_a70679ca6477c56972f9bc53d52e5ce21}{nb\_send}(mat.LockedBuffer(), mat.LocalHeight() * mat.LocalWidth(), \hyperlink{namespacelbann_adee41f31f15f3906cbdcce4a1417eb56a20f35e630daf44dbfa4c3f68f5399d8c}{model},
288           rank, req);
289 \}
\end{DoxyCode}
Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=334pt]{classlbann_1_1lbann__comm_ad77344b63311b7ec57c63af67120c3e6_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classlbann_1_1lbann__comm_a7d22130a7d24a710fe6b31c0ccec78b1}\label{classlbann_1_1lbann__comm_a7d22130a7d24a710fe6b31c0ccec78b1}} 
\index{lbann\+::lbann\+\_\+comm@{lbann\+::lbann\+\_\+comm}!nb\+\_\+send@{nb\+\_\+send}}
\index{nb\+\_\+send@{nb\+\_\+send}!lbann\+::lbann\+\_\+comm@{lbann\+::lbann\+\_\+comm}}
\subsubsection{\texorpdfstring{nb\+\_\+send()}{nb\_send()}\hspace{0.1cm}{\footnotesize\ttfamily [5/6]}}
{\footnotesize\ttfamily void lbann\+::lbann\+\_\+comm\+::nb\+\_\+send (\begin{DoxyParamCaption}\item[{const \hyperlink{base_8hpp_a68f11fdc31b62516cb310831bbe54d73}{Mat} \&}]{mat,  }\item[{int}]{model,  }\item[{El\+::mpi\+::\+Request$<$ Data\+Type $>$ \&}]{req }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Definition at line 545 of file comm.\+hpp.


\begin{DoxyCode}
545                                                                        \{
546     \hyperlink{classlbann_1_1lbann__comm_a70679ca6477c56972f9bc53d52e5ce21}{nb\_send}(mat, \hyperlink{namespacelbann_adee41f31f15f3906cbdcce4a1417eb56a20f35e630daf44dbfa4c3f68f5399d8c}{model}, \hyperlink{classlbann_1_1lbann__comm_a0dcccd57c2b591eb7682e192e0a09033}{rank\_in\_model}, req);
547   \}
\end{DoxyCode}
\mbox{\Hypertarget{classlbann_1_1lbann__comm_a1144c161ccc147d879d088b5832d64a7}\label{classlbann_1_1lbann__comm_a1144c161ccc147d879d088b5832d64a7}} 
\index{lbann\+::lbann\+\_\+comm@{lbann\+::lbann\+\_\+comm}!nb\+\_\+send@{nb\+\_\+send}}
\index{nb\+\_\+send@{nb\+\_\+send}!lbann\+::lbann\+\_\+comm@{lbann\+::lbann\+\_\+comm}}
\subsubsection{\texorpdfstring{nb\+\_\+send()}{nb\_send()}\hspace{0.1cm}{\footnotesize\ttfamily [6/6]}}
{\footnotesize\ttfamily void lbann\+::lbann\+\_\+comm\+::nb\+\_\+send (\begin{DoxyParamCaption}\item[{const \hyperlink{base_8hpp_a0fab5387556805cfeac3e7e567bf66c5}{Dist\+Mat} \&}]{mat,  }\item[{int}]{model,  }\item[{El\+::mpi\+::\+Request$<$ Data\+Type $>$ \&}]{req }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Definition at line 548 of file comm.\+hpp.


\begin{DoxyCode}
548                                                                            \{
549     \hyperlink{classlbann_1_1lbann__comm_a70679ca6477c56972f9bc53d52e5ce21}{nb\_send}(mat, \hyperlink{namespacelbann_adee41f31f15f3906cbdcce4a1417eb56a20f35e630daf44dbfa4c3f68f5399d8c}{model}, \hyperlink{classlbann_1_1lbann__comm_a0dcccd57c2b591eb7682e192e0a09033}{rank\_in\_model}, req);
550   \}
\end{DoxyCode}
\mbox{\Hypertarget{classlbann_1_1lbann__comm_ae5373895ee134866be9f2b042a1cef21}\label{classlbann_1_1lbann__comm_ae5373895ee134866be9f2b042a1cef21}} 
\index{lbann\+::lbann\+\_\+comm@{lbann\+::lbann\+\_\+comm}!operator=@{operator=}}
\index{operator=@{operator=}!lbann\+::lbann\+\_\+comm@{lbann\+::lbann\+\_\+comm}}
\subsubsection{\texorpdfstring{operator=()}{operator=()}}
{\footnotesize\ttfamily \hyperlink{classlbann_1_1lbann__comm}{lbann\+\_\+comm}\& lbann\+::lbann\+\_\+comm\+::operator= (\begin{DoxyParamCaption}\item[{const \hyperlink{classlbann_1_1lbann__comm}{lbann\+\_\+comm} \&}]{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [delete]}}

Don\textquotesingle{}t allow assignment; it doesn\textquotesingle{}t make sense for the communicator. \mbox{\Hypertarget{classlbann_1_1lbann__comm_ac294fe5fa47f283aba31fa1abfa99438}\label{classlbann_1_1lbann__comm_ac294fe5fa47f283aba31fa1abfa99438}} 
\index{lbann\+::lbann\+\_\+comm@{lbann\+::lbann\+\_\+comm}!pe\+\_\+ring\+\_\+allreduce@{pe\+\_\+ring\+\_\+allreduce}}
\index{pe\+\_\+ring\+\_\+allreduce@{pe\+\_\+ring\+\_\+allreduce}!lbann\+::lbann\+\_\+comm@{lbann\+::lbann\+\_\+comm}}
\subsubsection{\texorpdfstring{pe\+\_\+ring\+\_\+allreduce()}{pe\_ring\_allreduce()}}
{\footnotesize\ttfamily void lbann\+::lbann\+\_\+comm\+::pe\+\_\+ring\+\_\+allreduce (\begin{DoxyParamCaption}\item[{const El\+::mpi\+::\+Comm}]{comm,  }\item[{\hyperlink{base_8hpp_a68f11fdc31b62516cb310831bbe54d73}{Mat} \&}]{mat,  }\item[{int}]{max\+\_\+recv\+\_\+count,  }\item[{std\+::function$<$ uint8\+\_\+t $\ast$(\hyperlink{base_8hpp_a68f11fdc31b62516cb310831bbe54d73}{Mat} \&, El\+::\+IR, El\+::\+IR, int \&, bool, int)$>$}]{send\+\_\+transform,  }\item[{std\+::function$<$ int(uint8\+\_\+t $\ast$, \hyperlink{base_8hpp_a68f11fdc31b62516cb310831bbe54d73}{Mat} \&)$>$}]{recv\+\_\+transform,  }\item[{std\+::function$<$ int(uint8\+\_\+t $\ast$, \hyperlink{base_8hpp_a68f11fdc31b62516cb310831bbe54d73}{Mat} \&, bool)$>$}]{recv\+\_\+apply\+\_\+transform,  }\item[{const \hyperlink{structlbann_1_1lbann__comm_1_1allreduce__options}{allreduce\+\_\+options}}]{opts }\end{DoxyParamCaption})}

An allreduce based on a pairwise-\/exchange reduce-\/scatter followed by a ring-\/based allgather. 
\begin{DoxyParams}{Parameters}
{\em num\+\_\+reduces} & If $>$1, performs up to num\+\_\+reduces reduces concurrently in the reduce-\/scatter phase. \\
\hline
\end{DoxyParams}


Definition at line 433 of file comm.\+cpp.


\begin{DoxyCode}
438                                           \{
439   \textcolor{keywordtype}{double} ar\_start = \hyperlink{namespacelbann_a478d36031ff0659893c4322cd856157f}{get\_time}();
440   \textcolor{keyword}{const} \textcolor{keywordtype}{int} rank = El::mpi::Rank(\hyperlink{file__io_8cpp_ab048c6f9fcbcfaa57ce68b00263dbebe}{comm});
441   \textcolor{keyword}{const} \textcolor{keywordtype}{int} nprocs = El::mpi::Size(\hyperlink{file__io_8cpp_ab048c6f9fcbcfaa57ce68b00263dbebe}{comm});
442   \textcolor{keywordflow}{if} (nprocs == 1) \{
443     \textcolor{keywordflow}{return};  \textcolor{comment}{// Nothing to do.}
444   \}
445   \textcolor{comment}{// Compute the number of columns each processor sends.}
446   \textcolor{comment}{// If it doesn't divide evenly, give one extra to the earlier ranks.}
447   \textcolor{keyword}{const} El::Int cols\_per\_proc = mat.Width() / nprocs;
448   \textcolor{keyword}{const} El::Int cols\_remainder = mat.Width() % nprocs;
449   \textcolor{comment}{// Compute the lengths/ends of the slices.}
450   std::vector<El::Int> slice\_lengths(nprocs, cols\_per\_proc);
451   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < cols\_remainder; ++i) \{
452     slice\_lengths[i] += 1;
453   \}
454   std::vector<El::Int> slice\_ends(nprocs);
455   std::partial\_sum(slice\_lengths.begin(), slice\_lengths.end(),
456                    slice\_ends.begin());
457   std::vector<uint8\_t *> max\_recv\_buffers(opts.max\_reduces, \textcolor{keyword}{nullptr});
458   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{size\_t} i = 0; i < max\_recv\_buffers.size(); ++i) \{
459     max\_recv\_buffers[i] = \hyperlink{classlbann_1_1lbann__comm_ae925ac5eaf2895717c709b252961b3bf}{get\_collective\_buffer}(max\_recv\_count, i);
460   \}
461   \textcolor{comment}{// Local slice of our accumulated data.}
462   \textcolor{keyword}{auto} accum\_view = mat(El::ALL, El::IR(slice\_ends[rank] - slice\_lengths[rank],
463                                     slice\_ends[rank]));
464   \textcolor{comment}{// Do a pairwise-exchange reduce-scatter.}
465   \textcolor{keywordtype}{double} rs\_start = \hyperlink{namespacelbann_a478d36031ff0659893c4322cd856157f}{get\_time}();
466   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} outer\_step = 1;
467        outer\_step < nprocs;
468        outer\_step += opts.max\_reduces) \{
469     \textcolor{keyword}{const} \textcolor{keywordtype}{int} reduces\_this\_step = std::min(opts.max\_reduces,
470                                            nprocs - outer\_step);
471     std::vector<El::mpi::Request<uint8\_t>> send\_reqs(reduces\_this\_step);
472     std::vector<El::mpi::Request<uint8\_t>> recv\_reqs(reduces\_this\_step);
473     std::vector<uint8\_t *> recv\_buffers(max\_recv\_buffers);
474     \textcolor{keywordtype}{int} num\_local\_recvs = 0;
475     std::vector<bool> local\_recvs(reduces\_this\_step, \textcolor{keyword}{false});
476     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} step = outer\_step; step < outer\_step + reduces\_this\_step; ++step) \{
477       \textcolor{keyword}{const} \textcolor{keywordtype}{int} reduce\_idx = step - outer\_step;
478       \textcolor{comment}{// Compute where we send to/receive from.}
479       \textcolor{keyword}{const} \textcolor{keywordtype}{int} dst = (rank + step) % nprocs;
480       \textcolor{keyword}{const} \textcolor{keywordtype}{int} src = (rank - step + nprocs) % nprocs;
481       \textcolor{keyword}{const} \textcolor{keywordtype}{bool} is\_send\_local = opts.no\_local\_trans &&
482                                  \hyperlink{classlbann_1_1lbann__comm_a5cdd318d1505ba0f31bf4fe9fadffacc}{is\_rank\_node\_local}(dst, \hyperlink{file__io_8cpp_ab048c6f9fcbcfaa57ce68b00263dbebe}{comm});
483       \textcolor{keyword}{const} \textcolor{keywordtype}{bool} is\_recv\_local = opts.no\_local\_trans &&
484                                  \hyperlink{classlbann_1_1lbann__comm_a5cdd318d1505ba0f31bf4fe9fadffacc}{is\_rank\_node\_local}(src, \hyperlink{file__io_8cpp_ab048c6f9fcbcfaa57ce68b00263dbebe}{comm});
485       \textcolor{comment}{// Post the receive.}
486       \textcolor{keywordtype}{double} recv\_start = \hyperlink{namespacelbann_a478d36031ff0659893c4322cd856157f}{get\_time}();
487       \textcolor{keywordtype}{int} recv\_size = max\_recv\_count;
488       \textcolor{keywordflow}{if} (is\_recv\_local) \{
489         recv\_size = \textcolor{keyword}{sizeof}(DataType) * accum\_view.Height() * accum\_view.Width();
490         recv\_buffers[reduce\_idx] = \hyperlink{classlbann_1_1lbann__comm_ae925ac5eaf2895717c709b252961b3bf}{get\_collective\_buffer}(recv\_size,
491                                    num\_local\_recvs);
492         ++num\_local\_recvs;
493         local\_recvs[reduce\_idx] = is\_recv\_local;
494       \}
495       El::mpi::IRecv(recv\_buffers[reduce\_idx], recv\_size, src, \hyperlink{file__io_8cpp_ab048c6f9fcbcfaa57ce68b00263dbebe}{comm},
496                      recv\_reqs[reduce\_idx]);
497       \textcolor{keywordtype}{double} recv\_tot = \hyperlink{namespacelbann_a478d36031ff0659893c4322cd856157f}{get\_time}() - recv\_start;
498       \hyperlink{classlbann_1_1lbann__comm_a4c9323938961c3524dc67f4b7b47e3ae}{ar\_recv\_time} += recv\_tot;
499       \hyperlink{classlbann_1_1lbann__comm_adefa0ee8b0a6b74072448e20d40f502d}{ar\_rs\_recv\_time} += recv\_tot;
500       \textcolor{comment}{// Transform the data we send. We do not look at the same chunk of data}
501       \textcolor{comment}{// twice.}
502       \textcolor{keywordtype}{double} send\_trans\_start = \hyperlink{namespacelbann_a478d36031ff0659893c4322cd856157f}{get\_time}();
503       \textcolor{keywordtype}{int} send\_size;
504       uint8\_t *send\_buf = \textcolor{keyword}{nullptr};
505       \textcolor{keywordflow}{if} (is\_send\_local) \{
506         \textcolor{keyword}{auto} send\_view = mat(El::ALL,
507                              El::IR(slice\_ends[dst] - slice\_lengths[dst], slice\_ends[dst]));
508         send\_buf = (uint8\_t *) send\_view.Buffer();
509         send\_size = \textcolor{keyword}{sizeof}(DataType) * send\_view.Height() * send\_view.Width();
510       \} \textcolor{keywordflow}{else} \{
511         send\_buf = send\_transform(
512                      mat, El::ALL, El::IR(slice\_ends[dst] - slice\_lengths[dst], slice\_ends[dst]),
513                      send\_size, \textcolor{keyword}{true}, reduce\_idx);
514       \}
515       \hyperlink{classlbann_1_1lbann__comm_a4e3d35520a8f567579f9235e9808ba1c}{ar\_send\_transform\_time} += \hyperlink{namespacelbann_a478d36031ff0659893c4322cd856157f}{get\_time}() - send\_trans\_start;
516       \hyperlink{classlbann_1_1lbann__comm_ad1f146ae7337ece6266fd307944928e0}{bytes\_sent} += send\_size;
517       \hyperlink{classlbann_1_1lbann__comm_aa520c16eafde742b70daf60866afc6a8}{ar\_bytes\_sent} += send\_size;
518       \hyperlink{classlbann_1_1lbann__comm_ac74bcfb565c1bb6604f336c6d1b647cc}{ar\_rs\_bytes\_sent} += send\_size;
519       \textcolor{comment}{// Post the send.}
520       \textcolor{keywordtype}{double} send\_start = \hyperlink{namespacelbann_a478d36031ff0659893c4322cd856157f}{get\_time}();
521       El::mpi::ISend(send\_buf, send\_size, dst, \hyperlink{file__io_8cpp_ab048c6f9fcbcfaa57ce68b00263dbebe}{comm}, send\_reqs[reduce\_idx]);
522       \textcolor{keywordtype}{double} send\_tot = \hyperlink{namespacelbann_a478d36031ff0659893c4322cd856157f}{get\_time}() - send\_start;
523       \hyperlink{classlbann_1_1lbann__comm_a60a664f47efb52d9936b72d34059d1ef}{ar\_send\_time} += send\_tot;
524       \hyperlink{classlbann_1_1lbann__comm_aaadab22d368e8004a9877828a3bc9e93}{ar\_rs\_send\_time} += send\_tot;
525     \}
526     \textcolor{comment}{// Complete the receives (in any order).}
527     \textcolor{comment}{// We need to extract the raw MPI\_Request because Elemental does not support}
528     \textcolor{comment}{// MPI\_Waitany.}
529     std::vector<MPI\_Request> raw\_reqs(reduces\_this\_step);
530     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < reduces\_this\_step; ++i) \{
531       raw\_reqs[i] = recv\_reqs[i].backend;
532     \}
533     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < reduces\_this\_step; ++i) \{
534       \textcolor{keywordtype}{int} completed\_idx;
535       \textcolor{keywordtype}{double} recv\_start = \hyperlink{namespacelbann_a478d36031ff0659893c4322cd856157f}{get\_time}();
536       MPI\_Waitany(reduces\_this\_step, raw\_reqs.data(), &completed\_idx,
537                   MPI\_STATUS\_IGNORE);
538       \textcolor{keywordtype}{double} recv\_tot = \hyperlink{namespacelbann_a478d36031ff0659893c4322cd856157f}{get\_time}() - recv\_start;
539       \hyperlink{classlbann_1_1lbann__comm_a4c9323938961c3524dc67f4b7b47e3ae}{ar\_recv\_time} += recv\_tot;
540       \hyperlink{classlbann_1_1lbann__comm_adefa0ee8b0a6b74072448e20d40f502d}{ar\_rs\_recv\_time} += recv\_tot;
541       \textcolor{keywordtype}{double} recv\_apply\_trans\_start = \hyperlink{namespacelbann_a478d36031ff0659893c4322cd856157f}{get\_time}();
542       \textcolor{keywordtype}{int} recv\_size = recv\_apply\_transform(
543                         recv\_buffers[completed\_idx], accum\_view, local\_recvs[completed\_idx]);
544       \hyperlink{classlbann_1_1lbann__comm_aa642b0ae2321fa464b0092da527f6375}{ar\_recv\_apply\_transform\_time} += \hyperlink{namespacelbann_a478d36031ff0659893c4322cd856157f}{get\_time}() - 
      recv\_apply\_trans\_start;
545       \hyperlink{classlbann_1_1lbann__comm_afb99f57f7eafc0695bf28e6c26a8120f}{bytes\_received} += recv\_size;
546       \hyperlink{classlbann_1_1lbann__comm_aa5f3c53358bf9002b9fab41918b0c8c1}{ar\_bytes\_received} += recv\_size;
547       \hyperlink{classlbann_1_1lbann__comm_a2c3e1db0f6d2345748132322b0555db7}{ar\_rs\_bytes\_received} += recv\_size;
548     \}
549     \textcolor{comment}{// Complete all the sends.}
550     \textcolor{keywordtype}{double} send\_start = \hyperlink{namespacelbann_a478d36031ff0659893c4322cd856157f}{get\_time}();
551     El::mpi::WaitAll(reduces\_this\_step, send\_reqs.data(), MPI\_STATUSES\_IGNORE);
552     \textcolor{keywordtype}{double} send\_tot = \hyperlink{namespacelbann_a478d36031ff0659893c4322cd856157f}{get\_time}() - send\_start;
553     \hyperlink{classlbann_1_1lbann__comm_a60a664f47efb52d9936b72d34059d1ef}{ar\_send\_time} += send\_tot;
554     \hyperlink{classlbann_1_1lbann__comm_aaadab22d368e8004a9877828a3bc9e93}{ar\_rs\_send\_time} += send\_tot;
555   \}
556   uint8\_t *recv\_buf = max\_recv\_buffers[0];  \textcolor{comment}{// Get a regular recv buffer.}
557   \hyperlink{classlbann_1_1lbann__comm_a85022d803e339eb14a15129a07876c2b}{ar\_rs\_time} += \hyperlink{namespacelbann_a478d36031ff0659893c4322cd856157f}{get\_time}() - rs\_start;
558   \textcolor{comment}{// Do a ring allgather.}
559   \textcolor{keywordtype}{double} ag\_start = \hyperlink{namespacelbann_a478d36031ff0659893c4322cd856157f}{get\_time}();
560   \textcolor{keyword}{const} \textcolor{keywordtype}{int} src = (rank - 1 + nprocs) % nprocs;
561   \textcolor{keyword}{const} \textcolor{keywordtype}{int} dst = (rank + 1) % nprocs;
562   \textcolor{comment}{// Apply the transform to our locally-accumulated slice of the data.}
563   \textcolor{comment}{// Since the same data is cycled to every process, we do not do the}
564   \textcolor{comment}{// no\_local\_trans here.}
565   \textcolor{keywordtype}{int} send\_size;
566   \textcolor{comment}{// Do the first step where we forward our local data.}
567   \{
568     \textcolor{keywordtype}{double} send\_trans\_start = \hyperlink{namespacelbann_a478d36031ff0659893c4322cd856157f}{get\_time}();
569     uint8\_t *send\_buf = send\_transform(
570                           mat, El::ALL, El::IR(slice\_ends[rank] - slice\_lengths[rank], slice\_ends[rank]),
571                           send\_size, \textcolor{keyword}{false}, 0);
572     \hyperlink{classlbann_1_1lbann__comm_a4e3d35520a8f567579f9235e9808ba1c}{ar\_send\_transform\_time} += \hyperlink{namespacelbann_a478d36031ff0659893c4322cd856157f}{get\_time}() - send\_trans\_start;
573     \textcolor{keyword}{const} \textcolor{keywordtype}{int} data\_src = (rank - 1 + nprocs) % nprocs;
574     \hyperlink{classlbann_1_1lbann__comm_ad1f146ae7337ece6266fd307944928e0}{bytes\_sent} += send\_size;
575     \hyperlink{classlbann_1_1lbann__comm_aa520c16eafde742b70daf60866afc6a8}{ar\_bytes\_sent} += send\_size;
576     \hyperlink{classlbann_1_1lbann__comm_a2cfe1264a83865360692c48d7869fe67}{ar\_ag\_bytes\_sent} += send\_size;
577     \textcolor{keyword}{auto} recv\_view = mat(El::ALL,
578                          El::IR(slice\_ends[data\_src] - slice\_lengths[data\_src],
579                                 slice\_ends[data\_src]));
580     \textcolor{comment}{// If we can, receive directly into the destination matrix.}
581     \textcolor{keywordflow}{if} (opts.id\_recv) \{
582       recv\_buf = (uint8\_t *) recv\_view.Buffer();
583       max\_recv\_count = \textcolor{keyword}{sizeof}(DataType) * recv\_view.Height() * recv\_view.Width();
584     \}
585     \textcolor{keywordtype}{double} sendrecv\_start = \hyperlink{namespacelbann_a478d36031ff0659893c4322cd856157f}{get\_time}();
586     El::mpi::SendRecv(send\_buf, send\_size, dst,
587                       recv\_buf, max\_recv\_count, src, \hyperlink{file__io_8cpp_ab048c6f9fcbcfaa57ce68b00263dbebe}{comm});
588     \textcolor{keywordtype}{double} sendrecv\_tot = \hyperlink{namespacelbann_a478d36031ff0659893c4322cd856157f}{get\_time}() - sendrecv\_start;
589     \hyperlink{classlbann_1_1lbann__comm_a60a664f47efb52d9936b72d34059d1ef}{ar\_send\_time} += sendrecv\_tot;
590     \hyperlink{classlbann_1_1lbann__comm_a4c9323938961c3524dc67f4b7b47e3ae}{ar\_recv\_time} += sendrecv\_tot;
591     \hyperlink{classlbann_1_1lbann__comm_a64cb0b86e9368c1d83370ba6cb0083ba}{ar\_ag\_send\_time} += sendrecv\_tot;
592     \hyperlink{classlbann_1_1lbann__comm_a1896c3ecd1d5b084497c6ed47c1c9bae}{ar\_ag\_recv\_time} += sendrecv\_tot;
593     \textcolor{keywordtype}{double} recv\_trans\_start = \hyperlink{namespacelbann_a478d36031ff0659893c4322cd856157f}{get\_time}();
594     \textcolor{keywordtype}{int} recv\_size = 0;
595     \textcolor{keywordflow}{if} (opts.id\_recv) \{
596       recv\_size = \textcolor{keyword}{sizeof}(DataType) * recv\_view.Height() * recv\_view.Width();
597     \} \textcolor{keywordflow}{else} \{
598       recv\_size = recv\_transform(recv\_buf, recv\_view);
599     \}
600     \hyperlink{classlbann_1_1lbann__comm_adb393f47d60eaa59bace80d2d3dd3bf2}{ar\_recv\_transform\_time} += \hyperlink{namespacelbann_a478d36031ff0659893c4322cd856157f}{get\_time}() - recv\_trans\_start;
601     \hyperlink{classlbann_1_1lbann__comm_afb99f57f7eafc0695bf28e6c26a8120f}{bytes\_received} += recv\_size;
602     \hyperlink{classlbann_1_1lbann__comm_aa5f3c53358bf9002b9fab41918b0c8c1}{ar\_bytes\_received} += recv\_size;
603     \hyperlink{classlbann_1_1lbann__comm_afded6f478dc5021d1edec306dc6c528c}{ar\_ag\_bytes\_received} += send\_size;
604     send\_size = recv\_size;
605   \}
606   \textcolor{comment}{// Now do the remaining nprocs - 2 steps.}
607   \textcolor{comment}{// We always send from recv\_buf and receive to recv\_buf2, swapping}
608   \textcolor{comment}{// pointers to avoid copying.}
609   uint8\_t *recv\_buf2 = \textcolor{keyword}{nullptr};
610   \textcolor{keywordflow}{if} (!opts.id\_recv) \{
611     recv\_buf2 = \hyperlink{classlbann_1_1lbann__comm_ae925ac5eaf2895717c709b252961b3bf}{get\_collective\_buffer}(max\_recv\_count, 1);
612   \}
613   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} step = 1; step < nprocs - 1; ++step) \{
614     \textcolor{comment}{// Compute where the data we get is coming from.}
615     \textcolor{keyword}{const} \textcolor{keywordtype}{int} data\_src = (rank - step - 1 + nprocs) % nprocs;
616     \textcolor{keyword}{auto} recv\_view = mat(El::ALL,
617                          El::IR(slice\_ends[data\_src] - slice\_lengths[data\_src],
618                                 slice\_ends[data\_src]));
619     \textcolor{keywordflow}{if} (opts.id\_recv) \{
620       recv\_buf2 = (uint8\_t *) recv\_view.Buffer();
621       max\_recv\_count = \textcolor{keyword}{sizeof}(DataType) * recv\_view.Height() * recv\_view.Width();
622     \}
623     \hyperlink{classlbann_1_1lbann__comm_ad1f146ae7337ece6266fd307944928e0}{bytes\_sent} += send\_size;
624     \hyperlink{classlbann_1_1lbann__comm_aa520c16eafde742b70daf60866afc6a8}{ar\_bytes\_sent} += send\_size;
625     \hyperlink{classlbann_1_1lbann__comm_a2cfe1264a83865360692c48d7869fe67}{ar\_ag\_bytes\_sent} += send\_size;
626     \textcolor{keywordtype}{double} sendrecv\_start = \hyperlink{namespacelbann_a478d36031ff0659893c4322cd856157f}{get\_time}();
627     El::mpi::SendRecv(recv\_buf, send\_size, dst,
628                       recv\_buf2, max\_recv\_count, src, \hyperlink{file__io_8cpp_ab048c6f9fcbcfaa57ce68b00263dbebe}{comm});
629     \textcolor{keywordtype}{double} sendrecv\_tot = \hyperlink{namespacelbann_a478d36031ff0659893c4322cd856157f}{get\_time}() - sendrecv\_start;
630     \hyperlink{classlbann_1_1lbann__comm_a60a664f47efb52d9936b72d34059d1ef}{ar\_send\_time} += sendrecv\_tot;
631     \hyperlink{classlbann_1_1lbann__comm_a4c9323938961c3524dc67f4b7b47e3ae}{ar\_recv\_time} += sendrecv\_tot;
632     \hyperlink{classlbann_1_1lbann__comm_a64cb0b86e9368c1d83370ba6cb0083ba}{ar\_ag\_send\_time} += sendrecv\_tot;
633     \hyperlink{classlbann_1_1lbann__comm_a1896c3ecd1d5b084497c6ed47c1c9bae}{ar\_ag\_recv\_time} += sendrecv\_tot;
634     \textcolor{keywordtype}{double} recv\_trans\_start = \hyperlink{namespacelbann_a478d36031ff0659893c4322cd856157f}{get\_time}();
635     \textcolor{keywordtype}{int} recv\_size = 0;
636     \textcolor{keywordflow}{if} (opts.id\_recv) \{
637       recv\_size = \textcolor{keyword}{sizeof}(DataType) * recv\_view.Height() * recv\_view.Width();
638     \} \textcolor{keywordflow}{else} \{
639       recv\_size = recv\_transform(recv\_buf2, recv\_view);
640     \}
641     \hyperlink{classlbann_1_1lbann__comm_adb393f47d60eaa59bace80d2d3dd3bf2}{ar\_recv\_transform\_time} += \hyperlink{namespacelbann_a478d36031ff0659893c4322cd856157f}{get\_time}() - recv\_trans\_start;
642     \hyperlink{classlbann_1_1lbann__comm_afb99f57f7eafc0695bf28e6c26a8120f}{bytes\_received} += recv\_size;
643     \textcolor{comment}{// Swap the send and receive buffers.}
644     std::swap(recv\_buf, recv\_buf2);
645     send\_size = recv\_size;
646     \hyperlink{classlbann_1_1lbann__comm_aa5f3c53358bf9002b9fab41918b0c8c1}{ar\_bytes\_received} += recv\_size;
647     \hyperlink{classlbann_1_1lbann__comm_afded6f478dc5021d1edec306dc6c528c}{ar\_ag\_bytes\_received} += send\_size;
648   \}
649   \hyperlink{classlbann_1_1lbann__comm_a48768342eb05c1c6cdaa52c3599b93c8}{ar\_ag\_time} += \hyperlink{namespacelbann_a478d36031ff0659893c4322cd856157f}{get\_time}() - ag\_start;
650   \hyperlink{classlbann_1_1lbann__comm_aa57d2fbeef85fd8a3c9f2a37ca7687c8}{ar\_time} += \hyperlink{namespacelbann_a478d36031ff0659893c4322cd856157f}{get\_time}() - ar\_start;
651 \}
\end{DoxyCode}
Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=334pt]{classlbann_1_1lbann__comm_ac294fe5fa47f283aba31fa1abfa99438_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=334pt]{classlbann_1_1lbann__comm_ac294fe5fa47f283aba31fa1abfa99438_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classlbann_1_1lbann__comm_a925fcf1c15cb8ff10daed1dc1faed9ac}\label{classlbann_1_1lbann__comm_a925fcf1c15cb8ff10daed1dc1faed9ac}} 
\index{lbann\+::lbann\+\_\+comm@{lbann\+::lbann\+\_\+comm}!rabenseifner\+\_\+allreduce@{rabenseifner\+\_\+allreduce}}
\index{rabenseifner\+\_\+allreduce@{rabenseifner\+\_\+allreduce}!lbann\+::lbann\+\_\+comm@{lbann\+::lbann\+\_\+comm}}
\subsubsection{\texorpdfstring{rabenseifner\+\_\+allreduce()}{rabenseifner\_allreduce()}}
{\footnotesize\ttfamily void lbann\+::lbann\+\_\+comm\+::rabenseifner\+\_\+allreduce (\begin{DoxyParamCaption}\item[{const El\+::mpi\+::\+Comm}]{comm,  }\item[{\hyperlink{base_8hpp_a68f11fdc31b62516cb310831bbe54d73}{Mat} \&}]{mat,  }\item[{int}]{max\+\_\+recv\+\_\+count,  }\item[{std\+::function$<$ uint8\+\_\+t $\ast$(\hyperlink{base_8hpp_a68f11fdc31b62516cb310831bbe54d73}{Mat} \&, El\+::\+IR, El\+::\+IR, int \&, bool, int)$>$}]{send\+\_\+transform,  }\item[{std\+::function$<$ int(uint8\+\_\+t $\ast$, \hyperlink{base_8hpp_a68f11fdc31b62516cb310831bbe54d73}{Mat} \&)$>$}]{recv\+\_\+transform,  }\item[{std\+::function$<$ int(uint8\+\_\+t $\ast$, \hyperlink{base_8hpp_a68f11fdc31b62516cb310831bbe54d73}{Mat} \&, bool)$>$}]{recv\+\_\+apply\+\_\+transform,  }\item[{const \hyperlink{structlbann_1_1lbann__comm_1_1allreduce__options}{allreduce\+\_\+options}}]{opts }\end{DoxyParamCaption})}

An allreduce using a recursive-\/halving reduce-\/scatter followed by a recursive-\/doubling allgather. 

Definition at line 826 of file comm.\+cpp.


\begin{DoxyCode}
831                                           \{
832   \textcolor{keywordtype}{double} ar\_start = \hyperlink{namespacelbann_a478d36031ff0659893c4322cd856157f}{get\_time}();
833   \textcolor{keyword}{const} \textcolor{keywordtype}{int} rank = El::mpi::Rank(\hyperlink{file__io_8cpp_ab048c6f9fcbcfaa57ce68b00263dbebe}{comm});
834   \textcolor{keyword}{const} \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} nprocs = El::mpi::Size(\hyperlink{file__io_8cpp_ab048c6f9fcbcfaa57ce68b00263dbebe}{comm});
835   \textcolor{keywordflow}{if} (nprocs == 1) \{
836     \textcolor{keywordflow}{return};  \textcolor{comment}{// Nothing to do.}
837   \}
838   \textcolor{comment}{// This implementation requires a power-of-2 number of processes.}
839   \textcolor{keywordflow}{if} (nprocs & (nprocs - 1)) \{
840     \textcolor{keywordflow}{throw} lbann\_exception(\textcolor{stringliteral}{"lbann\_comm: Rabenseifner allreduce requires"}
841                           \textcolor{stringliteral}{" a power-of-2 number of participating processes"});
842   \}
843   \textcolor{comment}{// Compute the slices on each processor.}
844   \textcolor{keyword}{const} El::Int cols\_per\_proc = mat.Width() / nprocs;
845   \textcolor{keyword}{const} El::Int cols\_remainder = mat.Width() % nprocs;
846   \textcolor{comment}{// Compute the lengths/ends of the slices.}
847   std::vector<El::Int> slice\_lengths(nprocs, cols\_per\_proc);
848   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < cols\_remainder; ++i) \{
849     slice\_lengths[i] += 1;
850   \}
851   std::vector<El::Int> slice\_ends(nprocs);
852   std::partial\_sum(slice\_lengths.begin(), slice\_lengths.end(),
853                    slice\_ends.begin());
854   \textcolor{comment}{// Do a recursive-halving reduce-scatter.}
855   \textcolor{comment}{// In each step here a process sends all the data needed for the other}
856   \textcolor{comment}{// "half" of the processes. i.e. each process sends half their data in the}
857   \textcolor{comment}{// first step, a quarter in the second step, etc.}
858   \textcolor{keywordtype}{double} rs\_start = \hyperlink{namespacelbann_a478d36031ff0659893c4322cd856157f}{get\_time}();
859   \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} partner\_mask = nprocs >> 1;
860   \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} slice\_mask = 1;
861   \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} send\_idx = 0;
862   \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} recv\_idx = 0;
863   \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} last\_idx = nprocs;
864   uint8\_t *recv\_buf = \hyperlink{classlbann_1_1lbann__comm_ae925ac5eaf2895717c709b252961b3bf}{get\_collective\_buffer}(max\_recv\_count);
865   \textcolor{keywordflow}{while} (partner\_mask > 0) \{
866     \textcolor{keywordtype}{int} partner = rank ^ partner\_mask;  \textcolor{comment}{// The rank we exchange with this step.}
867     \textcolor{keyword}{const} \textcolor{keywordtype}{bool} is\_local = opts.no\_local\_trans &&
868                           \hyperlink{classlbann_1_1lbann__comm_a5cdd318d1505ba0f31bf4fe9fadffacc}{is\_rank\_node\_local}(partner, \hyperlink{file__io_8cpp_ab048c6f9fcbcfaa57ce68b00263dbebe}{comm});
869     \textcolor{comment}{// Determine the range of data to send/recv.}
870     El::IR send\_range, recv\_range;
871     \textcolor{keywordflow}{if} (rank < partner) \{
872       send\_idx = recv\_idx + nprocs / (slice\_mask*2);
873       send\_range = El::IR(slice\_ends[send\_idx] - slice\_lengths[send\_idx],
874                           slice\_ends[last\_idx-1]);
875       recv\_range = El::IR(slice\_ends[recv\_idx] - slice\_lengths[recv\_idx],
876                           slice\_ends[send\_idx-1]);
877     \} \textcolor{keywordflow}{else} \{
878       recv\_idx = send\_idx + nprocs / (slice\_mask*2);
879       send\_range = El::IR(slice\_ends[send\_idx] - slice\_lengths[send\_idx],
880                           slice\_ends[recv\_idx-1]);
881       recv\_range = El::IR(slice\_ends[recv\_idx] - slice\_lengths[recv\_idx],
882                           slice\_ends[last\_idx-1]);
883     \}
884     \textcolor{keyword}{auto} recv\_view = mat(El::ALL, recv\_range);
885     \textcolor{comment}{// Transform the data to send.}
886     \textcolor{keywordtype}{double} send\_trans\_start = \hyperlink{namespacelbann_a478d36031ff0659893c4322cd856157f}{get\_time}();
887     \textcolor{keywordtype}{int} send\_size;
888     \textcolor{keywordtype}{int} recv\_size = max\_recv\_count;
889     uint8\_t *send\_buf = \textcolor{keyword}{nullptr};
890     \textcolor{keywordflow}{if} (is\_local) \{
891       \textcolor{keyword}{auto} send\_view = mat(El::ALL, send\_range);
892       send\_buf = (uint8\_t *) send\_view.Buffer();
893       send\_size = \textcolor{keyword}{sizeof}(DataType) * send\_view.Height() * send\_view.Width();
894       recv\_size = \textcolor{keyword}{sizeof}(DataType) * recv\_view.Height() * recv\_view.Width();
895     \} \textcolor{keywordflow}{else} \{
896       send\_buf = send\_transform(mat, El::ALL, send\_range, send\_size, \textcolor{keyword}{false}, 0);
897     \}
898     \hyperlink{classlbann_1_1lbann__comm_a4e3d35520a8f567579f9235e9808ba1c}{ar\_send\_transform\_time} += \hyperlink{namespacelbann_a478d36031ff0659893c4322cd856157f}{get\_time}() - send\_trans\_start;
899     \hyperlink{classlbann_1_1lbann__comm_ad1f146ae7337ece6266fd307944928e0}{bytes\_sent} += send\_size;
900     \hyperlink{classlbann_1_1lbann__comm_aa520c16eafde742b70daf60866afc6a8}{ar\_bytes\_sent} += send\_size;
901     \hyperlink{classlbann_1_1lbann__comm_ac74bcfb565c1bb6604f336c6d1b647cc}{ar\_rs\_bytes\_sent} += send\_size;
902     \textcolor{keywordtype}{double} sendrecv\_start = \hyperlink{namespacelbann_a478d36031ff0659893c4322cd856157f}{get\_time}();
903     El::mpi::SendRecv(send\_buf, send\_size, partner,
904                       recv\_buf, recv\_size, partner, \hyperlink{file__io_8cpp_ab048c6f9fcbcfaa57ce68b00263dbebe}{comm});
905     \textcolor{keywordtype}{double} sendrecv\_tot = \hyperlink{namespacelbann_a478d36031ff0659893c4322cd856157f}{get\_time}() - sendrecv\_start;
906     \hyperlink{classlbann_1_1lbann__comm_a60a664f47efb52d9936b72d34059d1ef}{ar\_send\_time} += sendrecv\_tot;
907     \hyperlink{classlbann_1_1lbann__comm_a4c9323938961c3524dc67f4b7b47e3ae}{ar\_recv\_time} += sendrecv\_tot;
908     \hyperlink{classlbann_1_1lbann__comm_aaadab22d368e8004a9877828a3bc9e93}{ar\_rs\_send\_time} += sendrecv\_tot;
909     \hyperlink{classlbann_1_1lbann__comm_adefa0ee8b0a6b74072448e20d40f502d}{ar\_rs\_recv\_time} += sendrecv\_tot;
910     \textcolor{comment}{// Transform the received data.}
911     \textcolor{keywordtype}{double} recv\_apply\_trans\_start = \hyperlink{namespacelbann_a478d36031ff0659893c4322cd856157f}{get\_time}();
912     recv\_size = recv\_apply\_transform(recv\_buf, recv\_view, is\_local);
913     \hyperlink{classlbann_1_1lbann__comm_aa642b0ae2321fa464b0092da527f6375}{ar\_recv\_apply\_transform\_time} += \hyperlink{namespacelbann_a478d36031ff0659893c4322cd856157f}{get\_time}() - recv\_apply\_trans\_start
      ;
914     \hyperlink{classlbann_1_1lbann__comm_afb99f57f7eafc0695bf28e6c26a8120f}{bytes\_received} += recv\_size;
915     \hyperlink{classlbann_1_1lbann__comm_aa5f3c53358bf9002b9fab41918b0c8c1}{ar\_bytes\_received} += recv\_size;
916     \hyperlink{classlbann_1_1lbann__comm_a2c3e1db0f6d2345748132322b0555db7}{ar\_rs\_bytes\_received} += send\_size;
917     \textcolor{comment}{// Update info for next iteration.}
918     \textcolor{comment}{// Except last\_idx when needed for the allgather.}
919     send\_idx = recv\_idx;
920     partner\_mask >>= 1;
921     slice\_mask <<= 1;
922     \textcolor{keywordflow}{if} (partner\_mask > 0) \{
923       last\_idx = recv\_idx + nprocs / (slice\_mask);
924     \}
925   \}
926   \hyperlink{classlbann_1_1lbann__comm_a85022d803e339eb14a15129a07876c2b}{ar\_rs\_time} += \hyperlink{namespacelbann_a478d36031ff0659893c4322cd856157f}{get\_time}() - rs\_start;
927   \textcolor{comment}{// Do a recursive-doubling algather.}
928   \textcolor{keywordtype}{double} ag\_start = \hyperlink{namespacelbann_a478d36031ff0659893c4322cd856157f}{get\_time}();
929   slice\_mask >>= 1;
930   partner\_mask = 1;
931   \textcolor{comment}{// Now do the remaining steps.}
932   \textcolor{keywordflow}{while} (partner\_mask < nprocs) \{
933     \textcolor{keywordtype}{int} partner = rank ^ partner\_mask;
934     \textcolor{keyword}{const} \textcolor{keywordtype}{bool} is\_local = opts.no\_local\_trans &&
935                           \hyperlink{classlbann_1_1lbann__comm_a5cdd318d1505ba0f31bf4fe9fadffacc}{is\_rank\_node\_local}(partner, \hyperlink{file__io_8cpp_ab048c6f9fcbcfaa57ce68b00263dbebe}{comm});
936     \textcolor{comment}{// Determine range to send/recv.}
937     El::IR send\_range, recv\_range;
938     \textcolor{keywordflow}{if} (rank < partner) \{
939       \textcolor{keywordflow}{if} (slice\_mask != nprocs / 2) \{
940         last\_idx = last\_idx + nprocs / (slice\_mask*2);
941       \}
942       recv\_idx = send\_idx + nprocs / (slice\_mask*2);
943       send\_range = El::IR(slice\_ends[send\_idx] - slice\_lengths[send\_idx],
944                           slice\_ends[recv\_idx-1]);
945       recv\_range = El::IR(slice\_ends[recv\_idx] - slice\_lengths[recv\_idx],
946                           slice\_ends[last\_idx-1]);
947     \} \textcolor{keywordflow}{else} \{
948       recv\_idx = send\_idx - nprocs / (slice\_mask*2);
949       send\_range = El::IR(slice\_ends[send\_idx] - slice\_lengths[send\_idx],
950                           slice\_ends[last\_idx-1]);
951       recv\_range = El::IR(slice\_ends[recv\_idx] - slice\_lengths[recv\_idx],
952                           slice\_ends[send\_idx-1]);
953     \}
954     \textcolor{keyword}{auto} recv\_view = mat(El::ALL, recv\_range);
955     \textcolor{comment}{// Transform the data to send.}
956     \textcolor{keywordtype}{double} send\_trans\_start = \hyperlink{namespacelbann_a478d36031ff0659893c4322cd856157f}{get\_time}();
957     \textcolor{keywordtype}{int} send\_size;
958     \textcolor{keywordtype}{int} recv\_size = max\_recv\_count;
959     uint8\_t *send\_buf = \textcolor{keyword}{nullptr};
960     \textcolor{keywordflow}{if} (is\_local) \{
961       \textcolor{keyword}{auto} send\_view = mat(El::ALL, send\_range);
962       send\_buf = (uint8\_t *) send\_view.Buffer();
963       send\_size = \textcolor{keyword}{sizeof}(DataType) * send\_view.Height() * send\_view.Width();
964       recv\_size = \textcolor{keyword}{sizeof}(DataType) * recv\_view.Height() * recv\_view.Width();
965     \} \textcolor{keywordflow}{else} \{
966       send\_buf = send\_transform(mat, El::ALL, send\_range, send\_size, \textcolor{keyword}{false}, 0);
967     \}
968     \hyperlink{classlbann_1_1lbann__comm_a4e3d35520a8f567579f9235e9808ba1c}{ar\_send\_transform\_time} += \hyperlink{namespacelbann_a478d36031ff0659893c4322cd856157f}{get\_time}() - send\_trans\_start;
969     \textcolor{keywordflow}{if} (opts.id\_recv || is\_local) \{
970       recv\_buf = (uint8\_t *) recv\_view.Buffer();
971       recv\_size = \textcolor{keyword}{sizeof}(DataType) * recv\_view.Height() * recv\_view.Width();
972     \}
973     \hyperlink{classlbann_1_1lbann__comm_ad1f146ae7337ece6266fd307944928e0}{bytes\_sent} += send\_size;
974     \hyperlink{classlbann_1_1lbann__comm_aa520c16eafde742b70daf60866afc6a8}{ar\_bytes\_sent} += send\_size;
975     \hyperlink{classlbann_1_1lbann__comm_a2cfe1264a83865360692c48d7869fe67}{ar\_ag\_bytes\_sent} += send\_size;
976     \textcolor{keywordtype}{double} sendrecv\_start = \hyperlink{namespacelbann_a478d36031ff0659893c4322cd856157f}{get\_time}();
977     El::mpi::SendRecv(send\_buf, send\_size, partner,
978                       recv\_buf, recv\_size, partner, \hyperlink{file__io_8cpp_ab048c6f9fcbcfaa57ce68b00263dbebe}{comm});
979     \textcolor{keywordtype}{double} sendrecv\_tot = \hyperlink{namespacelbann_a478d36031ff0659893c4322cd856157f}{get\_time}() - sendrecv\_start;
980     \hyperlink{classlbann_1_1lbann__comm_a60a664f47efb52d9936b72d34059d1ef}{ar\_send\_time} += sendrecv\_tot;
981     \hyperlink{classlbann_1_1lbann__comm_a4c9323938961c3524dc67f4b7b47e3ae}{ar\_recv\_time} += sendrecv\_tot;
982     \hyperlink{classlbann_1_1lbann__comm_a64cb0b86e9368c1d83370ba6cb0083ba}{ar\_ag\_send\_time} += sendrecv\_tot;
983     \hyperlink{classlbann_1_1lbann__comm_a1896c3ecd1d5b084497c6ed47c1c9bae}{ar\_ag\_recv\_time} += sendrecv\_tot;
984     \textcolor{keywordtype}{double} recv\_trans\_start = \hyperlink{namespacelbann_a478d36031ff0659893c4322cd856157f}{get\_time}();
985     \textcolor{keywordflow}{if} (opts.id\_recv) \{
986       recv\_size = \textcolor{keyword}{sizeof}(DataType) * recv\_view.Height() * recv\_view.Width();
987     \} \textcolor{keywordflow}{else} \{
988       recv\_size = recv\_transform(recv\_buf, recv\_view);
989     \}
990     \hyperlink{classlbann_1_1lbann__comm_adb393f47d60eaa59bace80d2d3dd3bf2}{ar\_recv\_transform\_time} += \hyperlink{namespacelbann_a478d36031ff0659893c4322cd856157f}{get\_time}() - recv\_trans\_start;
991     \hyperlink{classlbann_1_1lbann__comm_afb99f57f7eafc0695bf28e6c26a8120f}{bytes\_received} += recv\_size;
992     \hyperlink{classlbann_1_1lbann__comm_aa5f3c53358bf9002b9fab41918b0c8c1}{ar\_bytes\_received} += recv\_size;
993     \hyperlink{classlbann_1_1lbann__comm_afded6f478dc5021d1edec306dc6c528c}{ar\_ag\_bytes\_received} += send\_size;
994     \textcolor{comment}{// Update for the next iteration.}
995     \textcolor{keywordflow}{if} (rank > partner) \{
996       send\_idx = recv\_idx;
997     \}
998     partner\_mask <<= 1;
999     slice\_mask >>= 1;
1000   \}
1001   \hyperlink{classlbann_1_1lbann__comm_a48768342eb05c1c6cdaa52c3599b93c8}{ar\_ag\_time} += \hyperlink{namespacelbann_a478d36031ff0659893c4322cd856157f}{get\_time}() - ag\_start;
1002   \hyperlink{classlbann_1_1lbann__comm_aa57d2fbeef85fd8a3c9f2a37ca7687c8}{ar\_time} += \hyperlink{namespacelbann_a478d36031ff0659893c4322cd856157f}{get\_time}() - ar\_start;
1003 \}
\end{DoxyCode}
Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=343pt]{classlbann_1_1lbann__comm_a925fcf1c15cb8ff10daed1dc1faed9ac_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=343pt]{classlbann_1_1lbann__comm_a925fcf1c15cb8ff10daed1dc1faed9ac_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classlbann_1_1lbann__comm_a99bc2f8128f0b0e2ebdf876a3a343635}\label{classlbann_1_1lbann__comm_a99bc2f8128f0b0e2ebdf876a3a343635}} 
\index{lbann\+::lbann\+\_\+comm@{lbann\+::lbann\+\_\+comm}!recursive\+\_\+doubling\+\_\+allreduce\+\_\+pow2@{recursive\+\_\+doubling\+\_\+allreduce\+\_\+pow2}}
\index{recursive\+\_\+doubling\+\_\+allreduce\+\_\+pow2@{recursive\+\_\+doubling\+\_\+allreduce\+\_\+pow2}!lbann\+::lbann\+\_\+comm@{lbann\+::lbann\+\_\+comm}}
\subsubsection{\texorpdfstring{recursive\+\_\+doubling\+\_\+allreduce\+\_\+pow2()}{recursive\_doubling\_allreduce\_pow2()}}
{\footnotesize\ttfamily void lbann\+::lbann\+\_\+comm\+::recursive\+\_\+doubling\+\_\+allreduce\+\_\+pow2 (\begin{DoxyParamCaption}\item[{const El\+::mpi\+::\+Comm}]{comm,  }\item[{\hyperlink{base_8hpp_a68f11fdc31b62516cb310831bbe54d73}{Mat} \&}]{mat,  }\item[{int}]{max\+\_\+recv\+\_\+count,  }\item[{std\+::function$<$ uint8\+\_\+t $\ast$(\hyperlink{base_8hpp_a68f11fdc31b62516cb310831bbe54d73}{Mat} \&, El\+::\+IR, El\+::\+IR, int \&, bool, int)$>$}]{send\+\_\+transform,  }\item[{std\+::function$<$ int(uint8\+\_\+t $\ast$, \hyperlink{base_8hpp_a68f11fdc31b62516cb310831bbe54d73}{Mat} \&, bool)$>$}]{recv\+\_\+apply\+\_\+transform,  }\item[{const \hyperlink{structlbann_1_1lbann__comm_1_1allreduce__options}{allreduce\+\_\+options}}]{opts }\end{DoxyParamCaption})}

A recursive-\/doubling allreduce. This implementation only works for a power-\/of-\/2 number of processes. 

Definition at line 376 of file comm.\+cpp.


\begin{DoxyCode}
380                                           \{
381   \textcolor{keywordtype}{double} ar\_start = \hyperlink{namespacelbann_a478d36031ff0659893c4322cd856157f}{get\_time}();
382   \textcolor{keyword}{const} \textcolor{keywordtype}{int} rank = El::mpi::Rank(\hyperlink{file__io_8cpp_ab048c6f9fcbcfaa57ce68b00263dbebe}{comm});
383   \textcolor{keyword}{const} \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} nprocs = El::mpi::Size(\hyperlink{file__io_8cpp_ab048c6f9fcbcfaa57ce68b00263dbebe}{comm});
384   \textcolor{keywordflow}{if} (nprocs == 1) \{
385     \textcolor{keywordflow}{return};  \textcolor{comment}{// Nothing to do.}
386   \}
387   \textcolor{comment}{// This implementation requires a power-of-2 number of processes.}
388   \textcolor{keywordflow}{if} (nprocs & (nprocs - 1)) \{
389     \textcolor{keywordflow}{throw} lbann\_exception(\textcolor{stringliteral}{"lbann\_comm: recursive doubling allreduce requires"}
390                           \textcolor{stringliteral}{" a power-of-2 number of participating processes"});
391   \}
392   uint8\_t *max\_recv\_buf = \hyperlink{classlbann_1_1lbann__comm_ae925ac5eaf2895717c709b252961b3bf}{get\_collective\_buffer}(max\_recv\_count);
393   uint8\_t *recv\_buf = max\_recv\_buf;
394   \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} mask = 1;
395   \textcolor{keywordflow}{while} (mask < nprocs) \{
396     \textcolor{keywordtype}{int} partner = rank ^ mask;  \textcolor{comment}{// The rank we exchange with this step.}
397     \textcolor{keyword}{const} \textcolor{keywordtype}{bool} is\_local = opts.no\_local\_trans &&
398                           \hyperlink{classlbann_1_1lbann__comm_a5cdd318d1505ba0f31bf4fe9fadffacc}{is\_rank\_node\_local}(partner, \hyperlink{file__io_8cpp_ab048c6f9fcbcfaa57ce68b00263dbebe}{comm});
399     \textcolor{comment}{// Transform the data we want to send.}
400     \textcolor{keywordtype}{double} send\_trans\_start = \hyperlink{namespacelbann_a478d36031ff0659893c4322cd856157f}{get\_time}();
401     \textcolor{keywordtype}{int} send\_size;
402     \textcolor{keywordtype}{int} recv\_size = max\_recv\_count;
403     uint8\_t *send\_buf = \textcolor{keyword}{nullptr};
404     \textcolor{keywordflow}{if} (is\_local) \{
405       send\_buf = (uint8\_t *) mat.Buffer();
406       send\_size = \textcolor{keyword}{sizeof}(DataType) * mat.Height() * mat.Width();
407       recv\_size = send\_size;
408       recv\_buf = \hyperlink{classlbann_1_1lbann__comm_ae925ac5eaf2895717c709b252961b3bf}{get\_collective\_buffer}(recv\_size);
409     \} \textcolor{keywordflow}{else} \{
410       send\_buf = send\_transform(mat, El::ALL, El::ALL, send\_size, \textcolor{keyword}{false}, 0);
411       recv\_buf = max\_recv\_buf;
412     \}
413     \hyperlink{classlbann_1_1lbann__comm_a4e3d35520a8f567579f9235e9808ba1c}{ar\_send\_transform\_time} += \hyperlink{namespacelbann_a478d36031ff0659893c4322cd856157f}{get\_time}() - send\_trans\_start;
414     \hyperlink{classlbann_1_1lbann__comm_ad1f146ae7337ece6266fd307944928e0}{bytes\_sent} += send\_size;
415     \hyperlink{classlbann_1_1lbann__comm_aa520c16eafde742b70daf60866afc6a8}{ar\_bytes\_sent} += send\_size;
416     \textcolor{keywordtype}{double} sendrecv\_start = \hyperlink{namespacelbann_a478d36031ff0659893c4322cd856157f}{get\_time}();
417     El::mpi::SendRecv(send\_buf, send\_size, partner,
418                       recv\_buf, recv\_size, partner, \hyperlink{file__io_8cpp_ab048c6f9fcbcfaa57ce68b00263dbebe}{comm});
419     \textcolor{keywordtype}{double} sendrecv\_tot = \hyperlink{namespacelbann_a478d36031ff0659893c4322cd856157f}{get\_time}() - sendrecv\_start;
420     \hyperlink{classlbann_1_1lbann__comm_a60a664f47efb52d9936b72d34059d1ef}{ar\_send\_time} += sendrecv\_tot;
421     \hyperlink{classlbann_1_1lbann__comm_a4c9323938961c3524dc67f4b7b47e3ae}{ar\_recv\_time} += sendrecv\_tot;
422     \textcolor{comment}{// Transform and reduce the received data.}
423     \textcolor{keywordtype}{double} recv\_apply\_trans\_start = \hyperlink{namespacelbann_a478d36031ff0659893c4322cd856157f}{get\_time}();
424     recv\_size = recv\_apply\_transform(recv\_buf, mat, is\_local);
425     \hyperlink{classlbann_1_1lbann__comm_aa642b0ae2321fa464b0092da527f6375}{ar\_recv\_apply\_transform\_time} += \hyperlink{namespacelbann_a478d36031ff0659893c4322cd856157f}{get\_time}() - recv\_apply\_trans\_start
      ;
426     \hyperlink{classlbann_1_1lbann__comm_afb99f57f7eafc0695bf28e6c26a8120f}{bytes\_received} += recv\_size;
427     \hyperlink{classlbann_1_1lbann__comm_aa5f3c53358bf9002b9fab41918b0c8c1}{ar\_bytes\_received} += recv\_size;
428     mask <<= 1;
429   \}
430   \hyperlink{classlbann_1_1lbann__comm_aa57d2fbeef85fd8a3c9f2a37ca7687c8}{ar\_time} += \hyperlink{namespacelbann_a478d36031ff0659893c4322cd856157f}{get\_time}() - ar\_start;
431 \}
\end{DoxyCode}
Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classlbann_1_1lbann__comm_a99bc2f8128f0b0e2ebdf876a3a343635_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classlbann_1_1lbann__comm_a99bc2f8128f0b0e2ebdf876a3a343635_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classlbann_1_1lbann__comm_af8842cd4cea390f76d9146e1c4578de4}\label{classlbann_1_1lbann__comm_af8842cd4cea390f76d9146e1c4578de4}} 
\index{lbann\+::lbann\+\_\+comm@{lbann\+::lbann\+\_\+comm}!recv@{recv}}
\index{recv@{recv}!lbann\+::lbann\+\_\+comm@{lbann\+::lbann\+\_\+comm}}
\subsubsection{\texorpdfstring{recv()}{recv()}\hspace{0.1cm}{\footnotesize\ttfamily [1/9]}}
{\footnotesize\ttfamily template$<$typename T $>$ \\
void lbann\+::lbann\+\_\+comm\+::recv (\begin{DoxyParamCaption}\item[{T $\ast$}]{data,  }\item[{int}]{count,  }\item[{int}]{model,  }\item[{int}]{rank }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}

Corresponding receive to send. 

Definition at line 553 of file comm.\+hpp.


\begin{DoxyCode}
553                                                                            \{
554     El::mpi::Recv(\hyperlink{namespacelbann_1_1cnpy__utils_a9ac86d96ccb1f8b4b2ea16441738781f}{data}, count, \hyperlink{classlbann_1_1lbann__comm_ab3b1ebe8b72575094405eb2e37bb447d}{get\_world\_rank}(\hyperlink{namespacelbann_adee41f31f15f3906cbdcce4a1417eb56a20f35e630daf44dbfa4c3f68f5399d8c}{model}, rank), 
      \hyperlink{classlbann_1_1lbann__comm_a0493f1f0c42b95674daacf5288fdb073}{get\_world\_comm}());
555     \hyperlink{classlbann_1_1lbann__comm_afb99f57f7eafc0695bf28e6c26a8120f}{bytes\_received} += \textcolor{keyword}{sizeof}(T) * count;
556   \}
\end{DoxyCode}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classlbann_1_1lbann__comm_af8842cd4cea390f76d9146e1c4578de4_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classlbann_1_1lbann__comm_a7f2f06772bdee76b4d736c1d7ab84329}\label{classlbann_1_1lbann__comm_a7f2f06772bdee76b4d736c1d7ab84329}} 
\index{lbann\+::lbann\+\_\+comm@{lbann\+::lbann\+\_\+comm}!recv@{recv}}
\index{recv@{recv}!lbann\+::lbann\+\_\+comm@{lbann\+::lbann\+\_\+comm}}
\subsubsection{\texorpdfstring{recv()}{recv()}\hspace{0.1cm}{\footnotesize\ttfamily [2/9]}}
{\footnotesize\ttfamily template$<$typename T $>$ \\
void lbann\+::lbann\+\_\+comm\+::recv (\begin{DoxyParamCaption}\item[{T $\ast$}]{data,  }\item[{int}]{count,  }\item[{int}]{model }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Definition at line 557 of file comm.\+hpp.


\begin{DoxyCode}
557                                                                  \{
558     \hyperlink{classlbann_1_1lbann__comm_af8842cd4cea390f76d9146e1c4578de4}{recv}(\hyperlink{namespacelbann_1_1cnpy__utils_a9ac86d96ccb1f8b4b2ea16441738781f}{data}, count, \hyperlink{namespacelbann_adee41f31f15f3906cbdcce4a1417eb56a20f35e630daf44dbfa4c3f68f5399d8c}{model}, \hyperlink{classlbann_1_1lbann__comm_a0dcccd57c2b591eb7682e192e0a09033}{rank\_in\_model});
559   \}
\end{DoxyCode}
\mbox{\Hypertarget{classlbann_1_1lbann__comm_ac1ed8dd7b6f839b69bfb33f88728b18d}\label{classlbann_1_1lbann__comm_ac1ed8dd7b6f839b69bfb33f88728b18d}} 
\index{lbann\+::lbann\+\_\+comm@{lbann\+::lbann\+\_\+comm}!recv@{recv}}
\index{recv@{recv}!lbann\+::lbann\+\_\+comm@{lbann\+::lbann\+\_\+comm}}
\subsubsection{\texorpdfstring{recv()}{recv()}\hspace{0.1cm}{\footnotesize\ttfamily [3/9]}}
{\footnotesize\ttfamily void lbann\+::lbann\+\_\+comm\+::recv (\begin{DoxyParamCaption}\item[{\hyperlink{base_8hpp_a68f11fdc31b62516cb310831bbe54d73}{Mat} \&}]{mat,  }\item[{int}]{model,  }\item[{int}]{rank }\end{DoxyParamCaption})}



Definition at line 291 of file comm.\+cpp.


\begin{DoxyCode}
291                                                    \{
292   \hyperlink{classlbann_1_1lbann__comm_af8842cd4cea390f76d9146e1c4578de4}{recv}(mat.Buffer(), mat.Height() * mat.Width(), \hyperlink{namespacelbann_adee41f31f15f3906cbdcce4a1417eb56a20f35e630daf44dbfa4c3f68f5399d8c}{model}, rank);
293 \}
\end{DoxyCode}
Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classlbann_1_1lbann__comm_ac1ed8dd7b6f839b69bfb33f88728b18d_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classlbann_1_1lbann__comm_a1376b4f3c0941e19ff23a8baf30eb63d}\label{classlbann_1_1lbann__comm_a1376b4f3c0941e19ff23a8baf30eb63d}} 
\index{lbann\+::lbann\+\_\+comm@{lbann\+::lbann\+\_\+comm}!recv@{recv}}
\index{recv@{recv}!lbann\+::lbann\+\_\+comm@{lbann\+::lbann\+\_\+comm}}
\subsubsection{\texorpdfstring{recv()}{recv()}\hspace{0.1cm}{\footnotesize\ttfamily [4/9]}}
{\footnotesize\ttfamily void lbann\+::lbann\+\_\+comm\+::recv (\begin{DoxyParamCaption}\item[{\hyperlink{base_8hpp_a0fab5387556805cfeac3e7e567bf66c5}{Dist\+Mat} \&}]{mat,  }\item[{int}]{model,  }\item[{int}]{rank }\end{DoxyParamCaption})}



Definition at line 295 of file comm.\+cpp.


\begin{DoxyCode}
295                                                        \{
296   \hyperlink{classlbann_1_1lbann__comm_af8842cd4cea390f76d9146e1c4578de4}{recv}(mat.Buffer(), mat.LocalHeight() * mat.LocalWidth(), \hyperlink{namespacelbann_adee41f31f15f3906cbdcce4a1417eb56a20f35e630daf44dbfa4c3f68f5399d8c}{model}, rank);
297 \}
\end{DoxyCode}
Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classlbann_1_1lbann__comm_a1376b4f3c0941e19ff23a8baf30eb63d_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classlbann_1_1lbann__comm_a6b1ecfe900346c0996fb8066e4f76fe2}\label{classlbann_1_1lbann__comm_a6b1ecfe900346c0996fb8066e4f76fe2}} 
\index{lbann\+::lbann\+\_\+comm@{lbann\+::lbann\+\_\+comm}!recv@{recv}}
\index{recv@{recv}!lbann\+::lbann\+\_\+comm@{lbann\+::lbann\+\_\+comm}}
\subsubsection{\texorpdfstring{recv()}{recv()}\hspace{0.1cm}{\footnotesize\ttfamily [5/9]}}
{\footnotesize\ttfamily void lbann\+::lbann\+\_\+comm\+::recv (\begin{DoxyParamCaption}\item[{\hyperlink{base_8hpp_a68f11fdc31b62516cb310831bbe54d73}{Mat} \&}]{mat,  }\item[{int}]{model }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Definition at line 562 of file comm.\+hpp.


\begin{DoxyCode}
562                                  \{
563     \hyperlink{classlbann_1_1lbann__comm_af8842cd4cea390f76d9146e1c4578de4}{recv}(mat, \hyperlink{namespacelbann_adee41f31f15f3906cbdcce4a1417eb56a20f35e630daf44dbfa4c3f68f5399d8c}{model}, \hyperlink{classlbann_1_1lbann__comm_a0dcccd57c2b591eb7682e192e0a09033}{rank\_in\_model});
564   \}
\end{DoxyCode}
\mbox{\Hypertarget{classlbann_1_1lbann__comm_a018f0451e2a984d28b6a1f099cf9d421}\label{classlbann_1_1lbann__comm_a018f0451e2a984d28b6a1f099cf9d421}} 
\index{lbann\+::lbann\+\_\+comm@{lbann\+::lbann\+\_\+comm}!recv@{recv}}
\index{recv@{recv}!lbann\+::lbann\+\_\+comm@{lbann\+::lbann\+\_\+comm}}
\subsubsection{\texorpdfstring{recv()}{recv()}\hspace{0.1cm}{\footnotesize\ttfamily [6/9]}}
{\footnotesize\ttfamily void lbann\+::lbann\+\_\+comm\+::recv (\begin{DoxyParamCaption}\item[{\hyperlink{base_8hpp_a0fab5387556805cfeac3e7e567bf66c5}{Dist\+Mat} \&}]{mat,  }\item[{int}]{model }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Definition at line 565 of file comm.\+hpp.


\begin{DoxyCode}
565                                      \{
566     \hyperlink{classlbann_1_1lbann__comm_af8842cd4cea390f76d9146e1c4578de4}{recv}(mat, \hyperlink{namespacelbann_adee41f31f15f3906cbdcce4a1417eb56a20f35e630daf44dbfa4c3f68f5399d8c}{model}, \hyperlink{classlbann_1_1lbann__comm_a0dcccd57c2b591eb7682e192e0a09033}{rank\_in\_model});
567   \}
\end{DoxyCode}
\mbox{\Hypertarget{classlbann_1_1lbann__comm_ab96fe808a236d41ecd05c0cc2461dba0}\label{classlbann_1_1lbann__comm_ab96fe808a236d41ecd05c0cc2461dba0}} 
\index{lbann\+::lbann\+\_\+comm@{lbann\+::lbann\+\_\+comm}!recv@{recv}}
\index{recv@{recv}!lbann\+::lbann\+\_\+comm@{lbann\+::lbann\+\_\+comm}}
\subsubsection{\texorpdfstring{recv()}{recv()}\hspace{0.1cm}{\footnotesize\ttfamily [7/9]}}
{\footnotesize\ttfamily template$<$typename T $>$ \\
void lbann\+::lbann\+\_\+comm\+::recv (\begin{DoxyParamCaption}\item[{T $\ast$}]{data,  }\item[{int}]{count }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}

As above, but receive from anyone. 

Definition at line 569 of file comm.\+hpp.


\begin{DoxyCode}
569                                                       \{
570     El::mpi::Recv(\hyperlink{namespacelbann_1_1cnpy__utils_a9ac86d96ccb1f8b4b2ea16441738781f}{data}, count, El::mpi::ANY\_SOURCE, \hyperlink{classlbann_1_1lbann__comm_a0493f1f0c42b95674daacf5288fdb073}{get\_world\_comm}());
571     \hyperlink{classlbann_1_1lbann__comm_afb99f57f7eafc0695bf28e6c26a8120f}{bytes\_received} += \textcolor{keyword}{sizeof}(T) * count;
572   \}
\end{DoxyCode}
\mbox{\Hypertarget{classlbann_1_1lbann__comm_a3d0cca55711c9c9913f3d940c5bba4eb}\label{classlbann_1_1lbann__comm_a3d0cca55711c9c9913f3d940c5bba4eb}} 
\index{lbann\+::lbann\+\_\+comm@{lbann\+::lbann\+\_\+comm}!recv@{recv}}
\index{recv@{recv}!lbann\+::lbann\+\_\+comm@{lbann\+::lbann\+\_\+comm}}
\subsubsection{\texorpdfstring{recv()}{recv()}\hspace{0.1cm}{\footnotesize\ttfamily [8/9]}}
{\footnotesize\ttfamily void lbann\+::lbann\+\_\+comm\+::recv (\begin{DoxyParamCaption}\item[{\hyperlink{base_8hpp_a68f11fdc31b62516cb310831bbe54d73}{Mat} \&}]{mat }\end{DoxyParamCaption})}



Definition at line 299 of file comm.\+cpp.


\begin{DoxyCode}
299                               \{
300   \hyperlink{classlbann_1_1lbann__comm_af8842cd4cea390f76d9146e1c4578de4}{recv}(mat.Buffer(), mat.Height() * mat.Width());
301 \}
\end{DoxyCode}
Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classlbann_1_1lbann__comm_a3d0cca55711c9c9913f3d940c5bba4eb_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classlbann_1_1lbann__comm_acc92b86b30287689870e018b062076f8}\label{classlbann_1_1lbann__comm_acc92b86b30287689870e018b062076f8}} 
\index{lbann\+::lbann\+\_\+comm@{lbann\+::lbann\+\_\+comm}!recv@{recv}}
\index{recv@{recv}!lbann\+::lbann\+\_\+comm@{lbann\+::lbann\+\_\+comm}}
\subsubsection{\texorpdfstring{recv()}{recv()}\hspace{0.1cm}{\footnotesize\ttfamily [9/9]}}
{\footnotesize\ttfamily void lbann\+::lbann\+\_\+comm\+::recv (\begin{DoxyParamCaption}\item[{\hyperlink{base_8hpp_a0fab5387556805cfeac3e7e567bf66c5}{Dist\+Mat} \&}]{mat }\end{DoxyParamCaption})}



Definition at line 303 of file comm.\+cpp.


\begin{DoxyCode}
303                                   \{
304   \hyperlink{classlbann_1_1lbann__comm_af8842cd4cea390f76d9146e1c4578de4}{recv}(mat.Buffer(), mat.LocalHeight() * mat.LocalWidth());
305 \}
\end{DoxyCode}
Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classlbann_1_1lbann__comm_acc92b86b30287689870e018b062076f8_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classlbann_1_1lbann__comm_ab8a2261394c978aa7e4b74ecebc739a8}\label{classlbann_1_1lbann__comm_ab8a2261394c978aa7e4b74ecebc739a8}} 
\index{lbann\+::lbann\+\_\+comm@{lbann\+::lbann\+\_\+comm}!reduce@{reduce}}
\index{reduce@{reduce}!lbann\+::lbann\+\_\+comm@{lbann\+::lbann\+\_\+comm}}
\subsubsection{\texorpdfstring{reduce()}{reduce()}\hspace{0.1cm}{\footnotesize\ttfamily [1/4]}}
{\footnotesize\ttfamily template$<$typename T $>$ \\
void lbann\+::lbann\+\_\+comm\+::reduce (\begin{DoxyParamCaption}\item[{T}]{snd,  }\item[{int}]{root,  }\item[{const El\+::mpi\+::\+Comm}]{c,  }\item[{El\+::mpi\+::\+Op}]{op = {\ttfamily El\+:\+:mpi\+:\+:SUM} }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}

Scalar reduce (for non-\/root processes). 

Definition at line 378 of file comm.\+hpp.


\begin{DoxyCode}
378                                                                          \{
379     \hyperlink{classlbann_1_1lbann__comm_ad1f146ae7337ece6266fd307944928e0}{bytes\_sent} += \textcolor{keyword}{sizeof}(T);
380     El::mpi::Reduce(&snd, (T*) NULL, 1, op, root, c);
381   \}
\end{DoxyCode}
\mbox{\Hypertarget{classlbann_1_1lbann__comm_a982adc23d7e6e6224f8bbd846672e429}\label{classlbann_1_1lbann__comm_a982adc23d7e6e6224f8bbd846672e429}} 
\index{lbann\+::lbann\+\_\+comm@{lbann\+::lbann\+\_\+comm}!reduce@{reduce}}
\index{reduce@{reduce}!lbann\+::lbann\+\_\+comm@{lbann\+::lbann\+\_\+comm}}
\subsubsection{\texorpdfstring{reduce()}{reduce()}\hspace{0.1cm}{\footnotesize\ttfamily [2/4]}}
{\footnotesize\ttfamily template$<$typename T $>$ \\
T lbann\+::lbann\+\_\+comm\+::reduce (\begin{DoxyParamCaption}\item[{T}]{snd,  }\item[{const El\+::mpi\+::\+Comm}]{c,  }\item[{El\+::mpi\+::\+Op}]{op = {\ttfamily El\+:\+:mpi\+:\+:SUM} }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}

Scalar reduce (for root processes). 

Definition at line 384 of file comm.\+hpp.


\begin{DoxyCode}
384                                                             \{
385     T val = \{\};
386     El::mpi::Reduce(&snd, &val, 1, op, El::mpi::Rank(c), c);
387     \hyperlink{classlbann_1_1lbann__comm_afb99f57f7eafc0695bf28e6c26a8120f}{bytes\_received} += \textcolor{keyword}{sizeof}(T) * (El::mpi::Size(c) - 1);
388     \textcolor{keywordflow}{return} val;
389   \}
\end{DoxyCode}
\mbox{\Hypertarget{classlbann_1_1lbann__comm_a5543241da0cf9193fd1f331bbad5dd70}\label{classlbann_1_1lbann__comm_a5543241da0cf9193fd1f331bbad5dd70}} 
\index{lbann\+::lbann\+\_\+comm@{lbann\+::lbann\+\_\+comm}!reduce@{reduce}}
\index{reduce@{reduce}!lbann\+::lbann\+\_\+comm@{lbann\+::lbann\+\_\+comm}}
\subsubsection{\texorpdfstring{reduce()}{reduce()}\hspace{0.1cm}{\footnotesize\ttfamily [3/4]}}
{\footnotesize\ttfamily template$<$typename T $>$ \\
void lbann\+::lbann\+\_\+comm\+::reduce (\begin{DoxyParamCaption}\item[{T $\ast$}]{snd,  }\item[{int}]{count,  }\item[{int}]{root,  }\item[{const El\+::mpi\+::\+Comm}]{c,  }\item[{El\+::mpi\+::\+Op}]{op = {\ttfamily El\+:\+:mpi\+:\+:SUM} }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}

Scalar-\/array reduce (for non-\/root processes). 

Definition at line 392 of file comm.\+hpp.


\begin{DoxyCode}
392                                                                                      \{
393     \hyperlink{classlbann_1_1lbann__comm_ad1f146ae7337ece6266fd307944928e0}{bytes\_sent} += \textcolor{keyword}{sizeof}(T) * count;
394     El::mpi::Reduce(snd, (T*) NULL, count, op, root, c);
395   \}
\end{DoxyCode}
\mbox{\Hypertarget{classlbann_1_1lbann__comm_a476ad01cab90fd01228ec1273a8e389e}\label{classlbann_1_1lbann__comm_a476ad01cab90fd01228ec1273a8e389e}} 
\index{lbann\+::lbann\+\_\+comm@{lbann\+::lbann\+\_\+comm}!reduce@{reduce}}
\index{reduce@{reduce}!lbann\+::lbann\+\_\+comm@{lbann\+::lbann\+\_\+comm}}
\subsubsection{\texorpdfstring{reduce()}{reduce()}\hspace{0.1cm}{\footnotesize\ttfamily [4/4]}}
{\footnotesize\ttfamily template$<$typename T $>$ \\
void lbann\+::lbann\+\_\+comm\+::reduce (\begin{DoxyParamCaption}\item[{T $\ast$}]{snd,  }\item[{int}]{count,  }\item[{T $\ast$}]{rcv,  }\item[{const El\+::mpi\+::\+Comm}]{c,  }\item[{El\+::mpi\+::\+Op}]{op = {\ttfamily El\+:\+:mpi\+:\+:SUM} }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}

Scalar-\/array reduce (for root processes). 

Definition at line 398 of file comm.\+hpp.


\begin{DoxyCode}
398                                                                                    \{
399     El::mpi::Reduce(snd, rcv, count, op, El::mpi::Rank(c), c);
400     \hyperlink{classlbann_1_1lbann__comm_afb99f57f7eafc0695bf28e6c26a8120f}{bytes\_received} += \textcolor{keyword}{sizeof}(T) * count * (El::mpi::Size(c) - 1);
401   \}
\end{DoxyCode}
\mbox{\Hypertarget{classlbann_1_1lbann__comm_adb9afab1b8af03276e6e6347f8021ef5}\label{classlbann_1_1lbann__comm_adb9afab1b8af03276e6e6347f8021ef5}} 
\index{lbann\+::lbann\+\_\+comm@{lbann\+::lbann\+\_\+comm}!reset\+\_\+stats\+\_\+counters@{reset\+\_\+stats\+\_\+counters}}
\index{reset\+\_\+stats\+\_\+counters@{reset\+\_\+stats\+\_\+counters}!lbann\+::lbann\+\_\+comm@{lbann\+::lbann\+\_\+comm}}
\subsubsection{\texorpdfstring{reset\+\_\+stats\+\_\+counters()}{reset\_stats\_counters()}}
{\footnotesize\ttfamily void lbann\+::lbann\+\_\+comm\+::reset\+\_\+stats\+\_\+counters (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Definition at line 723 of file comm.\+hpp.


\begin{DoxyCode}
723                                      \{
724     \hyperlink{classlbann_1_1lbann__comm_aa4f15459eca2a06174a877ba0c23feb7}{num\_model\_barriers} = 0;
725     \hyperlink{classlbann_1_1lbann__comm_a03d946ef5ea5d3b15351e78a2eed10fe}{num\_intermodel\_barriers} = 0;
726     \hyperlink{classlbann_1_1lbann__comm_a4f01e2f2d8220dc34cf39eb4a255cd7d}{num\_global\_barriers} = 0;
727     \hyperlink{classlbann_1_1lbann__comm_ad1f146ae7337ece6266fd307944928e0}{bytes\_sent} = 0;
728     \hyperlink{classlbann_1_1lbann__comm_afb99f57f7eafc0695bf28e6c26a8120f}{bytes\_received} = 0;
729     \hyperlink{classlbann_1_1lbann__comm_aa520c16eafde742b70daf60866afc6a8}{ar\_bytes\_sent} = 0;
730     \hyperlink{classlbann_1_1lbann__comm_aa5f3c53358bf9002b9fab41918b0c8c1}{ar\_bytes\_received} = 0;
731     \hyperlink{classlbann_1_1lbann__comm_ac74bcfb565c1bb6604f336c6d1b647cc}{ar\_rs\_bytes\_sent} = 0;
732     \hyperlink{classlbann_1_1lbann__comm_a2c3e1db0f6d2345748132322b0555db7}{ar\_rs\_bytes\_received} = 0;
733     \hyperlink{classlbann_1_1lbann__comm_a2cfe1264a83865360692c48d7869fe67}{ar\_ag\_bytes\_sent} = 0;
734     \hyperlink{classlbann_1_1lbann__comm_afded6f478dc5021d1edec306dc6c528c}{ar\_ag\_bytes\_received} = 0;
735     \hyperlink{classlbann_1_1lbann__comm_aa57d2fbeef85fd8a3c9f2a37ca7687c8}{ar\_time} = 0.0;
736     \hyperlink{classlbann_1_1lbann__comm_a85022d803e339eb14a15129a07876c2b}{ar\_rs\_time} = 0.0;
737     \hyperlink{classlbann_1_1lbann__comm_a48768342eb05c1c6cdaa52c3599b93c8}{ar\_ag\_time} = 0.0;
738     \hyperlink{classlbann_1_1lbann__comm_a4e3d35520a8f567579f9235e9808ba1c}{ar\_send\_transform\_time} = 0.0;
739     \hyperlink{classlbann_1_1lbann__comm_adb393f47d60eaa59bace80d2d3dd3bf2}{ar\_recv\_transform\_time} = 0.0;
740     \hyperlink{classlbann_1_1lbann__comm_aa642b0ae2321fa464b0092da527f6375}{ar\_recv\_apply\_transform\_time} = 0.0;
741     \hyperlink{classlbann_1_1lbann__comm_a60a664f47efb52d9936b72d34059d1ef}{ar\_send\_time} = 0.0;
742     \hyperlink{classlbann_1_1lbann__comm_a4c9323938961c3524dc67f4b7b47e3ae}{ar\_recv\_time} = 0.0;
743     \hyperlink{classlbann_1_1lbann__comm_aaadab22d368e8004a9877828a3bc9e93}{ar\_rs\_send\_time} = 0.0;
744     \hyperlink{classlbann_1_1lbann__comm_adefa0ee8b0a6b74072448e20d40f502d}{ar\_rs\_recv\_time} = 0.0;
745     \hyperlink{classlbann_1_1lbann__comm_a64cb0b86e9368c1d83370ba6cb0083ba}{ar\_ag\_send\_time} = 0.0;
746     \hyperlink{classlbann_1_1lbann__comm_a1896c3ecd1d5b084497c6ed47c1c9bae}{ar\_ag\_recv\_time} = 0.0;
747   \}
\end{DoxyCode}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classlbann_1_1lbann__comm_adb9afab1b8af03276e6e6347f8021ef5_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classlbann_1_1lbann__comm_a10f13918019cd2e021768e3388355ba2}\label{classlbann_1_1lbann__comm_a10f13918019cd2e021768e3388355ba2}} 
\index{lbann\+::lbann\+\_\+comm@{lbann\+::lbann\+\_\+comm}!reset\+\_\+threads@{reset\+\_\+threads}}
\index{reset\+\_\+threads@{reset\+\_\+threads}!lbann\+::lbann\+\_\+comm@{lbann\+::lbann\+\_\+comm}}
\subsubsection{\texorpdfstring{reset\+\_\+threads()}{reset\_threads()}}
{\footnotesize\ttfamily void lbann\+::lbann\+\_\+comm\+::reset\+\_\+threads (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}

Reset the number of threads per process to the default. 

Definition at line 1058 of file comm.\+cpp.


\begin{DoxyCode}
1058                                \{
1059   \textcolor{keywordflow}{if} (\hyperlink{classlbann_1_1lbann__comm_a23ff8e3563e4472af29d15f6cb823bc1}{threads\_per\_proc} != omp\_get\_max\_threads()) \{
1060     omp\_set\_num\_threads(\hyperlink{classlbann_1_1lbann__comm_a23ff8e3563e4472af29d15f6cb823bc1}{threads\_per\_proc});
1061   \}
1062 \}
\end{DoxyCode}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classlbann_1_1lbann__comm_a10f13918019cd2e021768e3388355ba2_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classlbann_1_1lbann__comm_a88162511dc2733dccd9c245e6c7ba53b}\label{classlbann_1_1lbann__comm_a88162511dc2733dccd9c245e6c7ba53b}} 
\index{lbann\+::lbann\+\_\+comm@{lbann\+::lbann\+\_\+comm}!ring\+\_\+allreduce@{ring\+\_\+allreduce}}
\index{ring\+\_\+allreduce@{ring\+\_\+allreduce}!lbann\+::lbann\+\_\+comm@{lbann\+::lbann\+\_\+comm}}
\subsubsection{\texorpdfstring{ring\+\_\+allreduce()}{ring\_allreduce()}}
{\footnotesize\ttfamily void lbann\+::lbann\+\_\+comm\+::ring\+\_\+allreduce (\begin{DoxyParamCaption}\item[{const El\+::mpi\+::\+Comm}]{comm,  }\item[{\hyperlink{base_8hpp_a68f11fdc31b62516cb310831bbe54d73}{Mat} \&}]{mat,  }\item[{int}]{max\+\_\+recv\+\_\+count,  }\item[{std\+::function$<$ uint8\+\_\+t $\ast$(\hyperlink{base_8hpp_a68f11fdc31b62516cb310831bbe54d73}{Mat} \&, El\+::\+IR, El\+::\+IR, int \&, bool, int)$>$}]{send\+\_\+transform,  }\item[{std\+::function$<$ int(uint8\+\_\+t $\ast$, \hyperlink{base_8hpp_a68f11fdc31b62516cb310831bbe54d73}{Mat} \&)$>$}]{recv\+\_\+transform,  }\item[{std\+::function$<$ int(uint8\+\_\+t $\ast$, \hyperlink{base_8hpp_a68f11fdc31b62516cb310831bbe54d73}{Mat} \&, bool)$>$}]{recv\+\_\+apply\+\_\+transform,  }\item[{const \hyperlink{structlbann_1_1lbann__comm_1_1allreduce__options}{allreduce\+\_\+options}}]{opts }\end{DoxyParamCaption})}

An allreduce using ring-\/based reduce-\/scatter and allgather. 

Definition at line 653 of file comm.\+cpp.


\begin{DoxyCode}
658                                           \{
659   \textcolor{keywordtype}{double} ar\_start = \hyperlink{namespacelbann_a478d36031ff0659893c4322cd856157f}{get\_time}();
660   \textcolor{keyword}{const} \textcolor{keywordtype}{int} rank = El::mpi::Rank(\hyperlink{file__io_8cpp_ab048c6f9fcbcfaa57ce68b00263dbebe}{comm});
661   \textcolor{keyword}{const} \textcolor{keywordtype}{int} nprocs = El::mpi::Size(\hyperlink{file__io_8cpp_ab048c6f9fcbcfaa57ce68b00263dbebe}{comm});
662   \textcolor{keywordflow}{if} (nprocs == 1) \{
663     \textcolor{keywordflow}{return};  \textcolor{comment}{// Nothing to do.}
664   \}
665   \textcolor{comment}{// Compute the number of columns each processor sends.}
666   \textcolor{keyword}{const} El::Int cols\_per\_proc = mat.Width() / nprocs;
667   \textcolor{keyword}{const} El::Int cols\_remainder = mat.Width() % nprocs;
668   \textcolor{comment}{// Compute the lengths/ends of the slices.}
669   std::vector<El::Int> slice\_lengths(nprocs, cols\_per\_proc);
670   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < cols\_remainder; ++i) \{
671     slice\_lengths[i] += 1;
672   \}
673   std::vector<El::Int> slice\_ends(nprocs);
674   std::partial\_sum(slice\_lengths.begin(), slice\_lengths.end(),
675                    slice\_ends.begin());
676   uint8\_t *max\_recv\_buf = \hyperlink{classlbann_1_1lbann__comm_ae925ac5eaf2895717c709b252961b3bf}{get\_collective\_buffer}(max\_recv\_count);
677   uint8\_t *recv\_buf = max\_recv\_buf;
678   \textcolor{comment}{// Compute source/destination in the ring.}
679   \textcolor{keyword}{const} \textcolor{keywordtype}{int} src = (rank - 1 + nprocs) % nprocs;
680   \textcolor{keyword}{const} \textcolor{keywordtype}{int} dst = (rank + 1) % nprocs;
681   \textcolor{keyword}{const} \textcolor{keywordtype}{bool} is\_send\_local = opts.no\_local\_trans &&
682                              \hyperlink{classlbann_1_1lbann__comm_a5cdd318d1505ba0f31bf4fe9fadffacc}{is\_rank\_node\_local}(dst, \hyperlink{file__io_8cpp_ab048c6f9fcbcfaa57ce68b00263dbebe}{comm});
683   \textcolor{keyword}{const} \textcolor{keywordtype}{bool} is\_recv\_local = opts.no\_local\_trans &&
684                              \hyperlink{classlbann_1_1lbann__comm_a5cdd318d1505ba0f31bf4fe9fadffacc}{is\_rank\_node\_local}(src, \hyperlink{file__io_8cpp_ab048c6f9fcbcfaa57ce68b00263dbebe}{comm});
685   \textcolor{comment}{// Do a ring-based reduce-scatter.}
686   \textcolor{comment}{// This is like the pairwise-exchange reduce-scatter except instead of}
687   \textcolor{comment}{// rank i accumulating only slice i, the slices are cycled around and}
688   \textcolor{comment}{// each node accumulates its portion into the slice when it passes}
689   \textcolor{comment}{// through. After the nprocs-1 steps slice k will be on rank}
690   \textcolor{comment}{// (k + nprocs - 1) % nprocs.}
691   \textcolor{keywordtype}{double} rs\_start = \hyperlink{namespacelbann_a478d36031ff0659893c4322cd856157f}{get\_time}();
692   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} step = 0; step < nprocs - 1; ++step) \{
693     \textcolor{comment}{// Compute the slices to send/recv.}
694     \textcolor{keyword}{const} \textcolor{keywordtype}{int} send\_slice = (rank - step + nprocs) % nprocs;
695     \textcolor{keyword}{const} \textcolor{keywordtype}{int} recv\_slice = (rank - step - 1 + nprocs) % nprocs;
696     \textcolor{comment}{// Transform the data to send.}
697     \textcolor{keywordtype}{double} send\_trans\_start = \hyperlink{namespacelbann_a478d36031ff0659893c4322cd856157f}{get\_time}();
698     \textcolor{keywordtype}{int} send\_size;
699     \textcolor{keywordtype}{int} recv\_size = max\_recv\_count;
700     uint8\_t *send\_buf = \textcolor{keyword}{nullptr};
701     \textcolor{keywordflow}{if} (is\_send\_local) \{
702       \textcolor{keyword}{auto} send\_view = mat(El::ALL,
703                            El::IR(slice\_ends[dst] - slice\_lengths[dst], slice\_ends[dst]));
704       send\_buf = (uint8\_t *) send\_view.Buffer();
705       send\_size = \textcolor{keyword}{sizeof}(DataType) * send\_view.Height() * send\_view.Width();
706     \} \textcolor{keywordflow}{else} \{
707       send\_buf = send\_transform(mat, El::ALL,
708                                      El::IR(slice\_ends[send\_slice] - slice\_lengths[send\_slice],
709                                             slice\_ends[send\_slice]), send\_size, \textcolor{keyword}{false}, 0);
710     \}
711     \textcolor{keyword}{auto} recv\_view = mat(El::ALL,
712                          El::IR(slice\_ends[recv\_slice] - slice\_lengths[recv\_slice], slice\_ends[recv\_slice])
      );
713     \textcolor{keywordflow}{if} (is\_recv\_local) \{
714       recv\_size = \textcolor{keyword}{sizeof}(DataType) * recv\_view.Height() * recv\_view.Width();
715       recv\_buf = \hyperlink{classlbann_1_1lbann__comm_ae925ac5eaf2895717c709b252961b3bf}{get\_collective\_buffer}(recv\_size);
716     \} \textcolor{keywordflow}{else} \{
717       recv\_buf = max\_recv\_buf;
718     \}
719     \hyperlink{classlbann_1_1lbann__comm_a4e3d35520a8f567579f9235e9808ba1c}{ar\_send\_transform\_time} += \hyperlink{namespacelbann_a478d36031ff0659893c4322cd856157f}{get\_time}() - send\_trans\_start;
720     \hyperlink{classlbann_1_1lbann__comm_ad1f146ae7337ece6266fd307944928e0}{bytes\_sent} += send\_size;
721     \hyperlink{classlbann_1_1lbann__comm_aa520c16eafde742b70daf60866afc6a8}{ar\_bytes\_sent} += send\_size;
722     \hyperlink{classlbann_1_1lbann__comm_ac74bcfb565c1bb6604f336c6d1b647cc}{ar\_rs\_bytes\_sent} += send\_size;
723     \textcolor{keywordtype}{double} sendrecv\_start = \hyperlink{namespacelbann_a478d36031ff0659893c4322cd856157f}{get\_time}();
724     El::mpi::SendRecv(send\_buf, send\_size, dst,
725                       recv\_buf, recv\_size, src, \hyperlink{file__io_8cpp_ab048c6f9fcbcfaa57ce68b00263dbebe}{comm});
726     \textcolor{keywordtype}{double} sendrecv\_tot = \hyperlink{namespacelbann_a478d36031ff0659893c4322cd856157f}{get\_time}() - sendrecv\_start;
727     \hyperlink{classlbann_1_1lbann__comm_a60a664f47efb52d9936b72d34059d1ef}{ar\_send\_time} += sendrecv\_tot;
728     \hyperlink{classlbann_1_1lbann__comm_a4c9323938961c3524dc67f4b7b47e3ae}{ar\_recv\_time} += sendrecv\_tot;
729     \hyperlink{classlbann_1_1lbann__comm_aaadab22d368e8004a9877828a3bc9e93}{ar\_rs\_send\_time} += sendrecv\_tot;
730     \hyperlink{classlbann_1_1lbann__comm_adefa0ee8b0a6b74072448e20d40f502d}{ar\_rs\_recv\_time} += sendrecv\_tot;
731     \textcolor{keywordtype}{double} recv\_apply\_trans\_start = \hyperlink{namespacelbann_a478d36031ff0659893c4322cd856157f}{get\_time}();
732     recv\_size = recv\_apply\_transform(recv\_buf, recv\_view, is\_recv\_local);
733     \hyperlink{classlbann_1_1lbann__comm_aa642b0ae2321fa464b0092da527f6375}{ar\_recv\_apply\_transform\_time} += \hyperlink{namespacelbann_a478d36031ff0659893c4322cd856157f}{get\_time}() - recv\_apply\_trans\_start
      ;
734     \hyperlink{classlbann_1_1lbann__comm_afb99f57f7eafc0695bf28e6c26a8120f}{bytes\_received} += recv\_size;
735     \hyperlink{classlbann_1_1lbann__comm_aa5f3c53358bf9002b9fab41918b0c8c1}{ar\_bytes\_received} += recv\_size;
736     \hyperlink{classlbann_1_1lbann__comm_a2c3e1db0f6d2345748132322b0555db7}{ar\_rs\_bytes\_received} += recv\_size;
737   \}
738   recv\_buf = max\_recv\_buf;  \textcolor{comment}{// Ensure we're back to the original.}
739   \hyperlink{classlbann_1_1lbann__comm_a85022d803e339eb14a15129a07876c2b}{ar\_rs\_time} += \hyperlink{namespacelbann_a478d36031ff0659893c4322cd856157f}{get\_time}() - rs\_start;
740   \textcolor{comment}{// Do a ring allgather, first applying the transform to local data.}
741   \textcolor{keywordtype}{double} ag\_start = \hyperlink{namespacelbann_a478d36031ff0659893c4322cd856157f}{get\_time}();
742   \textcolor{keywordtype}{int} send\_size;
743   \{
744     \textcolor{keyword}{const} \textcolor{keywordtype}{int} send\_slice = (rank + 1) % nprocs;
745     \textcolor{keyword}{const} \textcolor{keywordtype}{int} recv\_slice = rank;
746     \textcolor{keywordtype}{double} send\_trans\_start = \hyperlink{namespacelbann_a478d36031ff0659893c4322cd856157f}{get\_time}();
747     uint8\_t *send\_buf = send\_transform(
748                           mat, El::ALL, El::IR(slice\_ends[send\_slice] - slice\_lengths[send\_slice],
749                                            slice\_ends[send\_slice]), send\_size, \textcolor{keyword}{false}, 0);
750     \hyperlink{classlbann_1_1lbann__comm_a4e3d35520a8f567579f9235e9808ba1c}{ar\_send\_transform\_time} += \hyperlink{namespacelbann_a478d36031ff0659893c4322cd856157f}{get\_time}() - send\_trans\_start;
751     \hyperlink{classlbann_1_1lbann__comm_ad1f146ae7337ece6266fd307944928e0}{bytes\_sent} += send\_size;
752     \hyperlink{classlbann_1_1lbann__comm_aa520c16eafde742b70daf60866afc6a8}{ar\_bytes\_sent} += send\_size;
753     \hyperlink{classlbann_1_1lbann__comm_a2cfe1264a83865360692c48d7869fe67}{ar\_ag\_bytes\_sent} += send\_size;
754     \textcolor{keyword}{auto} recv\_view = mat(El::ALL,
755                          El::IR(slice\_ends[recv\_slice] - slice\_lengths[recv\_slice],
756                                 slice\_ends[recv\_slice]));
757     \textcolor{comment}{// If we can, receive directly into the destination matrix.}
758     \textcolor{keywordflow}{if} (opts.id\_recv) \{
759       recv\_buf = (uint8\_t *) recv\_view.Buffer();
760       max\_recv\_count = \textcolor{keyword}{sizeof}(DataType) * recv\_view.Height() * recv\_view.Width();
761     \}
762     \textcolor{keywordtype}{double} sendrecv\_start = \hyperlink{namespacelbann_a478d36031ff0659893c4322cd856157f}{get\_time}();
763     El::mpi::SendRecv(send\_buf, send\_size, dst,
764                       recv\_buf, max\_recv\_count, src, \hyperlink{file__io_8cpp_ab048c6f9fcbcfaa57ce68b00263dbebe}{comm});
765     \textcolor{keywordtype}{double} sendrecv\_tot = \hyperlink{namespacelbann_a478d36031ff0659893c4322cd856157f}{get\_time}() - sendrecv\_start;
766     \hyperlink{classlbann_1_1lbann__comm_a60a664f47efb52d9936b72d34059d1ef}{ar\_send\_time} += sendrecv\_tot;
767     \hyperlink{classlbann_1_1lbann__comm_a4c9323938961c3524dc67f4b7b47e3ae}{ar\_recv\_time} += sendrecv\_tot;
768     \hyperlink{classlbann_1_1lbann__comm_a64cb0b86e9368c1d83370ba6cb0083ba}{ar\_ag\_send\_time} += sendrecv\_tot;
769     \hyperlink{classlbann_1_1lbann__comm_a1896c3ecd1d5b084497c6ed47c1c9bae}{ar\_ag\_recv\_time} += sendrecv\_tot;
770     \textcolor{keywordtype}{double} recv\_trans\_start = \hyperlink{namespacelbann_a478d36031ff0659893c4322cd856157f}{get\_time}();
771     \textcolor{keywordtype}{int} recv\_size = 0;
772     \textcolor{keywordflow}{if} (opts.id\_recv) \{
773       recv\_size = \textcolor{keyword}{sizeof}(DataType) * recv\_view.Height() * recv\_view.Width();
774     \} \textcolor{keywordflow}{else} \{
775       recv\_size = recv\_transform(recv\_buf, recv\_view);
776     \}
777     \hyperlink{classlbann_1_1lbann__comm_adb393f47d60eaa59bace80d2d3dd3bf2}{ar\_recv\_transform\_time} += \hyperlink{namespacelbann_a478d36031ff0659893c4322cd856157f}{get\_time}() - recv\_trans\_start;
778     send\_size = recv\_size;
779     \hyperlink{classlbann_1_1lbann__comm_afb99f57f7eafc0695bf28e6c26a8120f}{bytes\_received} += recv\_size;
780     \hyperlink{classlbann_1_1lbann__comm_aa5f3c53358bf9002b9fab41918b0c8c1}{ar\_bytes\_received} += recv\_size;
781     \hyperlink{classlbann_1_1lbann__comm_afded6f478dc5021d1edec306dc6c528c}{ar\_ag\_bytes\_received} += recv\_size;
782   \}
783   uint8\_t *recv\_buf2 = \textcolor{keyword}{nullptr};
784   \textcolor{keywordflow}{if} (!opts.id\_recv) \{
785     recv\_buf2 = \hyperlink{classlbann_1_1lbann__comm_ae925ac5eaf2895717c709b252961b3bf}{get\_collective\_buffer}(max\_recv\_count, 1);
786   \}
787   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} step = 1; step < nprocs - 1; ++step) \{
788     \textcolor{keyword}{const} \textcolor{keywordtype}{int} recv\_slice = (rank - step + nprocs) % nprocs;
789     \textcolor{keyword}{auto} recv\_view = mat(El::ALL,
790                          El::IR(slice\_ends[recv\_slice] - slice\_lengths[recv\_slice],
791                                 slice\_ends[recv\_slice]));
792     \textcolor{keywordflow}{if} (opts.id\_recv) \{
793       recv\_buf2 = (uint8\_t *) recv\_view.Buffer();
794       max\_recv\_count = \textcolor{keyword}{sizeof}(DataType) * recv\_view.Height() * recv\_view.Width();
795     \}
796     \hyperlink{classlbann_1_1lbann__comm_ad1f146ae7337ece6266fd307944928e0}{bytes\_sent} += send\_size;
797     \hyperlink{classlbann_1_1lbann__comm_aa520c16eafde742b70daf60866afc6a8}{ar\_bytes\_sent} += send\_size;
798     \hyperlink{classlbann_1_1lbann__comm_a2cfe1264a83865360692c48d7869fe67}{ar\_ag\_bytes\_sent} += send\_size;
799     \textcolor{keywordtype}{double} sendrecv\_start = \hyperlink{namespacelbann_a478d36031ff0659893c4322cd856157f}{get\_time}();
800     El::mpi::SendRecv(recv\_buf, send\_size, dst,
801                       recv\_buf2, max\_recv\_count, src, \hyperlink{file__io_8cpp_ab048c6f9fcbcfaa57ce68b00263dbebe}{comm});
802     \textcolor{keywordtype}{double} sendrecv\_tot = \hyperlink{namespacelbann_a478d36031ff0659893c4322cd856157f}{get\_time}() - sendrecv\_start;
803     \hyperlink{classlbann_1_1lbann__comm_a60a664f47efb52d9936b72d34059d1ef}{ar\_send\_time} += sendrecv\_tot;
804     \hyperlink{classlbann_1_1lbann__comm_a4c9323938961c3524dc67f4b7b47e3ae}{ar\_recv\_time} += sendrecv\_tot;
805     \hyperlink{classlbann_1_1lbann__comm_a64cb0b86e9368c1d83370ba6cb0083ba}{ar\_ag\_send\_time} += sendrecv\_tot;
806     \hyperlink{classlbann_1_1lbann__comm_a1896c3ecd1d5b084497c6ed47c1c9bae}{ar\_ag\_recv\_time} += sendrecv\_tot;
807     \textcolor{keywordtype}{double} recv\_trans\_start = \hyperlink{namespacelbann_a478d36031ff0659893c4322cd856157f}{get\_time}();
808     \textcolor{keywordtype}{int} recv\_size = 0;
809     \textcolor{keywordflow}{if} (opts.id\_recv) \{
810       recv\_size = \textcolor{keyword}{sizeof}(DataType) * recv\_view.Height() * recv\_view.Width();
811     \} \textcolor{keywordflow}{else} \{
812       recv\_size = recv\_transform(recv\_buf2, recv\_view);
813     \}
814     \hyperlink{classlbann_1_1lbann__comm_adb393f47d60eaa59bace80d2d3dd3bf2}{ar\_recv\_transform\_time} += \hyperlink{namespacelbann_a478d36031ff0659893c4322cd856157f}{get\_time}() - recv\_trans\_start;
815     \textcolor{comment}{// Swap the send and receive buffers.}
816     std::swap(recv\_buf, recv\_buf2);
817     send\_size = recv\_size;
818     \hyperlink{classlbann_1_1lbann__comm_afb99f57f7eafc0695bf28e6c26a8120f}{bytes\_received} += recv\_size;
819     \hyperlink{classlbann_1_1lbann__comm_aa5f3c53358bf9002b9fab41918b0c8c1}{ar\_bytes\_received} += recv\_size;
820     \hyperlink{classlbann_1_1lbann__comm_afded6f478dc5021d1edec306dc6c528c}{ar\_ag\_bytes\_received} += recv\_size;
821   \}
822   \hyperlink{classlbann_1_1lbann__comm_a48768342eb05c1c6cdaa52c3599b93c8}{ar\_ag\_time} += \hyperlink{namespacelbann_a478d36031ff0659893c4322cd856157f}{get\_time}() - ag\_start;
823   \hyperlink{classlbann_1_1lbann__comm_aa57d2fbeef85fd8a3c9f2a37ca7687c8}{ar\_time} += \hyperlink{namespacelbann_a478d36031ff0659893c4322cd856157f}{get\_time}() - ar\_start;
824 \}
\end{DoxyCode}
Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=334pt]{classlbann_1_1lbann__comm_a88162511dc2733dccd9c245e6c7ba53b_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=334pt]{classlbann_1_1lbann__comm_a88162511dc2733dccd9c245e6c7ba53b_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classlbann_1_1lbann__comm_a74b5c594bfa5aec03af9ad2bd8f5e979}\label{classlbann_1_1lbann__comm_a74b5c594bfa5aec03af9ad2bd8f5e979}} 
\index{lbann\+::lbann\+\_\+comm@{lbann\+::lbann\+\_\+comm}!scatter@{scatter}}
\index{scatter@{scatter}!lbann\+::lbann\+\_\+comm@{lbann\+::lbann\+\_\+comm}}
\subsubsection{\texorpdfstring{scatter()}{scatter()}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily template$<$typename T $>$ \\
T lbann\+::lbann\+\_\+comm\+::scatter (\begin{DoxyParamCaption}\item[{int}]{root,  }\item[{const El\+::mpi\+::\+Comm}]{c }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}

Scalar scatter (for non-\/root processes). 

Definition at line 332 of file comm.\+hpp.


\begin{DoxyCode}
332                                          \{
333     T val = \{\};
334     El::mpi::Scatter((T*) \textcolor{keyword}{nullptr}, 0, &val, 1, root, c);
335     \hyperlink{classlbann_1_1lbann__comm_afb99f57f7eafc0695bf28e6c26a8120f}{bytes\_received} += \textcolor{keyword}{sizeof}(T);
336     \textcolor{keywordflow}{return} val;
337   \}
\end{DoxyCode}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classlbann_1_1lbann__comm_a74b5c594bfa5aec03af9ad2bd8f5e979_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classlbann_1_1lbann__comm_a4918100a99e03a6bca3ec304cb282172}\label{classlbann_1_1lbann__comm_a4918100a99e03a6bca3ec304cb282172}} 
\index{lbann\+::lbann\+\_\+comm@{lbann\+::lbann\+\_\+comm}!scatter@{scatter}}
\index{scatter@{scatter}!lbann\+::lbann\+\_\+comm@{lbann\+::lbann\+\_\+comm}}
\subsubsection{\texorpdfstring{scatter()}{scatter()}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily template$<$typename T $>$ \\
T lbann\+::lbann\+\_\+comm\+::scatter (\begin{DoxyParamCaption}\item[{T $\ast$}]{snd,  }\item[{const El\+::mpi\+::\+Comm}]{c }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}

Scalar scatter (for root processes). 

Definition at line 340 of file comm.\+hpp.


\begin{DoxyCode}
340                                        \{
341     \hyperlink{classlbann_1_1lbann__comm_ad1f146ae7337ece6266fd307944928e0}{bytes\_sent} += \textcolor{keyword}{sizeof}(T) * (El::mpi::Size(c) - 1);
342     T val = \{\};
343     El::mpi::Scatter(snd, 1, &val, 1, El::mpi::Rank(c), c);
344     \textcolor{keywordflow}{return} val;
345   \}
\end{DoxyCode}
\mbox{\Hypertarget{classlbann_1_1lbann__comm_a086078b881e7250df140ac116adb1939}\label{classlbann_1_1lbann__comm_a086078b881e7250df140ac116adb1939}} 
\index{lbann\+::lbann\+\_\+comm@{lbann\+::lbann\+\_\+comm}!send@{send}}
\index{send@{send}!lbann\+::lbann\+\_\+comm@{lbann\+::lbann\+\_\+comm}}
\subsubsection{\texorpdfstring{send()}{send()}\hspace{0.1cm}{\footnotesize\ttfamily [1/6]}}
{\footnotesize\ttfamily template$<$typename T $>$ \\
void lbann\+::lbann\+\_\+comm\+::send (\begin{DoxyParamCaption}\item[{const T $\ast$}]{data,  }\item[{int}]{count,  }\item[{int}]{model,  }\item[{int}]{rank }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}

Send a buffer to rank in model. 

Definition at line 514 of file comm.\+hpp.


\begin{DoxyCode}
514                                                            \{
515     \hyperlink{classlbann_1_1lbann__comm_ad1f146ae7337ece6266fd307944928e0}{bytes\_sent} += \textcolor{keyword}{sizeof}(T) * count;
516     El::mpi::Send(\hyperlink{namespacelbann_1_1cnpy__utils_a9ac86d96ccb1f8b4b2ea16441738781f}{data}, count, \hyperlink{classlbann_1_1lbann__comm_ab3b1ebe8b72575094405eb2e37bb447d}{get\_world\_rank}(\hyperlink{namespacelbann_adee41f31f15f3906cbdcce4a1417eb56a20f35e630daf44dbfa4c3f68f5399d8c}{model}, rank), 
      \hyperlink{classlbann_1_1lbann__comm_a0493f1f0c42b95674daacf5288fdb073}{get\_world\_comm}());
517   \}
\end{DoxyCode}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classlbann_1_1lbann__comm_a086078b881e7250df140ac116adb1939_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classlbann_1_1lbann__comm_a12ddcc441fa1073aff23797c3c923ef6}\label{classlbann_1_1lbann__comm_a12ddcc441fa1073aff23797c3c923ef6}} 
\index{lbann\+::lbann\+\_\+comm@{lbann\+::lbann\+\_\+comm}!send@{send}}
\index{send@{send}!lbann\+::lbann\+\_\+comm@{lbann\+::lbann\+\_\+comm}}
\subsubsection{\texorpdfstring{send()}{send()}\hspace{0.1cm}{\footnotesize\ttfamily [2/6]}}
{\footnotesize\ttfamily template$<$typename T $>$ \\
void lbann\+::lbann\+\_\+comm\+::send (\begin{DoxyParamCaption}\item[{const T $\ast$}]{data,  }\item[{int}]{count,  }\item[{int}]{model }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Definition at line 518 of file comm.\+hpp.


\begin{DoxyCode}
518                                                                        \{
519     \hyperlink{classlbann_1_1lbann__comm_a086078b881e7250df140ac116adb1939}{send}(\hyperlink{namespacelbann_1_1cnpy__utils_a9ac86d96ccb1f8b4b2ea16441738781f}{data}, count, \hyperlink{namespacelbann_adee41f31f15f3906cbdcce4a1417eb56a20f35e630daf44dbfa4c3f68f5399d8c}{model}, \hyperlink{classlbann_1_1lbann__comm_a0dcccd57c2b591eb7682e192e0a09033}{rank\_in\_model});
520   \}
\end{DoxyCode}
\mbox{\Hypertarget{classlbann_1_1lbann__comm_ac3fa03c3ee8351daed6c7a5fd6f8535d}\label{classlbann_1_1lbann__comm_ac3fa03c3ee8351daed6c7a5fd6f8535d}} 
\index{lbann\+::lbann\+\_\+comm@{lbann\+::lbann\+\_\+comm}!send@{send}}
\index{send@{send}!lbann\+::lbann\+\_\+comm@{lbann\+::lbann\+\_\+comm}}
\subsubsection{\texorpdfstring{send()}{send()}\hspace{0.1cm}{\footnotesize\ttfamily [3/6]}}
{\footnotesize\ttfamily void lbann\+::lbann\+\_\+comm\+::send (\begin{DoxyParamCaption}\item[{const \hyperlink{base_8hpp_a68f11fdc31b62516cb310831bbe54d73}{Mat} \&}]{mat,  }\item[{int}]{model,  }\item[{int}]{rank }\end{DoxyParamCaption})}



Definition at line 272 of file comm.\+cpp.


\begin{DoxyCode}
272                                                          \{
273   \hyperlink{classlbann_1_1lbann__comm_a086078b881e7250df140ac116adb1939}{send}(mat.LockedBuffer(), mat.Height() * mat.Width(), \hyperlink{namespacelbann_adee41f31f15f3906cbdcce4a1417eb56a20f35e630daf44dbfa4c3f68f5399d8c}{model}, rank);
274 \}
\end{DoxyCode}
Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classlbann_1_1lbann__comm_ac3fa03c3ee8351daed6c7a5fd6f8535d_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classlbann_1_1lbann__comm_ae6ad297cccfc9ed893b855046d60b34d}\label{classlbann_1_1lbann__comm_ae6ad297cccfc9ed893b855046d60b34d}} 
\index{lbann\+::lbann\+\_\+comm@{lbann\+::lbann\+\_\+comm}!send@{send}}
\index{send@{send}!lbann\+::lbann\+\_\+comm@{lbann\+::lbann\+\_\+comm}}
\subsubsection{\texorpdfstring{send()}{send()}\hspace{0.1cm}{\footnotesize\ttfamily [4/6]}}
{\footnotesize\ttfamily void lbann\+::lbann\+\_\+comm\+::send (\begin{DoxyParamCaption}\item[{const \hyperlink{base_8hpp_a0fab5387556805cfeac3e7e567bf66c5}{Dist\+Mat} \&}]{mat,  }\item[{int}]{model,  }\item[{int}]{rank }\end{DoxyParamCaption})}



Definition at line 276 of file comm.\+cpp.


\begin{DoxyCode}
276                                                              \{
277   \hyperlink{classlbann_1_1lbann__comm_a086078b881e7250df140ac116adb1939}{send}(mat.LockedBuffer(), mat.LocalHeight() * mat.LocalWidth(), \hyperlink{namespacelbann_adee41f31f15f3906cbdcce4a1417eb56a20f35e630daf44dbfa4c3f68f5399d8c}{model}, rank);
278 \}
\end{DoxyCode}
Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classlbann_1_1lbann__comm_ae6ad297cccfc9ed893b855046d60b34d_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classlbann_1_1lbann__comm_a4dc53b43a36e597a0c11266ea3c6d7f7}\label{classlbann_1_1lbann__comm_a4dc53b43a36e597a0c11266ea3c6d7f7}} 
\index{lbann\+::lbann\+\_\+comm@{lbann\+::lbann\+\_\+comm}!send@{send}}
\index{send@{send}!lbann\+::lbann\+\_\+comm@{lbann\+::lbann\+\_\+comm}}
\subsubsection{\texorpdfstring{send()}{send()}\hspace{0.1cm}{\footnotesize\ttfamily [5/6]}}
{\footnotesize\ttfamily void lbann\+::lbann\+\_\+comm\+::send (\begin{DoxyParamCaption}\item[{const \hyperlink{base_8hpp_a68f11fdc31b62516cb310831bbe54d73}{Mat} \&}]{mat,  }\item[{int}]{model }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Definition at line 523 of file comm.\+hpp.


\begin{DoxyCode}
523                                        \{
524     \hyperlink{classlbann_1_1lbann__comm_a086078b881e7250df140ac116adb1939}{send}(mat, \hyperlink{namespacelbann_adee41f31f15f3906cbdcce4a1417eb56a20f35e630daf44dbfa4c3f68f5399d8c}{model}, \hyperlink{classlbann_1_1lbann__comm_a0dcccd57c2b591eb7682e192e0a09033}{rank\_in\_model});
525   \}
\end{DoxyCode}
\mbox{\Hypertarget{classlbann_1_1lbann__comm_aeb76535e61e5bc669ebadad223e4add7}\label{classlbann_1_1lbann__comm_aeb76535e61e5bc669ebadad223e4add7}} 
\index{lbann\+::lbann\+\_\+comm@{lbann\+::lbann\+\_\+comm}!send@{send}}
\index{send@{send}!lbann\+::lbann\+\_\+comm@{lbann\+::lbann\+\_\+comm}}
\subsubsection{\texorpdfstring{send()}{send()}\hspace{0.1cm}{\footnotesize\ttfamily [6/6]}}
{\footnotesize\ttfamily void lbann\+::lbann\+\_\+comm\+::send (\begin{DoxyParamCaption}\item[{const \hyperlink{base_8hpp_a0fab5387556805cfeac3e7e567bf66c5}{Dist\+Mat} \&}]{mat,  }\item[{int}]{model }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Definition at line 526 of file comm.\+hpp.


\begin{DoxyCode}
526                                            \{
527     \hyperlink{classlbann_1_1lbann__comm_a086078b881e7250df140ac116adb1939}{send}(mat, \hyperlink{namespacelbann_adee41f31f15f3906cbdcce4a1417eb56a20f35e630daf44dbfa4c3f68f5399d8c}{model}, \hyperlink{classlbann_1_1lbann__comm_a0dcccd57c2b591eb7682e192e0a09033}{rank\_in\_model});
528   \}
\end{DoxyCode}
\mbox{\Hypertarget{classlbann_1_1lbann__comm_a6314e3b07b21b8fb0cd2ebe1e49dddb9}\label{classlbann_1_1lbann__comm_a6314e3b07b21b8fb0cd2ebe1e49dddb9}} 
\index{lbann\+::lbann\+\_\+comm@{lbann\+::lbann\+\_\+comm}!sendrecv@{sendrecv}}
\index{sendrecv@{sendrecv}!lbann\+::lbann\+\_\+comm@{lbann\+::lbann\+\_\+comm}}
\subsubsection{\texorpdfstring{sendrecv()}{sendrecv()}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily template$<$typename T $>$ \\
void lbann\+::lbann\+\_\+comm\+::sendrecv (\begin{DoxyParamCaption}\item[{const T $\ast$}]{snd,  }\item[{int}]{send\+\_\+count,  }\item[{int}]{send\+\_\+model,  }\item[{int}]{send\+\_\+rank,  }\item[{T $\ast$}]{rcv,  }\item[{int}]{recv\+\_\+count,  }\item[{int}]{recv\+\_\+model,  }\item[{int}]{recv\+\_\+rank }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}

Send/recv to/from ranks. 

Definition at line 604 of file comm.\+hpp.


\begin{DoxyCode}
605                                                                        \{
606     \hyperlink{classlbann_1_1lbann__comm_ad1f146ae7337ece6266fd307944928e0}{bytes\_sent} += \textcolor{keyword}{sizeof}(T) * send\_count;
607     \hyperlink{classlbann_1_1lbann__comm_afb99f57f7eafc0695bf28e6c26a8120f}{bytes\_received} += \textcolor{keyword}{sizeof}(T) * recv\_count;
608     El::mpi::SendRecv(snd, send\_count, \hyperlink{classlbann_1_1lbann__comm_ab3b1ebe8b72575094405eb2e37bb447d}{get\_world\_rank}(send\_model, send\_rank),
609                       rcv, recv\_count, \hyperlink{classlbann_1_1lbann__comm_ab3b1ebe8b72575094405eb2e37bb447d}{get\_world\_rank}(recv\_model, recv\_rank),
610                       \hyperlink{classlbann_1_1lbann__comm_a0493f1f0c42b95674daacf5288fdb073}{get\_world\_comm}());
611   \}
\end{DoxyCode}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classlbann_1_1lbann__comm_a6314e3b07b21b8fb0cd2ebe1e49dddb9_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classlbann_1_1lbann__comm_a61e8479f25d209be238f1b61115f7a0d}\label{classlbann_1_1lbann__comm_a61e8479f25d209be238f1b61115f7a0d}} 
\index{lbann\+::lbann\+\_\+comm@{lbann\+::lbann\+\_\+comm}!sendrecv@{sendrecv}}
\index{sendrecv@{sendrecv}!lbann\+::lbann\+\_\+comm@{lbann\+::lbann\+\_\+comm}}
\subsubsection{\texorpdfstring{sendrecv()}{sendrecv()}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily template$<$typename T $>$ \\
void lbann\+::lbann\+\_\+comm\+::sendrecv (\begin{DoxyParamCaption}\item[{const T $\ast$}]{snd,  }\item[{int}]{send\+\_\+count,  }\item[{int}]{send\+\_\+model,  }\item[{T $\ast$}]{rcv,  }\item[{int}]{recv\+\_\+count,  }\item[{int}]{recv\+\_\+model }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Definition at line 613 of file comm.\+hpp.


\begin{DoxyCode}
614                                                         \{
615     \hyperlink{classlbann_1_1lbann__comm_a6314e3b07b21b8fb0cd2ebe1e49dddb9}{sendrecv}(snd, send\_count, send\_model, \hyperlink{classlbann_1_1lbann__comm_a0dcccd57c2b591eb7682e192e0a09033}{rank\_in\_model},
616              rcv, recv\_count, recv\_model, \hyperlink{classlbann_1_1lbann__comm_a0dcccd57c2b591eb7682e192e0a09033}{rank\_in\_model});
617   \}
\end{DoxyCode}
\mbox{\Hypertarget{classlbann_1_1lbann__comm_aaae50e4643ca06671e7cb7872d455708}\label{classlbann_1_1lbann__comm_aaae50e4643ca06671e7cb7872d455708}} 
\index{lbann\+::lbann\+\_\+comm@{lbann\+::lbann\+\_\+comm}!set\+\_\+default\+\_\+allreduce\+\_\+algorithm@{set\+\_\+default\+\_\+allreduce\+\_\+algorithm}}
\index{set\+\_\+default\+\_\+allreduce\+\_\+algorithm@{set\+\_\+default\+\_\+allreduce\+\_\+algorithm}!lbann\+::lbann\+\_\+comm@{lbann\+::lbann\+\_\+comm}}
\subsubsection{\texorpdfstring{set\+\_\+default\+\_\+allreduce\+\_\+algorithm()}{set\_default\_allreduce\_algorithm()}}
{\footnotesize\ttfamily void lbann\+::lbann\+\_\+comm\+::set\+\_\+default\+\_\+allreduce\+\_\+algorithm (\begin{DoxyParamCaption}\item[{\hyperlink{classlbann_1_1lbann__comm_a02a03227cc27e3516f0d9f9812f32019}{allreduce\+\_\+algorithm}}]{algo }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}

Set the default allreduce algorithm to algo. Do {\itshape not} set it to D\+E\+F\+A\+U\+LT. 

Definition at line 798 of file comm.\+hpp.


\begin{DoxyCode}
798                                                                  \{
799     \hyperlink{classlbann_1_1lbann__comm_ac7731d6bcdb6775009467cf4138d4bab}{default\_allreduce\_algo} = algo;
800   \}
\end{DoxyCode}
\mbox{\Hypertarget{classlbann_1_1lbann__comm_a44bc6b8683f04c2a3fc2f01fc734a946}\label{classlbann_1_1lbann__comm_a44bc6b8683f04c2a3fc2f01fc734a946}} 
\index{lbann\+::lbann\+\_\+comm@{lbann\+::lbann\+\_\+comm}!setup\+\_\+node\+\_\+comm@{setup\+\_\+node\+\_\+comm}}
\index{setup\+\_\+node\+\_\+comm@{setup\+\_\+node\+\_\+comm}!lbann\+::lbann\+\_\+comm@{lbann\+::lbann\+\_\+comm}}
\subsubsection{\texorpdfstring{setup\+\_\+node\+\_\+comm()}{setup\_node\_comm()}}
{\footnotesize\ttfamily void lbann\+::lbann\+\_\+comm\+::setup\+\_\+node\+\_\+comm (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}

Setup communicator for processes in the same compute node. 

Definition at line 1005 of file comm.\+cpp.


\begin{DoxyCode}
1005                                  \{
1006 
1007   \textcolor{comment}{// Get string specifying compute node}
1008   \textcolor{keywordtype}{char} node\_name[MPI\_MAX\_PROCESSOR\_NAME];
1009   \textcolor{keywordtype}{int} node\_name\_len;
1010   \hyperlink{comm_8cpp_a7a92ceb4ddf57dc156d3a1b39f3ab962}{checkMPI}(MPI\_Get\_processor\_name(node\_name, &node\_name\_len));
1011   \textcolor{keyword}{const} std::string node\_string(node\_name);
1012 
1013   \textcolor{comment}{// Hash node names and split MPI processes}
1014   \textcolor{keywordtype}{int} hash = std::hash<std::string>()(node\_string);
1015   hash = hash >= 0 ? hash : -hash;  \textcolor{comment}{// Make sure hash is non-negative}
1016   El::mpi::Comm hash\_comm;
1017   El::mpi::Split(\hyperlink{classlbann_1_1lbann__comm_a0493f1f0c42b95674daacf5288fdb073}{get\_world\_comm}(), hash,
1018                  El::mpi::Rank(\hyperlink{classlbann_1_1lbann__comm_a0493f1f0c42b95674daacf5288fdb073}{get\_world\_comm}()), hash\_comm);
1019   \textcolor{keyword}{const} \textcolor{keywordtype}{int} hash\_comm\_size = El::mpi::Size(hash\_comm);
1020 
1021   \textcolor{comment}{// Compare node names and split MPI processes}
1022   \textcolor{keyword}{auto} *node\_name\_list = \textcolor{keyword}{new} \textcolor{keywordtype}{char}[hash\_comm\_size*MPI\_MAX\_PROCESSOR\_NAME];
1023   \hyperlink{comm_8cpp_a7a92ceb4ddf57dc156d3a1b39f3ab962}{checkMPI}(MPI\_Allgather(node\_name, MPI\_MAX\_PROCESSOR\_NAME, MPI\_CHAR,
1024                          node\_name\_list, MPI\_MAX\_PROCESSOR\_NAME, MPI\_CHAR,
1025                          hash\_comm.comm));
1026   \textcolor{keywordtype}{int} node\_num = El::mpi::Rank(hash\_comm);
1027   \textcolor{keywordflow}{for}(\textcolor{keywordtype}{int} i=0; i<hash\_comm\_size; ++i) \{
1028     \textcolor{keyword}{const} std::string other\_node\_string(node\_name\_list + i*MPI\_MAX\_PROCESSOR\_NAME);
1029     \textcolor{keywordflow}{if}(node\_string == other\_node\_string) \{
1030       node\_num = i;
1031       \textcolor{keywordflow}{break};
1032     \}
1033   \}
1034   \textcolor{keyword}{delete}[] node\_name\_list;
1035   El::mpi::Split(hash\_comm, node\_num, El::mpi::Rank(\hyperlink{classlbann_1_1lbann__comm_a0493f1f0c42b95674daacf5288fdb073}{get\_world\_comm}()),
1036                  \hyperlink{classlbann_1_1lbann__comm_a8aeb530ae4cedfa4d1141bb9c4704e6c}{node\_comm});
1037   El::mpi::Free(hash\_comm);
1038 
1039   \textcolor{comment}{// Set up list of ranks that are local.}
1040   \textcolor{keywordtype}{int} node\_comm\_size = El::mpi::Size(\hyperlink{classlbann_1_1lbann__comm_a8aeb530ae4cedfa4d1141bb9c4704e6c}{node\_comm});
1041   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < node\_comm\_size; ++i) \{
1042     \hyperlink{classlbann_1_1lbann__comm_a3299a37fe7b0eae43a5c154148ab6dc2}{world\_ranks\_on\_node}.push\_back(
1043       El::mpi::Translate(\hyperlink{classlbann_1_1lbann__comm_a8aeb530ae4cedfa4d1141bb9c4704e6c}{node\_comm}, i, \hyperlink{classlbann_1_1lbann__comm_a0493f1f0c42b95674daacf5288fdb073}{get\_world\_comm}()));
1044   \}
1045 \}
\end{DoxyCode}
Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=334pt]{classlbann_1_1lbann__comm_a44bc6b8683f04c2a3fc2f01fc734a946_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=334pt]{classlbann_1_1lbann__comm_a44bc6b8683f04c2a3fc2f01fc734a946_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classlbann_1_1lbann__comm_a597189b10f61947580f97fb8d1da7355}\label{classlbann_1_1lbann__comm_a597189b10f61947580f97fb8d1da7355}} 
\index{lbann\+::lbann\+\_\+comm@{lbann\+::lbann\+\_\+comm}!setup\+\_\+threads@{setup\+\_\+threads}}
\index{setup\+\_\+threads@{setup\+\_\+threads}!lbann\+::lbann\+\_\+comm@{lbann\+::lbann\+\_\+comm}}
\subsubsection{\texorpdfstring{setup\+\_\+threads()}{setup\_threads()}}
{\footnotesize\ttfamily void lbann\+::lbann\+\_\+comm\+::setup\+\_\+threads (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}

Initialize the default number of threads per process. This is the number of Open\+MP threads to use for parallel regions, provided omp\+\_\+set\+\_\+num\+\_\+threads has not been called or the num\+\_\+threads directive has not been provided. If the environment variable O\+M\+P\+\_\+\+N\+U\+M\+\_\+\+T\+H\+R\+E\+A\+DS is defined, it\textquotesingle{}s value is used for the default. Otherwise, then the default is the number of hardware cores per node divided by the number of processes per node. 

Definition at line 1047 of file comm.\+cpp.


\begin{DoxyCode}
1047                                \{
1048   \textcolor{keyword}{const} \textcolor{keywordtype}{char}* env\_num\_threads = getenv(\textcolor{stringliteral}{"OMP\_NUM\_THREADS"});
1049   \textcolor{keywordflow}{if} (env\_num\_threads != \textcolor{keyword}{nullptr})\{
1050     \hyperlink{classlbann_1_1lbann__comm_a23ff8e3563e4472af29d15f6cb823bc1}{threads\_per\_proc} = std::atoi(env\_num\_threads);
1051   \}
1052   \textcolor{keywordflow}{else} \{
1053     \hyperlink{classlbann_1_1lbann__comm_a23ff8e3563e4472af29d15f6cb823bc1}{threads\_per\_proc} = std::thread::hardware\_concurrency() / 
      \hyperlink{classlbann_1_1lbann__comm_a2ffc59f0c1d97df2ca6845312c8c8b3e}{procs\_per\_node};
1054   \}
1055   \hyperlink{classlbann_1_1lbann__comm_a10f13918019cd2e021768e3388355ba2}{reset\_threads}();
1056 \}
\end{DoxyCode}
Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=334pt]{classlbann_1_1lbann__comm_a597189b10f61947580f97fb8d1da7355_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=334pt]{classlbann_1_1lbann__comm_a597189b10f61947580f97fb8d1da7355_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classlbann_1_1lbann__comm_a0ae02c4083623d2e1381336a73fdb379}\label{classlbann_1_1lbann__comm_a0ae02c4083623d2e1381336a73fdb379}} 
\index{lbann\+::lbann\+\_\+comm@{lbann\+::lbann\+\_\+comm}!split\+\_\+models@{split\+\_\+models}}
\index{split\+\_\+models@{split\+\_\+models}!lbann\+::lbann\+\_\+comm@{lbann\+::lbann\+\_\+comm}}
\subsubsection{\texorpdfstring{split\+\_\+models()}{split\_models()}}
{\footnotesize\ttfamily void lbann\+::lbann\+\_\+comm\+::split\+\_\+models (\begin{DoxyParamCaption}\item[{int}]{procs\+\_\+per\+\_\+model }\end{DoxyParamCaption})}

Split communicators so each model has procs\+\_\+per\+\_\+model processes. If you call this multiple times, it will invalidate existing grids and communicators. 

Definition at line 94 of file comm.\+cpp.


\begin{DoxyCode}
94                                      \{
95   \textcolor{keywordtype}{int} world\_size = El::mpi::Size(\hyperlink{classlbann_1_1lbann__comm_a0493f1f0c42b95674daacf5288fdb073}{get\_world\_comm}());
96   \hyperlink{classlbann_1_1lbann__comm_a7cb55d127259d7ed9f07ccde6f4ebd8c}{procs\_per\_model} = ppm;
97   \textcolor{keywordflow}{if} (ppm == 0) \{
98     \hyperlink{classlbann_1_1lbann__comm_a7cb55d127259d7ed9f07ccde6f4ebd8c}{procs\_per\_model} = world\_size;
99   \}
100   \textcolor{comment}{// Check if parameters are valid}
101   \textcolor{keywordflow}{if} (\hyperlink{classlbann_1_1lbann__comm_a7cb55d127259d7ed9f07ccde6f4ebd8c}{procs\_per\_model} > world\_size) \{
102     \textcolor{keywordflow}{throw} lbann\_exception(
103       std::string\{\} + \_\_FILE\_\_ + \textcolor{stringliteral}{" "} + std::to\_string(\_\_LINE\_\_) +
104       \textcolor{stringliteral}{" :: Not enough processes to create one model; procs\_per\_model: "} +
105       std::to\_string(\hyperlink{classlbann_1_1lbann__comm_a7cb55d127259d7ed9f07ccde6f4ebd8c}{procs\_per\_model}) + \textcolor{stringliteral}{" is larger than world\_size: "} +
106       std::to\_string(world\_size));
107   \}
108   \textcolor{keywordflow}{if} (world\_size % \hyperlink{classlbann_1_1lbann__comm_a7cb55d127259d7ed9f07ccde6f4ebd8c}{procs\_per\_model} != 0) \{
109     \textcolor{keywordflow}{throw} lbann\_exception(
110       std::string\{\} + \_\_FILE\_\_ + \textcolor{stringliteral}{" "} + std::to\_string(\_\_LINE\_\_) +
111       \textcolor{stringliteral}{" :: Procs per model does not divide total number of procs; procs\_per\_model: "} +
112       std::to\_string(\hyperlink{classlbann_1_1lbann__comm_a7cb55d127259d7ed9f07ccde6f4ebd8c}{procs\_per\_model}) + \textcolor{stringliteral}{" total number of procs (world size): "} +
113       std::to\_string(world\_size));
114   \}
115 
116   \hyperlink{classlbann_1_1lbann__comm_a256ff5a0bafb33f43784ffc8dd2d29cf}{num\_models} = world\_size / \hyperlink{classlbann_1_1lbann__comm_a7cb55d127259d7ed9f07ccde6f4ebd8c}{procs\_per\_model};
117   \hyperlink{classlbann_1_1lbann__comm_a1f3f90a996dbba4cd1cca60596933ea3}{model\_rank} = El::mpi::Rank(\hyperlink{classlbann_1_1lbann__comm_a0493f1f0c42b95674daacf5288fdb073}{get\_world\_comm}()) / 
      \hyperlink{classlbann_1_1lbann__comm_a7cb55d127259d7ed9f07ccde6f4ebd8c}{procs\_per\_model};
118   \hyperlink{classlbann_1_1lbann__comm_a0dcccd57c2b591eb7682e192e0a09033}{rank\_in\_model} = El::mpi::Rank(\hyperlink{classlbann_1_1lbann__comm_a0493f1f0c42b95674daacf5288fdb073}{get\_world\_comm}()) % 
      \hyperlink{classlbann_1_1lbann__comm_a7cb55d127259d7ed9f07ccde6f4ebd8c}{procs\_per\_model};
119 
120   \textcolor{comment}{// Initialize model and intermodel communicators}
121   El::mpi::Split(\hyperlink{classlbann_1_1lbann__comm_a0493f1f0c42b95674daacf5288fdb073}{get\_world\_comm}(), \hyperlink{classlbann_1_1lbann__comm_a1f3f90a996dbba4cd1cca60596933ea3}{model\_rank}, 
      \hyperlink{classlbann_1_1lbann__comm_a0dcccd57c2b591eb7682e192e0a09033}{rank\_in\_model}, \hyperlink{classlbann_1_1lbann__comm_a58a75b76bd61ec8a26c1cbbec3dc2f45}{model\_comm});
122   El::mpi::Split(\hyperlink{classlbann_1_1lbann__comm_a0493f1f0c42b95674daacf5288fdb073}{get\_world\_comm}(), \hyperlink{classlbann_1_1lbann__comm_a0dcccd57c2b591eb7682e192e0a09033}{rank\_in\_model}, 
      \hyperlink{classlbann_1_1lbann__comm_a1f3f90a996dbba4cd1cca60596933ea3}{model\_rank},
123                  \hyperlink{classlbann_1_1lbann__comm_a2c51c5d8faf4f0ab4f43b892c55e597b}{intermodel\_comm});
124 
125   \textcolor{comment}{// Initialize Elemental grid}
126   \textcolor{keywordflow}{if} (\hyperlink{classlbann_1_1lbann__comm_a29fb31be115db3225b145f250a7778d9}{grid} != \textcolor{keyword}{nullptr}) \{
127     \textcolor{keyword}{delete} \hyperlink{classlbann_1_1lbann__comm_a29fb31be115db3225b145f250a7778d9}{grid};
128   \}
129   \hyperlink{classlbann_1_1lbann__comm_a29fb31be115db3225b145f250a7778d9}{grid} = \textcolor{keyword}{new} \hyperlink{base_8hpp_a9951bb1719d534e0401b1f06cad19eab}{Grid}(\hyperlink{classlbann_1_1lbann__comm_a58a75b76bd61ec8a26c1cbbec3dc2f45}{model\_comm});
130 \}
\end{DoxyCode}
Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=334pt]{classlbann_1_1lbann__comm_a0ae02c4083623d2e1381336a73fdb379_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=334pt]{classlbann_1_1lbann__comm_a0ae02c4083623d2e1381336a73fdb379_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classlbann_1_1lbann__comm_a99303a11b939b4aba9d4a67dd0deef56}\label{classlbann_1_1lbann__comm_a99303a11b939b4aba9d4a67dd0deef56}} 
\index{lbann\+::lbann\+\_\+comm@{lbann\+::lbann\+\_\+comm}!test@{test}}
\index{test@{test}!lbann\+::lbann\+\_\+comm@{lbann\+::lbann\+\_\+comm}}
\subsubsection{\texorpdfstring{test()}{test()}}
{\footnotesize\ttfamily bool lbann\+::lbann\+\_\+comm\+::test (\begin{DoxyParamCaption}\item[{\hyperlink{structlbann_1_1Al_1_1request}{Al\+::request} \&}]{req }\end{DoxyParamCaption})}

Test whether a non-\/blocking request has completed; true if it has. 

Definition at line 229 of file comm.\+cpp.


\begin{DoxyCode}
229                                     \{
230   \textcolor{keywordtype}{bool} req\_test = \textcolor{keyword}{true};
231 \textcolor{preprocessor}{#ifdef LBANN\_HAS\_ALUMINUM}
232   \textcolor{keywordflow}{if} (req.mpi\_req != \hyperlink{classlbann_1_1Al_1_1dummy__backend_a458ac4eb9f62b06984b4ef1b1eeb5851}{Al::mpi\_backend::null\_req}) \{
233     req\_test = req\_test && ::Al::Test<::Al::MPIBackend>(req.mpi\_req);
234   \}
236 \textcolor{preprocessor}{#ifdef LBANN\_HAS\_NCCL2}
237   \textcolor{keywordflow}{if} (req.nccl\_req != \hyperlink{classlbann_1_1Al_1_1dummy__backend_a458ac4eb9f62b06984b4ef1b1eeb5851}{Al::nccl\_backend::null\_req}) \{
238     req\_test = req\_test && ::Al::Test<::Al::NCCLBackend>(req.nccl\_req);
239   \}
240 \textcolor{preprocessor}{#endif // LBANN\_HAS\_NCCL2}
241 \textcolor{preprocessor}{#endif // LBANN\_HAS\_ALUMINUM}
242   \textcolor{keywordflow}{return} req\_test;
243 \}
\end{DoxyCode}
\mbox{\Hypertarget{classlbann_1_1lbann__comm_a30439f28cf615e1406090799c5499321}\label{classlbann_1_1lbann__comm_a30439f28cf615e1406090799c5499321}} 
\index{lbann\+::lbann\+\_\+comm@{lbann\+::lbann\+\_\+comm}!wait@{wait}}
\index{wait@{wait}!lbann\+::lbann\+\_\+comm@{lbann\+::lbann\+\_\+comm}}
\subsubsection{\texorpdfstring{wait()}{wait()}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily template$<$typename T $>$ \\
void lbann\+::lbann\+\_\+comm\+::wait (\begin{DoxyParamCaption}\item[{El\+::mpi\+::\+Request$<$ T $>$ \&}]{req }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}

Wait for a non-\/blocking request to complete. 

Definition at line 494 of file comm.\+hpp.


\begin{DoxyCode}
494                                   \{
495     El::mpi::Wait(req);
496   \}
\end{DoxyCode}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classlbann_1_1lbann__comm_a30439f28cf615e1406090799c5499321_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classlbann_1_1lbann__comm_a91d09d595801f6228ee0aecf6dea25c7}\label{classlbann_1_1lbann__comm_a91d09d595801f6228ee0aecf6dea25c7}} 
\index{lbann\+::lbann\+\_\+comm@{lbann\+::lbann\+\_\+comm}!wait@{wait}}
\index{wait@{wait}!lbann\+::lbann\+\_\+comm@{lbann\+::lbann\+\_\+comm}}
\subsubsection{\texorpdfstring{wait()}{wait()}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily void lbann\+::lbann\+\_\+comm\+::wait (\begin{DoxyParamCaption}\item[{\hyperlink{structlbann_1_1Al_1_1request}{Al\+::request} \&}]{req }\end{DoxyParamCaption})}

Wait for a non-\/blocking request to complete. 

Definition at line 215 of file comm.\+cpp.


\begin{DoxyCode}
215                                     \{
216 \textcolor{preprocessor}{#ifdef LBANN\_HAS\_ALUMINUM}
217   \textcolor{keywordflow}{if} (req.mpi\_req != \hyperlink{classlbann_1_1Al_1_1dummy__backend_a458ac4eb9f62b06984b4ef1b1eeb5851}{Al::mpi\_backend::null\_req}) \{
218     ::Al::Wait<::Al::MPIBackend>(req.mpi\_req);
219   \}
221 \textcolor{preprocessor}{#ifdef LBANN\_HAS\_NCCL2}
222   \textcolor{keywordflow}{if} (req.nccl\_req != \hyperlink{classlbann_1_1Al_1_1dummy__backend_a458ac4eb9f62b06984b4ef1b1eeb5851}{Al::nccl\_backend::null\_req}) \{
223     ::Al::Wait<::Al::NCCLBackend>(req.nccl\_req);
224   \}
225 \textcolor{preprocessor}{#endif // LBANN\_HAS\_NCCL2}
226 \textcolor{preprocessor}{#endif // LBANN\_HAS\_ALUMINUM}
227 \}
\end{DoxyCode}


\subsection{Member Data Documentation}
\mbox{\Hypertarget{classlbann_1_1lbann__comm_afded6f478dc5021d1edec306dc6c528c}\label{classlbann_1_1lbann__comm_afded6f478dc5021d1edec306dc6c528c}} 
\index{lbann\+::lbann\+\_\+comm@{lbann\+::lbann\+\_\+comm}!ar\+\_\+ag\+\_\+bytes\+\_\+received@{ar\+\_\+ag\+\_\+bytes\+\_\+received}}
\index{ar\+\_\+ag\+\_\+bytes\+\_\+received@{ar\+\_\+ag\+\_\+bytes\+\_\+received}!lbann\+::lbann\+\_\+comm@{lbann\+::lbann\+\_\+comm}}
\subsubsection{\texorpdfstring{ar\+\_\+ag\+\_\+bytes\+\_\+received}{ar\_ag\_bytes\_received}}
{\footnotesize\ttfamily size\+\_\+t lbann\+::lbann\+\_\+comm\+::ar\+\_\+ag\+\_\+bytes\+\_\+received\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 990 of file comm.\+hpp.

\mbox{\Hypertarget{classlbann_1_1lbann__comm_a2cfe1264a83865360692c48d7869fe67}\label{classlbann_1_1lbann__comm_a2cfe1264a83865360692c48d7869fe67}} 
\index{lbann\+::lbann\+\_\+comm@{lbann\+::lbann\+\_\+comm}!ar\+\_\+ag\+\_\+bytes\+\_\+sent@{ar\+\_\+ag\+\_\+bytes\+\_\+sent}}
\index{ar\+\_\+ag\+\_\+bytes\+\_\+sent@{ar\+\_\+ag\+\_\+bytes\+\_\+sent}!lbann\+::lbann\+\_\+comm@{lbann\+::lbann\+\_\+comm}}
\subsubsection{\texorpdfstring{ar\+\_\+ag\+\_\+bytes\+\_\+sent}{ar\_ag\_bytes\_sent}}
{\footnotesize\ttfamily size\+\_\+t lbann\+::lbann\+\_\+comm\+::ar\+\_\+ag\+\_\+bytes\+\_\+sent\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 989 of file comm.\+hpp.

\mbox{\Hypertarget{classlbann_1_1lbann__comm_a1896c3ecd1d5b084497c6ed47c1c9bae}\label{classlbann_1_1lbann__comm_a1896c3ecd1d5b084497c6ed47c1c9bae}} 
\index{lbann\+::lbann\+\_\+comm@{lbann\+::lbann\+\_\+comm}!ar\+\_\+ag\+\_\+recv\+\_\+time@{ar\+\_\+ag\+\_\+recv\+\_\+time}}
\index{ar\+\_\+ag\+\_\+recv\+\_\+time@{ar\+\_\+ag\+\_\+recv\+\_\+time}!lbann\+::lbann\+\_\+comm@{lbann\+::lbann\+\_\+comm}}
\subsubsection{\texorpdfstring{ar\+\_\+ag\+\_\+recv\+\_\+time}{ar\_ag\_recv\_time}}
{\footnotesize\ttfamily double lbann\+::lbann\+\_\+comm\+::ar\+\_\+ag\+\_\+recv\+\_\+time\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 1002 of file comm.\+hpp.

\mbox{\Hypertarget{classlbann_1_1lbann__comm_a64cb0b86e9368c1d83370ba6cb0083ba}\label{classlbann_1_1lbann__comm_a64cb0b86e9368c1d83370ba6cb0083ba}} 
\index{lbann\+::lbann\+\_\+comm@{lbann\+::lbann\+\_\+comm}!ar\+\_\+ag\+\_\+send\+\_\+time@{ar\+\_\+ag\+\_\+send\+\_\+time}}
\index{ar\+\_\+ag\+\_\+send\+\_\+time@{ar\+\_\+ag\+\_\+send\+\_\+time}!lbann\+::lbann\+\_\+comm@{lbann\+::lbann\+\_\+comm}}
\subsubsection{\texorpdfstring{ar\+\_\+ag\+\_\+send\+\_\+time}{ar\_ag\_send\_time}}
{\footnotesize\ttfamily double lbann\+::lbann\+\_\+comm\+::ar\+\_\+ag\+\_\+send\+\_\+time\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 1001 of file comm.\+hpp.

\mbox{\Hypertarget{classlbann_1_1lbann__comm_a48768342eb05c1c6cdaa52c3599b93c8}\label{classlbann_1_1lbann__comm_a48768342eb05c1c6cdaa52c3599b93c8}} 
\index{lbann\+::lbann\+\_\+comm@{lbann\+::lbann\+\_\+comm}!ar\+\_\+ag\+\_\+time@{ar\+\_\+ag\+\_\+time}}
\index{ar\+\_\+ag\+\_\+time@{ar\+\_\+ag\+\_\+time}!lbann\+::lbann\+\_\+comm@{lbann\+::lbann\+\_\+comm}}
\subsubsection{\texorpdfstring{ar\+\_\+ag\+\_\+time}{ar\_ag\_time}}
{\footnotesize\ttfamily double lbann\+::lbann\+\_\+comm\+::ar\+\_\+ag\+\_\+time\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 993 of file comm.\+hpp.

\mbox{\Hypertarget{classlbann_1_1lbann__comm_aa5f3c53358bf9002b9fab41918b0c8c1}\label{classlbann_1_1lbann__comm_aa5f3c53358bf9002b9fab41918b0c8c1}} 
\index{lbann\+::lbann\+\_\+comm@{lbann\+::lbann\+\_\+comm}!ar\+\_\+bytes\+\_\+received@{ar\+\_\+bytes\+\_\+received}}
\index{ar\+\_\+bytes\+\_\+received@{ar\+\_\+bytes\+\_\+received}!lbann\+::lbann\+\_\+comm@{lbann\+::lbann\+\_\+comm}}
\subsubsection{\texorpdfstring{ar\+\_\+bytes\+\_\+received}{ar\_bytes\_received}}
{\footnotesize\ttfamily size\+\_\+t lbann\+::lbann\+\_\+comm\+::ar\+\_\+bytes\+\_\+received\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 986 of file comm.\+hpp.

\mbox{\Hypertarget{classlbann_1_1lbann__comm_aa520c16eafde742b70daf60866afc6a8}\label{classlbann_1_1lbann__comm_aa520c16eafde742b70daf60866afc6a8}} 
\index{lbann\+::lbann\+\_\+comm@{lbann\+::lbann\+\_\+comm}!ar\+\_\+bytes\+\_\+sent@{ar\+\_\+bytes\+\_\+sent}}
\index{ar\+\_\+bytes\+\_\+sent@{ar\+\_\+bytes\+\_\+sent}!lbann\+::lbann\+\_\+comm@{lbann\+::lbann\+\_\+comm}}
\subsubsection{\texorpdfstring{ar\+\_\+bytes\+\_\+sent}{ar\_bytes\_sent}}
{\footnotesize\ttfamily size\+\_\+t lbann\+::lbann\+\_\+comm\+::ar\+\_\+bytes\+\_\+sent\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 985 of file comm.\+hpp.

\mbox{\Hypertarget{classlbann_1_1lbann__comm_aa642b0ae2321fa464b0092da527f6375}\label{classlbann_1_1lbann__comm_aa642b0ae2321fa464b0092da527f6375}} 
\index{lbann\+::lbann\+\_\+comm@{lbann\+::lbann\+\_\+comm}!ar\+\_\+recv\+\_\+apply\+\_\+transform\+\_\+time@{ar\+\_\+recv\+\_\+apply\+\_\+transform\+\_\+time}}
\index{ar\+\_\+recv\+\_\+apply\+\_\+transform\+\_\+time@{ar\+\_\+recv\+\_\+apply\+\_\+transform\+\_\+time}!lbann\+::lbann\+\_\+comm@{lbann\+::lbann\+\_\+comm}}
\subsubsection{\texorpdfstring{ar\+\_\+recv\+\_\+apply\+\_\+transform\+\_\+time}{ar\_recv\_apply\_transform\_time}}
{\footnotesize\ttfamily double lbann\+::lbann\+\_\+comm\+::ar\+\_\+recv\+\_\+apply\+\_\+transform\+\_\+time\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 996 of file comm.\+hpp.

\mbox{\Hypertarget{classlbann_1_1lbann__comm_a4c9323938961c3524dc67f4b7b47e3ae}\label{classlbann_1_1lbann__comm_a4c9323938961c3524dc67f4b7b47e3ae}} 
\index{lbann\+::lbann\+\_\+comm@{lbann\+::lbann\+\_\+comm}!ar\+\_\+recv\+\_\+time@{ar\+\_\+recv\+\_\+time}}
\index{ar\+\_\+recv\+\_\+time@{ar\+\_\+recv\+\_\+time}!lbann\+::lbann\+\_\+comm@{lbann\+::lbann\+\_\+comm}}
\subsubsection{\texorpdfstring{ar\+\_\+recv\+\_\+time}{ar\_recv\_time}}
{\footnotesize\ttfamily double lbann\+::lbann\+\_\+comm\+::ar\+\_\+recv\+\_\+time\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 998 of file comm.\+hpp.

\mbox{\Hypertarget{classlbann_1_1lbann__comm_adb393f47d60eaa59bace80d2d3dd3bf2}\label{classlbann_1_1lbann__comm_adb393f47d60eaa59bace80d2d3dd3bf2}} 
\index{lbann\+::lbann\+\_\+comm@{lbann\+::lbann\+\_\+comm}!ar\+\_\+recv\+\_\+transform\+\_\+time@{ar\+\_\+recv\+\_\+transform\+\_\+time}}
\index{ar\+\_\+recv\+\_\+transform\+\_\+time@{ar\+\_\+recv\+\_\+transform\+\_\+time}!lbann\+::lbann\+\_\+comm@{lbann\+::lbann\+\_\+comm}}
\subsubsection{\texorpdfstring{ar\+\_\+recv\+\_\+transform\+\_\+time}{ar\_recv\_transform\_time}}
{\footnotesize\ttfamily double lbann\+::lbann\+\_\+comm\+::ar\+\_\+recv\+\_\+transform\+\_\+time\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 995 of file comm.\+hpp.

\mbox{\Hypertarget{classlbann_1_1lbann__comm_a2c3e1db0f6d2345748132322b0555db7}\label{classlbann_1_1lbann__comm_a2c3e1db0f6d2345748132322b0555db7}} 
\index{lbann\+::lbann\+\_\+comm@{lbann\+::lbann\+\_\+comm}!ar\+\_\+rs\+\_\+bytes\+\_\+received@{ar\+\_\+rs\+\_\+bytes\+\_\+received}}
\index{ar\+\_\+rs\+\_\+bytes\+\_\+received@{ar\+\_\+rs\+\_\+bytes\+\_\+received}!lbann\+::lbann\+\_\+comm@{lbann\+::lbann\+\_\+comm}}
\subsubsection{\texorpdfstring{ar\+\_\+rs\+\_\+bytes\+\_\+received}{ar\_rs\_bytes\_received}}
{\footnotesize\ttfamily size\+\_\+t lbann\+::lbann\+\_\+comm\+::ar\+\_\+rs\+\_\+bytes\+\_\+received\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 988 of file comm.\+hpp.

\mbox{\Hypertarget{classlbann_1_1lbann__comm_ac74bcfb565c1bb6604f336c6d1b647cc}\label{classlbann_1_1lbann__comm_ac74bcfb565c1bb6604f336c6d1b647cc}} 
\index{lbann\+::lbann\+\_\+comm@{lbann\+::lbann\+\_\+comm}!ar\+\_\+rs\+\_\+bytes\+\_\+sent@{ar\+\_\+rs\+\_\+bytes\+\_\+sent}}
\index{ar\+\_\+rs\+\_\+bytes\+\_\+sent@{ar\+\_\+rs\+\_\+bytes\+\_\+sent}!lbann\+::lbann\+\_\+comm@{lbann\+::lbann\+\_\+comm}}
\subsubsection{\texorpdfstring{ar\+\_\+rs\+\_\+bytes\+\_\+sent}{ar\_rs\_bytes\_sent}}
{\footnotesize\ttfamily size\+\_\+t lbann\+::lbann\+\_\+comm\+::ar\+\_\+rs\+\_\+bytes\+\_\+sent\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 987 of file comm.\+hpp.

\mbox{\Hypertarget{classlbann_1_1lbann__comm_adefa0ee8b0a6b74072448e20d40f502d}\label{classlbann_1_1lbann__comm_adefa0ee8b0a6b74072448e20d40f502d}} 
\index{lbann\+::lbann\+\_\+comm@{lbann\+::lbann\+\_\+comm}!ar\+\_\+rs\+\_\+recv\+\_\+time@{ar\+\_\+rs\+\_\+recv\+\_\+time}}
\index{ar\+\_\+rs\+\_\+recv\+\_\+time@{ar\+\_\+rs\+\_\+recv\+\_\+time}!lbann\+::lbann\+\_\+comm@{lbann\+::lbann\+\_\+comm}}
\subsubsection{\texorpdfstring{ar\+\_\+rs\+\_\+recv\+\_\+time}{ar\_rs\_recv\_time}}
{\footnotesize\ttfamily double lbann\+::lbann\+\_\+comm\+::ar\+\_\+rs\+\_\+recv\+\_\+time\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 1000 of file comm.\+hpp.

\mbox{\Hypertarget{classlbann_1_1lbann__comm_aaadab22d368e8004a9877828a3bc9e93}\label{classlbann_1_1lbann__comm_aaadab22d368e8004a9877828a3bc9e93}} 
\index{lbann\+::lbann\+\_\+comm@{lbann\+::lbann\+\_\+comm}!ar\+\_\+rs\+\_\+send\+\_\+time@{ar\+\_\+rs\+\_\+send\+\_\+time}}
\index{ar\+\_\+rs\+\_\+send\+\_\+time@{ar\+\_\+rs\+\_\+send\+\_\+time}!lbann\+::lbann\+\_\+comm@{lbann\+::lbann\+\_\+comm}}
\subsubsection{\texorpdfstring{ar\+\_\+rs\+\_\+send\+\_\+time}{ar\_rs\_send\_time}}
{\footnotesize\ttfamily double lbann\+::lbann\+\_\+comm\+::ar\+\_\+rs\+\_\+send\+\_\+time\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 999 of file comm.\+hpp.

\mbox{\Hypertarget{classlbann_1_1lbann__comm_a85022d803e339eb14a15129a07876c2b}\label{classlbann_1_1lbann__comm_a85022d803e339eb14a15129a07876c2b}} 
\index{lbann\+::lbann\+\_\+comm@{lbann\+::lbann\+\_\+comm}!ar\+\_\+rs\+\_\+time@{ar\+\_\+rs\+\_\+time}}
\index{ar\+\_\+rs\+\_\+time@{ar\+\_\+rs\+\_\+time}!lbann\+::lbann\+\_\+comm@{lbann\+::lbann\+\_\+comm}}
\subsubsection{\texorpdfstring{ar\+\_\+rs\+\_\+time}{ar\_rs\_time}}
{\footnotesize\ttfamily double lbann\+::lbann\+\_\+comm\+::ar\+\_\+rs\+\_\+time\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 992 of file comm.\+hpp.

\mbox{\Hypertarget{classlbann_1_1lbann__comm_a60a664f47efb52d9936b72d34059d1ef}\label{classlbann_1_1lbann__comm_a60a664f47efb52d9936b72d34059d1ef}} 
\index{lbann\+::lbann\+\_\+comm@{lbann\+::lbann\+\_\+comm}!ar\+\_\+send\+\_\+time@{ar\+\_\+send\+\_\+time}}
\index{ar\+\_\+send\+\_\+time@{ar\+\_\+send\+\_\+time}!lbann\+::lbann\+\_\+comm@{lbann\+::lbann\+\_\+comm}}
\subsubsection{\texorpdfstring{ar\+\_\+send\+\_\+time}{ar\_send\_time}}
{\footnotesize\ttfamily double lbann\+::lbann\+\_\+comm\+::ar\+\_\+send\+\_\+time\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 997 of file comm.\+hpp.

\mbox{\Hypertarget{classlbann_1_1lbann__comm_a4e3d35520a8f567579f9235e9808ba1c}\label{classlbann_1_1lbann__comm_a4e3d35520a8f567579f9235e9808ba1c}} 
\index{lbann\+::lbann\+\_\+comm@{lbann\+::lbann\+\_\+comm}!ar\+\_\+send\+\_\+transform\+\_\+time@{ar\+\_\+send\+\_\+transform\+\_\+time}}
\index{ar\+\_\+send\+\_\+transform\+\_\+time@{ar\+\_\+send\+\_\+transform\+\_\+time}!lbann\+::lbann\+\_\+comm@{lbann\+::lbann\+\_\+comm}}
\subsubsection{\texorpdfstring{ar\+\_\+send\+\_\+transform\+\_\+time}{ar\_send\_transform\_time}}
{\footnotesize\ttfamily double lbann\+::lbann\+\_\+comm\+::ar\+\_\+send\+\_\+transform\+\_\+time\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 994 of file comm.\+hpp.

\mbox{\Hypertarget{classlbann_1_1lbann__comm_aa57d2fbeef85fd8a3c9f2a37ca7687c8}\label{classlbann_1_1lbann__comm_aa57d2fbeef85fd8a3c9f2a37ca7687c8}} 
\index{lbann\+::lbann\+\_\+comm@{lbann\+::lbann\+\_\+comm}!ar\+\_\+time@{ar\+\_\+time}}
\index{ar\+\_\+time@{ar\+\_\+time}!lbann\+::lbann\+\_\+comm@{lbann\+::lbann\+\_\+comm}}
\subsubsection{\texorpdfstring{ar\+\_\+time}{ar\_time}}
{\footnotesize\ttfamily double lbann\+::lbann\+\_\+comm\+::ar\+\_\+time\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 991 of file comm.\+hpp.

\mbox{\Hypertarget{classlbann_1_1lbann__comm_afb99f57f7eafc0695bf28e6c26a8120f}\label{classlbann_1_1lbann__comm_afb99f57f7eafc0695bf28e6c26a8120f}} 
\index{lbann\+::lbann\+\_\+comm@{lbann\+::lbann\+\_\+comm}!bytes\+\_\+received@{bytes\+\_\+received}}
\index{bytes\+\_\+received@{bytes\+\_\+received}!lbann\+::lbann\+\_\+comm@{lbann\+::lbann\+\_\+comm}}
\subsubsection{\texorpdfstring{bytes\+\_\+received}{bytes\_received}}
{\footnotesize\ttfamily size\+\_\+t lbann\+::lbann\+\_\+comm\+::bytes\+\_\+received\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 983 of file comm.\+hpp.

\mbox{\Hypertarget{classlbann_1_1lbann__comm_ad1f146ae7337ece6266fd307944928e0}\label{classlbann_1_1lbann__comm_ad1f146ae7337ece6266fd307944928e0}} 
\index{lbann\+::lbann\+\_\+comm@{lbann\+::lbann\+\_\+comm}!bytes\+\_\+sent@{bytes\+\_\+sent}}
\index{bytes\+\_\+sent@{bytes\+\_\+sent}!lbann\+::lbann\+\_\+comm@{lbann\+::lbann\+\_\+comm}}
\subsubsection{\texorpdfstring{bytes\+\_\+sent}{bytes\_sent}}
{\footnotesize\ttfamily size\+\_\+t lbann\+::lbann\+\_\+comm\+::bytes\+\_\+sent\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 982 of file comm.\+hpp.

\mbox{\Hypertarget{classlbann_1_1lbann__comm_a9ada8c5daf902f43b599234c7519a765}\label{classlbann_1_1lbann__comm_a9ada8c5daf902f43b599234c7519a765}} 
\index{lbann\+::lbann\+\_\+comm@{lbann\+::lbann\+\_\+comm}!collective\+\_\+bufs@{collective\+\_\+bufs}}
\index{collective\+\_\+bufs@{collective\+\_\+bufs}!lbann\+::lbann\+\_\+comm@{lbann\+::lbann\+\_\+comm}}
\subsubsection{\texorpdfstring{collective\+\_\+bufs}{collective\_bufs}}
{\footnotesize\ttfamily std\+::map$<$size\+\_\+t, std\+::vector$<$uint8\+\_\+t $\ast$$>$ $>$ lbann\+::lbann\+\_\+comm\+::collective\+\_\+bufs\hspace{0.3cm}{\ttfamily [private]}}

Pre-\/allocated buffers for collectives. 

Definition at line 955 of file comm.\+hpp.

\mbox{\Hypertarget{classlbann_1_1lbann__comm_ac7731d6bcdb6775009467cf4138d4bab}\label{classlbann_1_1lbann__comm_ac7731d6bcdb6775009467cf4138d4bab}} 
\index{lbann\+::lbann\+\_\+comm@{lbann\+::lbann\+\_\+comm}!default\+\_\+allreduce\+\_\+algo@{default\+\_\+allreduce\+\_\+algo}}
\index{default\+\_\+allreduce\+\_\+algo@{default\+\_\+allreduce\+\_\+algo}!lbann\+::lbann\+\_\+comm@{lbann\+::lbann\+\_\+comm}}
\subsubsection{\texorpdfstring{default\+\_\+allreduce\+\_\+algo}{default\_allreduce\_algo}}
{\footnotesize\ttfamily \hyperlink{classlbann_1_1lbann__comm_a02a03227cc27e3516f0d9f9812f32019}{allreduce\+\_\+algorithm} lbann\+::lbann\+\_\+comm\+::default\+\_\+allreduce\+\_\+algo\hspace{0.3cm}{\ttfamily [private]}}

{\bfseries Initial value\+:}
\begin{DoxyCode}
=
    \hyperlink{classlbann_1_1lbann__comm_a02a03227cc27e3516f0d9f9812f32019a0fcc90da4811c877ba9f9c12f7d60bc9}{allreduce\_algorithm::DYNAMIC}
\end{DoxyCode}
Current default allreduce algorithm. 

Definition at line 957 of file comm.\+hpp.

\mbox{\Hypertarget{classlbann_1_1lbann__comm_a29fb31be115db3225b145f250a7778d9}\label{classlbann_1_1lbann__comm_a29fb31be115db3225b145f250a7778d9}} 
\index{lbann\+::lbann\+\_\+comm@{lbann\+::lbann\+\_\+comm}!grid@{grid}}
\index{grid@{grid}!lbann\+::lbann\+\_\+comm@{lbann\+::lbann\+\_\+comm}}
\subsubsection{\texorpdfstring{grid}{grid}}
{\footnotesize\ttfamily \hyperlink{base_8hpp_a9951bb1719d534e0401b1f06cad19eab}{Grid}$\ast$ lbann\+::lbann\+\_\+comm\+::grid\hspace{0.3cm}{\ttfamily [private]}}

Grid for this model. 

Definition at line 933 of file comm.\+hpp.

\mbox{\Hypertarget{classlbann_1_1lbann__comm_a2c51c5d8faf4f0ab4f43b892c55e597b}\label{classlbann_1_1lbann__comm_a2c51c5d8faf4f0ab4f43b892c55e597b}} 
\index{lbann\+::lbann\+\_\+comm@{lbann\+::lbann\+\_\+comm}!intermodel\+\_\+comm@{intermodel\+\_\+comm}}
\index{intermodel\+\_\+comm@{intermodel\+\_\+comm}!lbann\+::lbann\+\_\+comm@{lbann\+::lbann\+\_\+comm}}
\subsubsection{\texorpdfstring{intermodel\+\_\+comm}{intermodel\_comm}}
{\footnotesize\ttfamily El\+::mpi\+::\+Comm lbann\+::lbann\+\_\+comm\+::intermodel\+\_\+comm\hspace{0.3cm}{\ttfamily [private]}}

Communicator for every process with the same model rank. 

Definition at line 929 of file comm.\+hpp.

\mbox{\Hypertarget{classlbann_1_1lbann__comm_a58a75b76bd61ec8a26c1cbbec3dc2f45}\label{classlbann_1_1lbann__comm_a58a75b76bd61ec8a26c1cbbec3dc2f45}} 
\index{lbann\+::lbann\+\_\+comm@{lbann\+::lbann\+\_\+comm}!model\+\_\+comm@{model\+\_\+comm}}
\index{model\+\_\+comm@{model\+\_\+comm}!lbann\+::lbann\+\_\+comm@{lbann\+::lbann\+\_\+comm}}
\subsubsection{\texorpdfstring{model\+\_\+comm}{model\_comm}}
{\footnotesize\ttfamily El\+::mpi\+::\+Comm lbann\+::lbann\+\_\+comm\+::model\+\_\+comm\hspace{0.3cm}{\ttfamily [private]}}

Communicator for every process in this model. 

Definition at line 927 of file comm.\+hpp.

\mbox{\Hypertarget{classlbann_1_1lbann__comm_a1f3f90a996dbba4cd1cca60596933ea3}\label{classlbann_1_1lbann__comm_a1f3f90a996dbba4cd1cca60596933ea3}} 
\index{lbann\+::lbann\+\_\+comm@{lbann\+::lbann\+\_\+comm}!model\+\_\+rank@{model\+\_\+rank}}
\index{model\+\_\+rank@{model\+\_\+rank}!lbann\+::lbann\+\_\+comm@{lbann\+::lbann\+\_\+comm}}
\subsubsection{\texorpdfstring{model\+\_\+rank}{model\_rank}}
{\footnotesize\ttfamily int lbann\+::lbann\+\_\+comm\+::model\+\_\+rank\hspace{0.3cm}{\ttfamily [private]}}

Rank of the model this process is in. 

Definition at line 939 of file comm.\+hpp.

\mbox{\Hypertarget{classlbann_1_1lbann__comm_a8aeb530ae4cedfa4d1141bb9c4704e6c}\label{classlbann_1_1lbann__comm_a8aeb530ae4cedfa4d1141bb9c4704e6c}} 
\index{lbann\+::lbann\+\_\+comm@{lbann\+::lbann\+\_\+comm}!node\+\_\+comm@{node\+\_\+comm}}
\index{node\+\_\+comm@{node\+\_\+comm}!lbann\+::lbann\+\_\+comm@{lbann\+::lbann\+\_\+comm}}
\subsubsection{\texorpdfstring{node\+\_\+comm}{node\_comm}}
{\footnotesize\ttfamily El\+::mpi\+::\+Comm lbann\+::lbann\+\_\+comm\+::node\+\_\+comm\hspace{0.3cm}{\ttfamily [private]}}

Communicator for every process in the same compute node. 

Definition at line 931 of file comm.\+hpp.

\mbox{\Hypertarget{classlbann_1_1lbann__comm_a4f01e2f2d8220dc34cf39eb4a255cd7d}\label{classlbann_1_1lbann__comm_a4f01e2f2d8220dc34cf39eb4a255cd7d}} 
\index{lbann\+::lbann\+\_\+comm@{lbann\+::lbann\+\_\+comm}!num\+\_\+global\+\_\+barriers@{num\+\_\+global\+\_\+barriers}}
\index{num\+\_\+global\+\_\+barriers@{num\+\_\+global\+\_\+barriers}!lbann\+::lbann\+\_\+comm@{lbann\+::lbann\+\_\+comm}}
\subsubsection{\texorpdfstring{num\+\_\+global\+\_\+barriers}{num\_global\_barriers}}
{\footnotesize\ttfamily size\+\_\+t lbann\+::lbann\+\_\+comm\+::num\+\_\+global\+\_\+barriers\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 981 of file comm.\+hpp.

\mbox{\Hypertarget{classlbann_1_1lbann__comm_a03d946ef5ea5d3b15351e78a2eed10fe}\label{classlbann_1_1lbann__comm_a03d946ef5ea5d3b15351e78a2eed10fe}} 
\index{lbann\+::lbann\+\_\+comm@{lbann\+::lbann\+\_\+comm}!num\+\_\+intermodel\+\_\+barriers@{num\+\_\+intermodel\+\_\+barriers}}
\index{num\+\_\+intermodel\+\_\+barriers@{num\+\_\+intermodel\+\_\+barriers}!lbann\+::lbann\+\_\+comm@{lbann\+::lbann\+\_\+comm}}
\subsubsection{\texorpdfstring{num\+\_\+intermodel\+\_\+barriers}{num\_intermodel\_barriers}}
{\footnotesize\ttfamily size\+\_\+t lbann\+::lbann\+\_\+comm\+::num\+\_\+intermodel\+\_\+barriers\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 980 of file comm.\+hpp.

\mbox{\Hypertarget{classlbann_1_1lbann__comm_aa4f15459eca2a06174a877ba0c23feb7}\label{classlbann_1_1lbann__comm_aa4f15459eca2a06174a877ba0c23feb7}} 
\index{lbann\+::lbann\+\_\+comm@{lbann\+::lbann\+\_\+comm}!num\+\_\+model\+\_\+barriers@{num\+\_\+model\+\_\+barriers}}
\index{num\+\_\+model\+\_\+barriers@{num\+\_\+model\+\_\+barriers}!lbann\+::lbann\+\_\+comm@{lbann\+::lbann\+\_\+comm}}
\subsubsection{\texorpdfstring{num\+\_\+model\+\_\+barriers}{num\_model\_barriers}}
{\footnotesize\ttfamily size\+\_\+t lbann\+::lbann\+\_\+comm\+::num\+\_\+model\+\_\+barriers\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 979 of file comm.\+hpp.

\mbox{\Hypertarget{classlbann_1_1lbann__comm_a256ff5a0bafb33f43784ffc8dd2d29cf}\label{classlbann_1_1lbann__comm_a256ff5a0bafb33f43784ffc8dd2d29cf}} 
\index{lbann\+::lbann\+\_\+comm@{lbann\+::lbann\+\_\+comm}!num\+\_\+models@{num\+\_\+models}}
\index{num\+\_\+models@{num\+\_\+models}!lbann\+::lbann\+\_\+comm@{lbann\+::lbann\+\_\+comm}}
\subsubsection{\texorpdfstring{num\+\_\+models}{num\_models}}
{\footnotesize\ttfamily int lbann\+::lbann\+\_\+comm\+::num\+\_\+models\hspace{0.3cm}{\ttfamily [private]}}

Number of models. 

Definition at line 935 of file comm.\+hpp.

\mbox{\Hypertarget{classlbann_1_1lbann__comm_a7cb55d127259d7ed9f07ccde6f4ebd8c}\label{classlbann_1_1lbann__comm_a7cb55d127259d7ed9f07ccde6f4ebd8c}} 
\index{lbann\+::lbann\+\_\+comm@{lbann\+::lbann\+\_\+comm}!procs\+\_\+per\+\_\+model@{procs\+\_\+per\+\_\+model}}
\index{procs\+\_\+per\+\_\+model@{procs\+\_\+per\+\_\+model}!lbann\+::lbann\+\_\+comm@{lbann\+::lbann\+\_\+comm}}
\subsubsection{\texorpdfstring{procs\+\_\+per\+\_\+model}{procs\_per\_model}}
{\footnotesize\ttfamily int lbann\+::lbann\+\_\+comm\+::procs\+\_\+per\+\_\+model\hspace{0.3cm}{\ttfamily [private]}}

Number of processors per model. 

Definition at line 937 of file comm.\+hpp.

\mbox{\Hypertarget{classlbann_1_1lbann__comm_a2ffc59f0c1d97df2ca6845312c8c8b3e}\label{classlbann_1_1lbann__comm_a2ffc59f0c1d97df2ca6845312c8c8b3e}} 
\index{lbann\+::lbann\+\_\+comm@{lbann\+::lbann\+\_\+comm}!procs\+\_\+per\+\_\+node@{procs\+\_\+per\+\_\+node}}
\index{procs\+\_\+per\+\_\+node@{procs\+\_\+per\+\_\+node}!lbann\+::lbann\+\_\+comm@{lbann\+::lbann\+\_\+comm}}
\subsubsection{\texorpdfstring{procs\+\_\+per\+\_\+node}{procs\_per\_node}}
{\footnotesize\ttfamily int lbann\+::lbann\+\_\+comm\+::procs\+\_\+per\+\_\+node\hspace{0.3cm}{\ttfamily [private]}}

Number of processers per compute node. 

Definition at line 943 of file comm.\+hpp.

\mbox{\Hypertarget{classlbann_1_1lbann__comm_a0dcccd57c2b591eb7682e192e0a09033}\label{classlbann_1_1lbann__comm_a0dcccd57c2b591eb7682e192e0a09033}} 
\index{lbann\+::lbann\+\_\+comm@{lbann\+::lbann\+\_\+comm}!rank\+\_\+in\+\_\+model@{rank\+\_\+in\+\_\+model}}
\index{rank\+\_\+in\+\_\+model@{rank\+\_\+in\+\_\+model}!lbann\+::lbann\+\_\+comm@{lbann\+::lbann\+\_\+comm}}
\subsubsection{\texorpdfstring{rank\+\_\+in\+\_\+model}{rank\_in\_model}}
{\footnotesize\ttfamily int lbann\+::lbann\+\_\+comm\+::rank\+\_\+in\+\_\+model\hspace{0.3cm}{\ttfamily [private]}}

Rank of this process within its model. 

Definition at line 941 of file comm.\+hpp.

\mbox{\Hypertarget{classlbann_1_1lbann__comm_abb5c8b008b5cac11702bf1f991c78ab0}\label{classlbann_1_1lbann__comm_abb5c8b008b5cac11702bf1f991c78ab0}} 
\index{lbann\+::lbann\+\_\+comm@{lbann\+::lbann\+\_\+comm}!rank\+\_\+in\+\_\+node@{rank\+\_\+in\+\_\+node}}
\index{rank\+\_\+in\+\_\+node@{rank\+\_\+in\+\_\+node}!lbann\+::lbann\+\_\+comm@{lbann\+::lbann\+\_\+comm}}
\subsubsection{\texorpdfstring{rank\+\_\+in\+\_\+node}{rank\_in\_node}}
{\footnotesize\ttfamily int lbann\+::lbann\+\_\+comm\+::rank\+\_\+in\+\_\+node\hspace{0.3cm}{\ttfamily [private]}}

Rank of this process within its compute node. 

Definition at line 945 of file comm.\+hpp.

\mbox{\Hypertarget{classlbann_1_1lbann__comm_a23ff8e3563e4472af29d15f6cb823bc1}\label{classlbann_1_1lbann__comm_a23ff8e3563e4472af29d15f6cb823bc1}} 
\index{lbann\+::lbann\+\_\+comm@{lbann\+::lbann\+\_\+comm}!threads\+\_\+per\+\_\+proc@{threads\+\_\+per\+\_\+proc}}
\index{threads\+\_\+per\+\_\+proc@{threads\+\_\+per\+\_\+proc}!lbann\+::lbann\+\_\+comm@{lbann\+::lbann\+\_\+comm}}
\subsubsection{\texorpdfstring{threads\+\_\+per\+\_\+proc}{threads\_per\_proc}}
{\footnotesize\ttfamily int lbann\+::lbann\+\_\+comm\+::threads\+\_\+per\+\_\+proc\hspace{0.3cm}{\ttfamily [private]}}

Default number of threads per process. This is the number of Open\+MP threads to use for parallel regions, provided omp\+\_\+set\+\_\+num\+\_\+threads has not been called or the num\+\_\+threads directive has not been provided. 

Definition at line 953 of file comm.\+hpp.

\mbox{\Hypertarget{classlbann_1_1lbann__comm_a1fc59c935580eab2ce8e60464a45ef39}\label{classlbann_1_1lbann__comm_a1fc59c935580eab2ce8e60464a45ef39}} 
\index{lbann\+::lbann\+\_\+comm@{lbann\+::lbann\+\_\+comm}!world\+\_\+comm@{world\+\_\+comm}}
\index{world\+\_\+comm@{world\+\_\+comm}!lbann\+::lbann\+\_\+comm@{lbann\+::lbann\+\_\+comm}}
\subsubsection{\texorpdfstring{world\+\_\+comm}{world\_comm}}
{\footnotesize\ttfamily const El\+::mpi\+::\+Comm lbann\+::lbann\+\_\+comm\+::world\+\_\+comm\hspace{0.3cm}{\ttfamily [private]}}

World communicator. 

Definition at line 925 of file comm.\+hpp.

\mbox{\Hypertarget{classlbann_1_1lbann__comm_a3299a37fe7b0eae43a5c154148ab6dc2}\label{classlbann_1_1lbann__comm_a3299a37fe7b0eae43a5c154148ab6dc2}} 
\index{lbann\+::lbann\+\_\+comm@{lbann\+::lbann\+\_\+comm}!world\+\_\+ranks\+\_\+on\+\_\+node@{world\+\_\+ranks\+\_\+on\+\_\+node}}
\index{world\+\_\+ranks\+\_\+on\+\_\+node@{world\+\_\+ranks\+\_\+on\+\_\+node}!lbann\+::lbann\+\_\+comm@{lbann\+::lbann\+\_\+comm}}
\subsubsection{\texorpdfstring{world\+\_\+ranks\+\_\+on\+\_\+node}{world\_ranks\_on\_node}}
{\footnotesize\ttfamily std\+::vector$<$int$>$ lbann\+::lbann\+\_\+comm\+::world\+\_\+ranks\+\_\+on\+\_\+node\hspace{0.3cm}{\ttfamily [private]}}

The list of world ranks that are on this compute node. 

Definition at line 947 of file comm.\+hpp.



The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
/\+Users/mckinney27/doxy-\/testbed/lbann/include/lbann/\hyperlink{comm_8hpp}{comm.\+hpp}\item 
/\+Users/mckinney27/doxy-\/testbed/lbann/src/\hyperlink{comm_8cpp}{comm.\+cpp}\end{DoxyCompactItemize}
