\hypertarget{classlbann_1_1lbann__callback__check__init}{}\section{lbann\+:\+:lbann\+\_\+callback\+\_\+check\+\_\+init Class Reference}
\label{classlbann_1_1lbann__callback__check__init}\index{lbann\+::lbann\+\_\+callback\+\_\+check\+\_\+init@{lbann\+::lbann\+\_\+callback\+\_\+check\+\_\+init}}


{\ttfamily \#include $<$callback\+\_\+check\+\_\+init.\+hpp$>$}



Inheritance diagram for lbann\+:\+:lbann\+\_\+callback\+\_\+check\+\_\+init\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=192pt]{classlbann_1_1lbann__callback__check__init__inherit__graph}
\end{center}
\end{figure}


Collaboration diagram for lbann\+:\+:lbann\+\_\+callback\+\_\+check\+\_\+init\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=207pt]{classlbann_1_1lbann__callback__check__init__coll__graph}
\end{center}
\end{figure}
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classlbann_1_1lbann__callback__check__init_a3910da2c4e972567d79e5e414404a3da}{lbann\+\_\+callback\+\_\+check\+\_\+init} ()
\item 
\hyperlink{classlbann_1_1lbann__callback__check__init_a1378d95f56106f6983378aed464c5747}{lbann\+\_\+callback\+\_\+check\+\_\+init} (const \hyperlink{classlbann_1_1lbann__callback__check__init}{lbann\+\_\+callback\+\_\+check\+\_\+init} \&)=default
\item 
\hyperlink{classlbann_1_1lbann__callback__check__init}{lbann\+\_\+callback\+\_\+check\+\_\+init} \& \hyperlink{classlbann_1_1lbann__callback__check__init_a7f656e9810d478eba4bebdd77aa45407}{operator=} (const \hyperlink{classlbann_1_1lbann__callback__check__init}{lbann\+\_\+callback\+\_\+check\+\_\+init} \&)=default
\item 
\hyperlink{classlbann_1_1lbann__callback__check__init}{lbann\+\_\+callback\+\_\+check\+\_\+init} $\ast$ \hyperlink{classlbann_1_1lbann__callback__check__init_aa210192427df3f6aa7e12509e9b57f56}{copy} () const override
\item 
void \hyperlink{classlbann_1_1lbann__callback__check__init_a037f1371c56c1b528f487517a58ce3fb}{on\+\_\+train\+\_\+begin} (\hyperlink{classlbann_1_1model}{model} $\ast$m) override
\item 
std\+::string \hyperlink{classlbann_1_1lbann__callback__check__init_a4f8507c26f8e467697fef29ab8463b0f}{name} () const override
\end{DoxyCompactItemize}
\subsection*{Private Member Functions}
\begin{DoxyCompactItemize}
\item 
bool \hyperlink{classlbann_1_1lbann__callback__check__init_a9a7a7cffe24967aae2b82d1668c2b87c}{check\+\_\+equal} (const \hyperlink{base_8hpp_a68f11fdc31b62516cb310831bbe54d73}{Mat} \&x, const \hyperlink{base_8hpp_a68f11fdc31b62516cb310831bbe54d73}{Mat} \&y) const
\end{DoxyCompactItemize}
\subsection*{Additional Inherited Members}


\subsection{Detailed Description}
Verify that every model uses the same initialization. 

Definition at line 39 of file callback\+\_\+check\+\_\+init.\+hpp.



\subsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{classlbann_1_1lbann__callback__check__init_a3910da2c4e972567d79e5e414404a3da}\label{classlbann_1_1lbann__callback__check__init_a3910da2c4e972567d79e5e414404a3da}} 
\index{lbann\+::lbann\+\_\+callback\+\_\+check\+\_\+init@{lbann\+::lbann\+\_\+callback\+\_\+check\+\_\+init}!lbann\+\_\+callback\+\_\+check\+\_\+init@{lbann\+\_\+callback\+\_\+check\+\_\+init}}
\index{lbann\+\_\+callback\+\_\+check\+\_\+init@{lbann\+\_\+callback\+\_\+check\+\_\+init}!lbann\+::lbann\+\_\+callback\+\_\+check\+\_\+init@{lbann\+::lbann\+\_\+callback\+\_\+check\+\_\+init}}
\subsubsection{\texorpdfstring{lbann\+\_\+callback\+\_\+check\+\_\+init()}{lbann\_callback\_check\_init()}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily lbann\+::lbann\+\_\+callback\+\_\+check\+\_\+init\+::lbann\+\_\+callback\+\_\+check\+\_\+init (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Definition at line 41 of file callback\+\_\+check\+\_\+init.\+hpp.


\begin{DoxyCode}
41 : \hyperlink{classlbann_1_1lbann__callback_a679057298a41ddd47f08c157f756c584}{lbann\_callback}() \{\}
\end{DoxyCode}
Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classlbann_1_1lbann__callback__check__init_a3910da2c4e972567d79e5e414404a3da_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classlbann_1_1lbann__callback__check__init_a3910da2c4e972567d79e5e414404a3da_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classlbann_1_1lbann__callback__check__init_a1378d95f56106f6983378aed464c5747}\label{classlbann_1_1lbann__callback__check__init_a1378d95f56106f6983378aed464c5747}} 
\index{lbann\+::lbann\+\_\+callback\+\_\+check\+\_\+init@{lbann\+::lbann\+\_\+callback\+\_\+check\+\_\+init}!lbann\+\_\+callback\+\_\+check\+\_\+init@{lbann\+\_\+callback\+\_\+check\+\_\+init}}
\index{lbann\+\_\+callback\+\_\+check\+\_\+init@{lbann\+\_\+callback\+\_\+check\+\_\+init}!lbann\+::lbann\+\_\+callback\+\_\+check\+\_\+init@{lbann\+::lbann\+\_\+callback\+\_\+check\+\_\+init}}
\subsubsection{\texorpdfstring{lbann\+\_\+callback\+\_\+check\+\_\+init()}{lbann\_callback\_check\_init()}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily lbann\+::lbann\+\_\+callback\+\_\+check\+\_\+init\+::lbann\+\_\+callback\+\_\+check\+\_\+init (\begin{DoxyParamCaption}\item[{const \hyperlink{classlbann_1_1lbann__callback__check__init}{lbann\+\_\+callback\+\_\+check\+\_\+init} \&}]{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [default]}}



\subsection{Member Function Documentation}
\mbox{\Hypertarget{classlbann_1_1lbann__callback__check__init_a9a7a7cffe24967aae2b82d1668c2b87c}\label{classlbann_1_1lbann__callback__check__init_a9a7a7cffe24967aae2b82d1668c2b87c}} 
\index{lbann\+::lbann\+\_\+callback\+\_\+check\+\_\+init@{lbann\+::lbann\+\_\+callback\+\_\+check\+\_\+init}!check\+\_\+equal@{check\+\_\+equal}}
\index{check\+\_\+equal@{check\+\_\+equal}!lbann\+::lbann\+\_\+callback\+\_\+check\+\_\+init@{lbann\+::lbann\+\_\+callback\+\_\+check\+\_\+init}}
\subsubsection{\texorpdfstring{check\+\_\+equal()}{check\_equal()}}
{\footnotesize\ttfamily bool lbann\+::lbann\+\_\+callback\+\_\+check\+\_\+init\+::check\+\_\+equal (\begin{DoxyParamCaption}\item[{const \hyperlink{base_8hpp_a68f11fdc31b62516cb310831bbe54d73}{Mat} \&}]{x,  }\item[{const \hyperlink{base_8hpp_a68f11fdc31b62516cb310831bbe54d73}{Mat} \&}]{y }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [private]}}

Return true if x == y. 

Definition at line 74 of file callback\+\_\+check\+\_\+init.\+cpp.


\begin{DoxyCode}
74                                                                             \{
75   \textcolor{keyword}{const} El::Int height = x.Height();
76   \textcolor{keyword}{const} El::Int width = x.Width();
77   \textcolor{keywordflow}{if} (height != y.Height() || width != y.Width() || x.LDim() != y.LDim()) \{
78     \textcolor{keywordflow}{return} \textcolor{keyword}{false};
79   \}
80   \textcolor{keyword}{const} DataType *x\_buf = x.LockedBuffer();
81   \textcolor{keyword}{const} DataType *y\_buf = y.LockedBuffer();
82   \textcolor{keywordflow}{for} (El::Int i = 0; i < height * width; ++i) \{
83     \textcolor{keywordflow}{if} (x\_buf[i] != y\_buf[i]) \{
84       \textcolor{keywordflow}{return} \textcolor{keyword}{false};
85     \}
86   \}
87   \textcolor{keywordflow}{return} \textcolor{keyword}{true};
88 \}
\end{DoxyCode}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classlbann_1_1lbann__callback__check__init_a9a7a7cffe24967aae2b82d1668c2b87c_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classlbann_1_1lbann__callback__check__init_aa210192427df3f6aa7e12509e9b57f56}\label{classlbann_1_1lbann__callback__check__init_aa210192427df3f6aa7e12509e9b57f56}} 
\index{lbann\+::lbann\+\_\+callback\+\_\+check\+\_\+init@{lbann\+::lbann\+\_\+callback\+\_\+check\+\_\+init}!copy@{copy}}
\index{copy@{copy}!lbann\+::lbann\+\_\+callback\+\_\+check\+\_\+init@{lbann\+::lbann\+\_\+callback\+\_\+check\+\_\+init}}
\subsubsection{\texorpdfstring{copy()}{copy()}}
{\footnotesize\ttfamily \hyperlink{classlbann_1_1lbann__callback__check__init}{lbann\+\_\+callback\+\_\+check\+\_\+init}$\ast$ lbann\+::lbann\+\_\+callback\+\_\+check\+\_\+init\+::copy (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [override]}, {\ttfamily [virtual]}}



Implements \hyperlink{classlbann_1_1lbann__callback_a9f545d1269a8c7af335625d049691f26}{lbann\+::lbann\+\_\+callback}.



Definition at line 45 of file callback\+\_\+check\+\_\+init.\+hpp.


\begin{DoxyCode}
45                                                    \{
46     \textcolor{keywordflow}{return} \textcolor{keyword}{new} \hyperlink{classlbann_1_1lbann__callback__check__init_a3910da2c4e972567d79e5e414404a3da}{lbann\_callback\_check\_init}(*\textcolor{keyword}{this});
47   \}
\end{DoxyCode}
Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classlbann_1_1lbann__callback__check__init_aa210192427df3f6aa7e12509e9b57f56_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classlbann_1_1lbann__callback__check__init_a4f8507c26f8e467697fef29ab8463b0f}\label{classlbann_1_1lbann__callback__check__init_a4f8507c26f8e467697fef29ab8463b0f}} 
\index{lbann\+::lbann\+\_\+callback\+\_\+check\+\_\+init@{lbann\+::lbann\+\_\+callback\+\_\+check\+\_\+init}!name@{name}}
\index{name@{name}!lbann\+::lbann\+\_\+callback\+\_\+check\+\_\+init@{lbann\+::lbann\+\_\+callback\+\_\+check\+\_\+init}}
\subsubsection{\texorpdfstring{name()}{name()}}
{\footnotesize\ttfamily std\+::string lbann\+::lbann\+\_\+callback\+\_\+check\+\_\+init\+::name (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [override]}, {\ttfamily [virtual]}}

Return this callback\textquotesingle{}s name. 

Implements \hyperlink{classlbann_1_1lbann__callback_a7522c7a14f1d6a1ea762cc2d7248eb3a}{lbann\+::lbann\+\_\+callback}.



Definition at line 50 of file callback\+\_\+check\+\_\+init.\+hpp.


\begin{DoxyCode}
50 \{ \textcolor{keywordflow}{return} \textcolor{stringliteral}{"check init"}; \}
\end{DoxyCode}
Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classlbann_1_1lbann__callback__check__init_a4f8507c26f8e467697fef29ab8463b0f_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classlbann_1_1lbann__callback__check__init_a037f1371c56c1b528f487517a58ce3fb}\label{classlbann_1_1lbann__callback__check__init_a037f1371c56c1b528f487517a58ce3fb}} 
\index{lbann\+::lbann\+\_\+callback\+\_\+check\+\_\+init@{lbann\+::lbann\+\_\+callback\+\_\+check\+\_\+init}!on\+\_\+train\+\_\+begin@{on\+\_\+train\+\_\+begin}}
\index{on\+\_\+train\+\_\+begin@{on\+\_\+train\+\_\+begin}!lbann\+::lbann\+\_\+callback\+\_\+check\+\_\+init@{lbann\+::lbann\+\_\+callback\+\_\+check\+\_\+init}}
\subsubsection{\texorpdfstring{on\+\_\+train\+\_\+begin()}{on\_train\_begin()}}
{\footnotesize\ttfamily void lbann\+::lbann\+\_\+callback\+\_\+check\+\_\+init\+::on\+\_\+train\+\_\+begin (\begin{DoxyParamCaption}\item[{\hyperlink{classlbann_1_1model}{model} $\ast$}]{m }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}

Check initializations. 

Reimplemented from \hyperlink{classlbann_1_1lbann__callback_a7c8f0d211967ccc5219144e92571ab26}{lbann\+::lbann\+\_\+callback}.



Definition at line 34 of file callback\+\_\+check\+\_\+init.\+cpp.


\begin{DoxyCode}
34                                                        \{
35   \textcolor{comment}{// Skip after the first epoch.}
36   \textcolor{keywordflow}{if} (m->get\_cur\_epoch() != 0) \{
37     \textcolor{keywordflow}{return};
38   \}
39   lbann\_comm *\hyperlink{file__io_8cpp_ab048c6f9fcbcfaa57ce68b00263dbebe}{comm} = m->get\_comm();
40   \textcolor{keywordflow}{if} (comm->am\_world\_master()) \{
41     std::cout << \textcolor{stringliteral}{"Checking all model initial weights match..."} << std::endl;
42   \}
43   \textcolor{keywordflow}{if} (comm->get\_num\_models() == 1) \{
44     \textcolor{keywordflow}{return};
45   \}
46 
47   \textcolor{keywordflow}{for} (\textcolor{keyword}{const} \textcolor{keyword}{auto} w : m->get\_weights()) \{
48     \textcolor{keywordflow}{if} (comm->am\_world\_master()) \{
49       std::cout << \textcolor{stringliteral}{"Checking "} << w->get\_name() << std::endl;
50     \}
51     \textcolor{comment}{// Model 0 holds the master copy, it gathers the values from other models}
52     \textcolor{comment}{// and compares them.}
53     \textcolor{keyword}{const} \hyperlink{base_8hpp_a68f11fdc31b62516cb310831bbe54d73}{Mat}& local\_matrix = w->get\_values().LockedMatrix();
54     \hyperlink{base_8hpp_a68f11fdc31b62516cb310831bbe54d73}{Mat} remote\_matrix(local\_matrix.Height(), local\_matrix.Width());
55     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} \hyperlink{namespacelbann_adee41f31f15f3906cbdcce4a1417eb56a20f35e630daf44dbfa4c3f68f5399d8c}{model} = 1; \hyperlink{namespacelbann_adee41f31f15f3906cbdcce4a1417eb56a20f35e630daf44dbfa4c3f68f5399d8c}{model} < comm->get\_num\_models(); ++\hyperlink{namespacelbann_adee41f31f15f3906cbdcce4a1417eb56a20f35e630daf44dbfa4c3f68f5399d8c}{model}) \{
56       comm->global\_barrier();
57       \textcolor{keywordflow}{if} (comm->get\_model\_rank() == 0) \{
58         comm->recv(remote\_matrix, \hyperlink{namespacelbann_adee41f31f15f3906cbdcce4a1417eb56a20f35e630daf44dbfa4c3f68f5399d8c}{model});
59         \textcolor{keywordflow}{if} (!\hyperlink{classlbann_1_1lbann__callback__check__init_a9a7a7cffe24967aae2b82d1668c2b87c}{check\_equal}(local\_matrix, remote\_matrix)) \{
60           std::stringstream ss;
61           ss << \textcolor{stringliteral}{"check\_init: "}
62              << \textcolor{stringliteral}{"model "} << \hyperlink{namespacelbann_adee41f31f15f3906cbdcce4a1417eb56a20f35e630daf44dbfa4c3f68f5399d8c}{model} << \textcolor{stringliteral}{" "}
63              << \textcolor{stringliteral}{"rank in model "} << comm->get\_rank\_in\_model() << \textcolor{stringliteral}{" "}
64              << \textcolor{stringliteral}{"does not match model 0"};
65           \textcolor{keywordflow}{throw} lbann\_exception(ss.str());
66         \}
67       \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (comm->get\_model\_rank() == \hyperlink{namespacelbann_adee41f31f15f3906cbdcce4a1417eb56a20f35e630daf44dbfa4c3f68f5399d8c}{model}) \{
68         comm->send(local\_matrix, 0);
69       \}
70     \}
71   \}
72 \}
\end{DoxyCode}
Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classlbann_1_1lbann__callback__check__init_a037f1371c56c1b528f487517a58ce3fb_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classlbann_1_1lbann__callback__check__init_a037f1371c56c1b528f487517a58ce3fb_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classlbann_1_1lbann__callback__check__init_a7f656e9810d478eba4bebdd77aa45407}\label{classlbann_1_1lbann__callback__check__init_a7f656e9810d478eba4bebdd77aa45407}} 
\index{lbann\+::lbann\+\_\+callback\+\_\+check\+\_\+init@{lbann\+::lbann\+\_\+callback\+\_\+check\+\_\+init}!operator=@{operator=}}
\index{operator=@{operator=}!lbann\+::lbann\+\_\+callback\+\_\+check\+\_\+init@{lbann\+::lbann\+\_\+callback\+\_\+check\+\_\+init}}
\subsubsection{\texorpdfstring{operator=()}{operator=()}}
{\footnotesize\ttfamily \hyperlink{classlbann_1_1lbann__callback__check__init}{lbann\+\_\+callback\+\_\+check\+\_\+init}\& lbann\+::lbann\+\_\+callback\+\_\+check\+\_\+init\+::operator= (\begin{DoxyParamCaption}\item[{const \hyperlink{classlbann_1_1lbann__callback__check__init}{lbann\+\_\+callback\+\_\+check\+\_\+init} \&}]{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [default]}}

Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classlbann_1_1lbann__callback__check__init_a7f656e9810d478eba4bebdd77aa45407_icgraph}
\end{center}
\end{figure}


The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
/\+Users/mckinney27/doxy-\/testbed/lbann/include/lbann/callbacks/\hyperlink{callback__check__init_8hpp}{callback\+\_\+check\+\_\+init.\+hpp}\item 
/\+Users/mckinney27/doxy-\/testbed/lbann/src/callbacks/\hyperlink{callback__check__init_8cpp}{callback\+\_\+check\+\_\+init.\+cpp}\end{DoxyCompactItemize}
