\hypertarget{classlbann_1_1data__store__pilot2__molecular}{}\section{lbann\+:\+:data\+\_\+store\+\_\+pilot2\+\_\+molecular Class Reference}
\label{classlbann_1_1data__store__pilot2__molecular}\index{lbann\+::data\+\_\+store\+\_\+pilot2\+\_\+molecular@{lbann\+::data\+\_\+store\+\_\+pilot2\+\_\+molecular}}


{\ttfamily \#include $<$data\+\_\+store\+\_\+pilot2\+\_\+molecular.\+hpp$>$}



Inheritance diagram for lbann\+:\+:data\+\_\+store\+\_\+pilot2\+\_\+molecular\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=203pt]{classlbann_1_1data__store__pilot2__molecular__inherit__graph}
\end{center}
\end{figure}


Collaboration diagram for lbann\+:\+:data\+\_\+store\+\_\+pilot2\+\_\+molecular\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classlbann_1_1data__store__pilot2__molecular__coll__graph}
\end{center}
\end{figure}
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classlbann_1_1data__store__pilot2__molecular_a125dd5e8628bb97608bd8e4a7b7428ef}{data\+\_\+store\+\_\+pilot2\+\_\+molecular} (\hyperlink{classlbann_1_1generic__data__reader}{generic\+\_\+data\+\_\+reader} $\ast$reader, \hyperlink{classlbann_1_1model}{model} $\ast$m)
\begin{DoxyCompactList}\small\item\em ctor \end{DoxyCompactList}\item 
\hyperlink{classlbann_1_1data__store__pilot2__molecular_a00cabec3193c88d5317da61b8277587f}{data\+\_\+store\+\_\+pilot2\+\_\+molecular} (const \hyperlink{classlbann_1_1data__store__pilot2__molecular}{data\+\_\+store\+\_\+pilot2\+\_\+molecular} \&)=default
\begin{DoxyCompactList}\small\item\em copy ctor \end{DoxyCompactList}\item 
\hyperlink{classlbann_1_1data__store__pilot2__molecular}{data\+\_\+store\+\_\+pilot2\+\_\+molecular} \& \hyperlink{classlbann_1_1data__store__pilot2__molecular_a83dafc1e48b19b5d90f5618f64bfd158}{operator=} (const \hyperlink{classlbann_1_1data__store__pilot2__molecular}{data\+\_\+store\+\_\+pilot2\+\_\+molecular} \&)=default
\begin{DoxyCompactList}\small\item\em operator= \end{DoxyCompactList}\item 
\hyperlink{classlbann_1_1data__store__pilot2__molecular}{data\+\_\+store\+\_\+pilot2\+\_\+molecular} $\ast$ \hyperlink{classlbann_1_1data__store__pilot2__molecular_a1a59e48a8c7ca8efe86509e0d9cd1307}{copy} () const override
\item 
\hyperlink{classlbann_1_1data__store__pilot2__molecular_a73f7d920f8f8174af4c2cec984fee7e6}{$\sim$data\+\_\+store\+\_\+pilot2\+\_\+molecular} () override
\begin{DoxyCompactList}\small\item\em dtor \end{DoxyCompactList}\item 
void \hyperlink{classlbann_1_1data__store__pilot2__molecular_ab0f82fb7fdec7779bbb693e06a206127}{get\+\_\+data\+\_\+buf} (int data\+\_\+id, int tid, std\+::vector$<$ double $>$ $\ast$\&buf) override
\item 
void \hyperlink{classlbann_1_1data__store__pilot2__molecular_a975d7907053a8b2e92ea5f77ca4ae7a3}{setup} () override
\begin{DoxyCompactList}\small\item\em called by \hyperlink{classlbann_1_1generic__data__reader_a8b2a09d38512fc11f1b9d572c89100a7}{generic\+\_\+data\+\_\+reader\+::setup\+\_\+data\+\_\+store} \end{DoxyCompactList}\item 
void \hyperlink{classlbann_1_1data__store__pilot2__molecular_a246274b369ed60bf214cf503019ab2ca}{clear\+\_\+minibatch\+\_\+indices} ()
\begin{DoxyCompactList}\small\item\em needed to support \hyperlink{classlbann_1_1data__reader__merge__samples}{data\+\_\+reader\+\_\+merge\+\_\+samples} (compound reader) \end{DoxyCompactList}\item 
void \hyperlink{classlbann_1_1data__store__pilot2__molecular_ae8d35b2245ee84a7e9b3653802e472ca}{add\+\_\+minibatch\+\_\+index} (int idx)
\begin{DoxyCompactList}\small\item\em needed to support \hyperlink{classlbann_1_1data__reader__merge__samples}{data\+\_\+reader\+\_\+merge\+\_\+samples} (compound reader) \end{DoxyCompactList}\item 
void \hyperlink{classlbann_1_1data__store__pilot2__molecular_a6abbcb3996da1fd6ef165463ad27debe}{set\+\_\+no\+\_\+shuffle} ()
\begin{DoxyCompactList}\small\item\em needed to support \hyperlink{classlbann_1_1data__reader__merge__samples}{data\+\_\+reader\+\_\+merge\+\_\+samples} (compound reader) \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Protected Member Functions}
\begin{DoxyCompactItemize}
\item 
void \hyperlink{classlbann_1_1data__store__pilot2__molecular_a8021fa0a93e39c9d43de6ecc2d72e14e}{construct\+\_\+data\+\_\+store} ()
\begin{DoxyCompactList}\small\item\em fills in m\+\_\+data \end{DoxyCompactList}\item 
void \hyperlink{classlbann_1_1data__store__pilot2__molecular_a0157fe4d04961c03c0d983cb43aa1cec}{fill\+\_\+in\+\_\+data} (const int data\+\_\+id, const int num\+\_\+samples\+\_\+per\+\_\+frame, const int num\+\_\+features, double $\ast$features)
\begin{DoxyCompactList}\small\item\em called by \hyperlink{classlbann_1_1data__store__pilot2__molecular_a8021fa0a93e39c9d43de6ecc2d72e14e}{construct\+\_\+data\+\_\+store()} \end{DoxyCompactList}\item 
void \hyperlink{classlbann_1_1data__store__pilot2__molecular_af70726cfb8377832ce457d9b874bf34e}{build\+\_\+nabor\+\_\+map} ()
\begin{DoxyCompactList}\small\item\em fills in m\+\_\+neighbors \end{DoxyCompactList}\item 
void \hyperlink{classlbann_1_1data__store__pilot2__molecular_addaa6db4e1b3a25424da9da63c0b3616}{exchange\+\_\+data} () override
\begin{DoxyCompactList}\small\item\em fills in m\+\_\+my\+\_\+molecules using non-\/blocking M\+PI send/recv \end{DoxyCompactList}\item 
void \hyperlink{classlbann_1_1data__store__pilot2__molecular_a7eadb63f1c879c62b587a7b5d972d4e4}{get\+\_\+required\+\_\+molecules} (std\+::unordered\+\_\+set$<$ int $>$ \&s, int p)
\end{DoxyCompactItemize}
\subsection*{Protected Attributes}
\begin{DoxyCompactItemize}
\item 
friend \hyperlink{classlbann_1_1data__store__pilot2__molecular_a36aa0ef7fa75daf309b4350ebfdb94be}{data\+\_\+store\+\_\+merge\+\_\+samples}
\item 
\hyperlink{classlbann_1_1pilot2__molecular__reader}{pilot2\+\_\+molecular\+\_\+reader} $\ast$ \hyperlink{classlbann_1_1data__store__pilot2__molecular_a1875ae12fe7c2b11818ddb3fecff9f72}{m\+\_\+pilot2\+\_\+reader}
\item 
std\+::unordered\+\_\+map$<$ int, std\+::vector$<$ double $>$ $>$ \hyperlink{classlbann_1_1data__store__pilot2__molecular_afbb012980857b9841deefb055905e6f5}{m\+\_\+data}
\item 
std\+::unordered\+\_\+map$<$ int, std\+::vector$<$ int $>$ $>$ \hyperlink{classlbann_1_1data__store__pilot2__molecular_a567c6bcdfab6f9248f3c320d505861bc}{m\+\_\+neighbors}
\begin{DoxyCompactList}\small\item\em maps\+: a shuffled index to the corresponding molecule\textquotesingle{}s neighbors\textquotesingle{} indices \end{DoxyCompactList}\item 
std\+::unordered\+\_\+map$<$ int, std\+::vector$<$ double $>$ $>$ \hyperlink{classlbann_1_1data__store__pilot2__molecular_a67fb9174cecff931f61e7f6ca000315b}{m\+\_\+my\+\_\+molecules}
\item 
std\+::vector$<$ std\+::vector$<$ double $>$ $>$ \hyperlink{classlbann_1_1data__store__pilot2__molecular_aad14735a82ce4cdcb153fcca94cd2b41}{m\+\_\+data\+\_\+buffer}
\begin{DoxyCompactList}\small\item\em the buffers that will be passed to data\+\_\+readers\+::fetch\+\_\+datum \end{DoxyCompactList}\item 
int \hyperlink{classlbann_1_1data__store__pilot2__molecular_ad0c7ed6c6858d9958f73000b0b3137ac}{m\+\_\+owner\+\_\+rank}
\item 
bool \hyperlink{classlbann_1_1data__store__pilot2__molecular_a9229deea455ef0a68508e6b956887dd3}{m\+\_\+owner}
\begin{DoxyCompactList}\small\item\em true if this processor \char`\"{}owns\char`\"{} the data \end{DoxyCompactList}\item 
bool \hyperlink{classlbann_1_1data__store__pilot2__molecular_afedbbd7592df7b60c71a7744eb8ccbf9}{m\+\_\+shuffle}
\begin{DoxyCompactList}\small\item\em support for \hyperlink{classlbann_1_1data__store__merge__samples}{data\+\_\+store\+\_\+merge\+\_\+samples} \end{DoxyCompactList}\end{DoxyCompactItemize}


\subsection{Detailed Description}
todo 

Definition at line 43 of file data\+\_\+store\+\_\+pilot2\+\_\+molecular.\+hpp.



\subsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{classlbann_1_1data__store__pilot2__molecular_a125dd5e8628bb97608bd8e4a7b7428ef}\label{classlbann_1_1data__store__pilot2__molecular_a125dd5e8628bb97608bd8e4a7b7428ef}} 
\index{lbann\+::data\+\_\+store\+\_\+pilot2\+\_\+molecular@{lbann\+::data\+\_\+store\+\_\+pilot2\+\_\+molecular}!data\+\_\+store\+\_\+pilot2\+\_\+molecular@{data\+\_\+store\+\_\+pilot2\+\_\+molecular}}
\index{data\+\_\+store\+\_\+pilot2\+\_\+molecular@{data\+\_\+store\+\_\+pilot2\+\_\+molecular}!lbann\+::data\+\_\+store\+\_\+pilot2\+\_\+molecular@{lbann\+::data\+\_\+store\+\_\+pilot2\+\_\+molecular}}
\subsubsection{\texorpdfstring{data\+\_\+store\+\_\+pilot2\+\_\+molecular()}{data\_store\_pilot2\_molecular()}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily lbann\+::data\+\_\+store\+\_\+pilot2\+\_\+molecular\+::data\+\_\+store\+\_\+pilot2\+\_\+molecular (\begin{DoxyParamCaption}\item[{\hyperlink{classlbann_1_1generic__data__reader}{generic\+\_\+data\+\_\+reader} $\ast$}]{reader,  }\item[{\hyperlink{classlbann_1_1model}{model} $\ast$}]{m }\end{DoxyParamCaption})}



ctor 



Definition at line 37 of file data\+\_\+store\+\_\+pilot2\+\_\+molecular.\+cpp.


\begin{DoxyCode}
38                                          :
39   \hyperlink{classlbann_1_1generic__data__store_acbcd88161c06f4bb9a70bbae857d4ee0}{generic\_data\_store}(reader, m) \{
40   \hyperlink{classlbann_1_1generic__data__store_a853741295a07b5687921fc56d0d7d5b2}{set\_name}(\textcolor{stringliteral}{"data\_store\_pilot2\_molecular"});
41 \}
\end{DoxyCode}
Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=343pt]{classlbann_1_1data__store__pilot2__molecular_a125dd5e8628bb97608bd8e4a7b7428ef_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classlbann_1_1data__store__pilot2__molecular_a125dd5e8628bb97608bd8e4a7b7428ef_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classlbann_1_1data__store__pilot2__molecular_a00cabec3193c88d5317da61b8277587f}\label{classlbann_1_1data__store__pilot2__molecular_a00cabec3193c88d5317da61b8277587f}} 
\index{lbann\+::data\+\_\+store\+\_\+pilot2\+\_\+molecular@{lbann\+::data\+\_\+store\+\_\+pilot2\+\_\+molecular}!data\+\_\+store\+\_\+pilot2\+\_\+molecular@{data\+\_\+store\+\_\+pilot2\+\_\+molecular}}
\index{data\+\_\+store\+\_\+pilot2\+\_\+molecular@{data\+\_\+store\+\_\+pilot2\+\_\+molecular}!lbann\+::data\+\_\+store\+\_\+pilot2\+\_\+molecular@{lbann\+::data\+\_\+store\+\_\+pilot2\+\_\+molecular}}
\subsubsection{\texorpdfstring{data\+\_\+store\+\_\+pilot2\+\_\+molecular()}{data\_store\_pilot2\_molecular()}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily lbann\+::data\+\_\+store\+\_\+pilot2\+\_\+molecular\+::data\+\_\+store\+\_\+pilot2\+\_\+molecular (\begin{DoxyParamCaption}\item[{const \hyperlink{classlbann_1_1data__store__pilot2__molecular}{data\+\_\+store\+\_\+pilot2\+\_\+molecular} \&}]{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [default]}}



copy ctor 

\mbox{\Hypertarget{classlbann_1_1data__store__pilot2__molecular_a73f7d920f8f8174af4c2cec984fee7e6}\label{classlbann_1_1data__store__pilot2__molecular_a73f7d920f8f8174af4c2cec984fee7e6}} 
\index{lbann\+::data\+\_\+store\+\_\+pilot2\+\_\+molecular@{lbann\+::data\+\_\+store\+\_\+pilot2\+\_\+molecular}!````~data\+\_\+store\+\_\+pilot2\+\_\+molecular@{$\sim$data\+\_\+store\+\_\+pilot2\+\_\+molecular}}
\index{````~data\+\_\+store\+\_\+pilot2\+\_\+molecular@{$\sim$data\+\_\+store\+\_\+pilot2\+\_\+molecular}!lbann\+::data\+\_\+store\+\_\+pilot2\+\_\+molecular@{lbann\+::data\+\_\+store\+\_\+pilot2\+\_\+molecular}}
\subsubsection{\texorpdfstring{$\sim$data\+\_\+store\+\_\+pilot2\+\_\+molecular()}{~data\_store\_pilot2\_molecular()}}
{\footnotesize\ttfamily lbann\+::data\+\_\+store\+\_\+pilot2\+\_\+molecular\+::$\sim$data\+\_\+store\+\_\+pilot2\+\_\+molecular (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}}



dtor 



Definition at line 43 of file data\+\_\+store\+\_\+pilot2\+\_\+molecular.\+cpp.


\begin{DoxyCode}
43                                                           \{
44   \textcolor{comment}{//MPI\_Win\_free( &m\_win );}
45 \}
\end{DoxyCode}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classlbann_1_1data__store__pilot2__molecular_a73f7d920f8f8174af4c2cec984fee7e6_icgraph}
\end{center}
\end{figure}


\subsection{Member Function Documentation}
\mbox{\Hypertarget{classlbann_1_1data__store__pilot2__molecular_ae8d35b2245ee84a7e9b3653802e472ca}\label{classlbann_1_1data__store__pilot2__molecular_ae8d35b2245ee84a7e9b3653802e472ca}} 
\index{lbann\+::data\+\_\+store\+\_\+pilot2\+\_\+molecular@{lbann\+::data\+\_\+store\+\_\+pilot2\+\_\+molecular}!add\+\_\+minibatch\+\_\+index@{add\+\_\+minibatch\+\_\+index}}
\index{add\+\_\+minibatch\+\_\+index@{add\+\_\+minibatch\+\_\+index}!lbann\+::data\+\_\+store\+\_\+pilot2\+\_\+molecular@{lbann\+::data\+\_\+store\+\_\+pilot2\+\_\+molecular}}
\subsubsection{\texorpdfstring{add\+\_\+minibatch\+\_\+index()}{add\_minibatch\_index()}}
{\footnotesize\ttfamily void lbann\+::data\+\_\+store\+\_\+pilot2\+\_\+molecular\+::add\+\_\+minibatch\+\_\+index (\begin{DoxyParamCaption}\item[{int}]{idx }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



needed to support \hyperlink{classlbann_1_1data__reader__merge__samples}{data\+\_\+reader\+\_\+merge\+\_\+samples} (compound reader) 



Definition at line 70 of file data\+\_\+store\+\_\+pilot2\+\_\+molecular.\+hpp.


\begin{DoxyCode}
70                                     \{
71     \hyperlink{classlbann_1_1generic__data__store_a41f7fec1f1f3d6568a5765be7a6784eb}{m\_my\_minibatch\_indices\_v}.push\_back(idx);
72   \}
\end{DoxyCode}
\mbox{\Hypertarget{classlbann_1_1data__store__pilot2__molecular_af70726cfb8377832ce457d9b874bf34e}\label{classlbann_1_1data__store__pilot2__molecular_af70726cfb8377832ce457d9b874bf34e}} 
\index{lbann\+::data\+\_\+store\+\_\+pilot2\+\_\+molecular@{lbann\+::data\+\_\+store\+\_\+pilot2\+\_\+molecular}!build\+\_\+nabor\+\_\+map@{build\+\_\+nabor\+\_\+map}}
\index{build\+\_\+nabor\+\_\+map@{build\+\_\+nabor\+\_\+map}!lbann\+::data\+\_\+store\+\_\+pilot2\+\_\+molecular@{lbann\+::data\+\_\+store\+\_\+pilot2\+\_\+molecular}}
\subsubsection{\texorpdfstring{build\+\_\+nabor\+\_\+map()}{build\_nabor\_map()}}
{\footnotesize\ttfamily void lbann\+::data\+\_\+store\+\_\+pilot2\+\_\+molecular\+::build\+\_\+nabor\+\_\+map (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}}



fills in m\+\_\+neighbors 



Definition at line 155 of file data\+\_\+store\+\_\+pilot2\+\_\+molecular.\+cpp.


\begin{DoxyCode}
155                                                   \{
156   \textcolor{comment}{//bcast neighbor data}
157   \textcolor{keywordtype}{int} sz;
158   \textcolor{keywordflow}{if} (\hyperlink{classlbann_1_1data__store__pilot2__molecular_a9229deea455ef0a68508e6b956887dd3}{m\_owner}) sz= \hyperlink{classlbann_1_1data__store__pilot2__molecular_a1875ae12fe7c2b11818ddb3fecff9f72}{m\_pilot2\_reader}->
      \hyperlink{classlbann_1_1pilot2__molecular__reader_a628d96b642e913550316076a11ba5285}{get\_neighbors\_data\_size}();
159   MPI\_Bcast(&sz, 1, MPI\_INT, \hyperlink{classlbann_1_1data__store__pilot2__molecular_ad0c7ed6c6858d9958f73000b0b3137ac}{m\_owner\_rank}, \hyperlink{classlbann_1_1generic__data__store_ae2d2d61d5d766a7f525eedcb05e0dbf6}{m\_mpi\_comm});
160   \textcolor{keywordtype}{double} *neighbors\_8;
161   std::vector<double> work;
162   \textcolor{keywordflow}{if} (\hyperlink{classlbann_1_1data__store__pilot2__molecular_a9229deea455ef0a68508e6b956887dd3}{m\_owner}) \{
163     neighbors\_8 = \hyperlink{classlbann_1_1data__store__pilot2__molecular_a1875ae12fe7c2b11818ddb3fecff9f72}{m\_pilot2\_reader}->\hyperlink{classlbann_1_1pilot2__molecular__reader_a9553eeece9aa1658cdc986b3ef803dea}{get\_neighbors\_8}();
164   \} \textcolor{keywordflow}{else} \{
165     work.resize(sz);
166     neighbors\_8 = work.data();
167   \}
168   MPI\_Bcast(neighbors\_8, sz, MPI\_DOUBLE, \hyperlink{classlbann_1_1data__store__pilot2__molecular_ad0c7ed6c6858d9958f73000b0b3137ac}{m\_owner\_rank}, \hyperlink{classlbann_1_1generic__data__store_ae2d2d61d5d766a7f525eedcb05e0dbf6}{m\_mpi\_comm});
169 
170   \textcolor{comment}{//fill in the nabors map}
171   \textcolor{keywordflow}{for} (\textcolor{keyword}{auto} data\_id : (*\hyperlink{classlbann_1_1generic__data__store_ad456f747ee07f63df15c60833dfb82ad}{m\_shuffled\_indices})) \{
172     \textcolor{keywordtype}{int} frame = \hyperlink{classlbann_1_1data__store__pilot2__molecular_a1875ae12fe7c2b11818ddb3fecff9f72}{m\_pilot2\_reader}->\hyperlink{classlbann_1_1pilot2__molecular__reader_ac95223a0829a83a5d400c4d66efdcb93}{get\_frame}(data\_id);
173     \textcolor{keywordtype}{int} max\_neighborhood = \hyperlink{classlbann_1_1data__store__pilot2__molecular_a1875ae12fe7c2b11818ddb3fecff9f72}{m\_pilot2\_reader}->\hyperlink{classlbann_1_1pilot2__molecular__reader_a1dcc424e004681f9287453df64bb751f}{get\_max\_neighborhood}();
174     \textcolor{keywordtype}{int} num\_samples\_per\_frame = \hyperlink{classlbann_1_1data__store__pilot2__molecular_a1875ae12fe7c2b11818ddb3fecff9f72}{m\_pilot2\_reader}->
      \hyperlink{classlbann_1_1pilot2__molecular__reader_a91e233f9878e93e31de2085cbcad1f10}{get\_num\_samples\_per\_frame}();
175     \textcolor{keyword}{const} \textcolor{keywordtype}{int} neighbor\_frame\_offset = frame * num\_samples\_per\_frame * (2 * max\_neighborhood);
176     \textcolor{keyword}{const} \textcolor{keywordtype}{int} intra\_frame\_data\_id = data\_id - frame * num\_samples\_per\_frame;
177     \textcolor{keywordtype}{int} num\_neighbors = \hyperlink{classlbann_1_1data__store__pilot2__molecular_a1875ae12fe7c2b11818ddb3fecff9f72}{m\_pilot2\_reader}->\hyperlink{classlbann_1_1pilot2__molecular__reader_a7c379056841cda42247ff518270bcfdf}{get\_num\_neighbors}();
178     \hyperlink{classlbann_1_1data__store__pilot2__molecular_a567c6bcdfab6f9248f3c320d505861bc}{m\_neighbors}[data\_id].reserve(num\_neighbors);
179     \textcolor{keywordtype}{double} *neighbor\_data = neighbors\_8 + neighbor\_frame\_offset + intra\_frame\_data\_id * (2 * 
      max\_neighborhood);
180     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i=1; i<num\_neighbors + 1; ++i) \{
181       \textcolor{keywordtype}{int} neighbor\_id = neighbor\_data[i];
182       \hyperlink{classlbann_1_1data__store__pilot2__molecular_a567c6bcdfab6f9248f3c320d505861bc}{m\_neighbors}[data\_id].push\_back(neighbor\_id);
183     \}
184   \}
185 \}
\end{DoxyCode}
Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classlbann_1_1data__store__pilot2__molecular_af70726cfb8377832ce457d9b874bf34e_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classlbann_1_1data__store__pilot2__molecular_af70726cfb8377832ce457d9b874bf34e_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classlbann_1_1data__store__pilot2__molecular_a246274b369ed60bf214cf503019ab2ca}\label{classlbann_1_1data__store__pilot2__molecular_a246274b369ed60bf214cf503019ab2ca}} 
\index{lbann\+::data\+\_\+store\+\_\+pilot2\+\_\+molecular@{lbann\+::data\+\_\+store\+\_\+pilot2\+\_\+molecular}!clear\+\_\+minibatch\+\_\+indices@{clear\+\_\+minibatch\+\_\+indices}}
\index{clear\+\_\+minibatch\+\_\+indices@{clear\+\_\+minibatch\+\_\+indices}!lbann\+::data\+\_\+store\+\_\+pilot2\+\_\+molecular@{lbann\+::data\+\_\+store\+\_\+pilot2\+\_\+molecular}}
\subsubsection{\texorpdfstring{clear\+\_\+minibatch\+\_\+indices()}{clear\_minibatch\_indices()}}
{\footnotesize\ttfamily void lbann\+::data\+\_\+store\+\_\+pilot2\+\_\+molecular\+::clear\+\_\+minibatch\+\_\+indices (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



needed to support \hyperlink{classlbann_1_1data__reader__merge__samples}{data\+\_\+reader\+\_\+merge\+\_\+samples} (compound reader) 



Definition at line 65 of file data\+\_\+store\+\_\+pilot2\+\_\+molecular.\+hpp.


\begin{DoxyCode}
65                                  \{
66     \hyperlink{classlbann_1_1generic__data__store_a41f7fec1f1f3d6568a5765be7a6784eb}{m\_my\_minibatch\_indices\_v}.clear();
67   \}
\end{DoxyCode}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classlbann_1_1data__store__pilot2__molecular_a246274b369ed60bf214cf503019ab2ca_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classlbann_1_1data__store__pilot2__molecular_a8021fa0a93e39c9d43de6ecc2d72e14e}\label{classlbann_1_1data__store__pilot2__molecular_a8021fa0a93e39c9d43de6ecc2d72e14e}} 
\index{lbann\+::data\+\_\+store\+\_\+pilot2\+\_\+molecular@{lbann\+::data\+\_\+store\+\_\+pilot2\+\_\+molecular}!construct\+\_\+data\+\_\+store@{construct\+\_\+data\+\_\+store}}
\index{construct\+\_\+data\+\_\+store@{construct\+\_\+data\+\_\+store}!lbann\+::data\+\_\+store\+\_\+pilot2\+\_\+molecular@{lbann\+::data\+\_\+store\+\_\+pilot2\+\_\+molecular}}
\subsubsection{\texorpdfstring{construct\+\_\+data\+\_\+store()}{construct\_data\_store()}}
{\footnotesize\ttfamily void lbann\+::data\+\_\+store\+\_\+pilot2\+\_\+molecular\+::construct\+\_\+data\+\_\+store (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}}



fills in m\+\_\+data 



Definition at line 109 of file data\+\_\+store\+\_\+pilot2\+\_\+molecular.\+cpp.


\begin{DoxyCode}
109                                                        \{
110   std::stringstream err;
111 
112   \textcolor{comment}{// get the feature and neighbor data from the pilot2\_molecular data reader}
113   \textcolor{keywordflow}{if} (\hyperlink{classlbann_1_1data__store__pilot2__molecular_a1875ae12fe7c2b11818ddb3fecff9f72}{m\_pilot2\_reader}->\hyperlink{classlbann_1_1pilot2__molecular__reader_abba5a68c484be69a441e5e9711356a46}{get\_word\_size}() == 4) \{
114     err << \_\_FILE\_\_ << \textcolor{stringliteral}{" "} << \_\_LINE\_\_ << \textcolor{stringliteral}{" :: "}
115         << \textcolor{stringliteral}{"not implemented for word\_size = 4; please ask Dave Hysom to fix"};
116     \textcolor{keywordflow}{throw} lbann\_exception(err.str());
117   \}
118   \textcolor{keywordtype}{double} *features\_8 = \hyperlink{classlbann_1_1data__store__pilot2__molecular_a1875ae12fe7c2b11818ddb3fecff9f72}{m\_pilot2\_reader}->\hyperlink{classlbann_1_1pilot2__molecular__reader_a6694fec3678fd8a883d5d8de6c2c74d5}{get\_features\_8}();
119 
120   \textcolor{keywordtype}{int} num\_samples\_per\_frame = \hyperlink{classlbann_1_1data__store__pilot2__molecular_a1875ae12fe7c2b11818ddb3fecff9f72}{m\_pilot2\_reader}->
      \hyperlink{classlbann_1_1pilot2__molecular__reader_a91e233f9878e93e31de2085cbcad1f10}{get\_num\_samples\_per\_frame}();
121   
122   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{size\_t} j=0; j<\hyperlink{classlbann_1_1generic__data__store_a0dfa2ffa01845b84ca477fb3e14a36c6}{m\_num\_global\_indices}; j++) \{
123     \textcolor{keywordtype}{int} data\_id = (*m\_shuffled\_indices)[j];
124     \textcolor{keywordtype}{int} num\_features = \hyperlink{classlbann_1_1data__store__pilot2__molecular_a1875ae12fe7c2b11818ddb3fecff9f72}{m\_pilot2\_reader}->\hyperlink{classlbann_1_1pilot2__molecular__reader_ad4fcb0da3f6964cbe24de4feac3f5f4a}{get\_num\_features}();
125     \hyperlink{classlbann_1_1data__store__pilot2__molecular_a0157fe4d04961c03c0d983cb43aa1cec}{fill\_in\_data}(data\_id, num\_samples\_per\_frame, num\_features, features\_8);
126   \}
127 \}
\end{DoxyCode}
Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classlbann_1_1data__store__pilot2__molecular_a8021fa0a93e39c9d43de6ecc2d72e14e_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classlbann_1_1data__store__pilot2__molecular_a8021fa0a93e39c9d43de6ecc2d72e14e_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classlbann_1_1data__store__pilot2__molecular_a1a59e48a8c7ca8efe86509e0d9cd1307}\label{classlbann_1_1data__store__pilot2__molecular_a1a59e48a8c7ca8efe86509e0d9cd1307}} 
\index{lbann\+::data\+\_\+store\+\_\+pilot2\+\_\+molecular@{lbann\+::data\+\_\+store\+\_\+pilot2\+\_\+molecular}!copy@{copy}}
\index{copy@{copy}!lbann\+::data\+\_\+store\+\_\+pilot2\+\_\+molecular@{lbann\+::data\+\_\+store\+\_\+pilot2\+\_\+molecular}}
\subsubsection{\texorpdfstring{copy()}{copy()}}
{\footnotesize\ttfamily \hyperlink{classlbann_1_1data__store__pilot2__molecular}{data\+\_\+store\+\_\+pilot2\+\_\+molecular}$\ast$ lbann\+::data\+\_\+store\+\_\+pilot2\+\_\+molecular\+::copy (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [override]}, {\ttfamily [virtual]}}



Implements \hyperlink{classlbann_1_1generic__data__store_ae06e089790aa023b839be508a3c020c6}{lbann\+::generic\+\_\+data\+\_\+store}.



Definition at line 55 of file data\+\_\+store\+\_\+pilot2\+\_\+molecular.\+hpp.


\begin{DoxyCode}
55 \{ \textcolor{keywordflow}{return} \textcolor{keyword}{new} \hyperlink{classlbann_1_1data__store__pilot2__molecular_a125dd5e8628bb97608bd8e4a7b7428ef}{data\_store\_pilot2\_molecular}(*\textcolor{keyword}{this}); \}
\end{DoxyCode}
Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classlbann_1_1data__store__pilot2__molecular_a1a59e48a8c7ca8efe86509e0d9cd1307_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classlbann_1_1data__store__pilot2__molecular_addaa6db4e1b3a25424da9da63c0b3616}\label{classlbann_1_1data__store__pilot2__molecular_addaa6db4e1b3a25424da9da63c0b3616}} 
\index{lbann\+::data\+\_\+store\+\_\+pilot2\+\_\+molecular@{lbann\+::data\+\_\+store\+\_\+pilot2\+\_\+molecular}!exchange\+\_\+data@{exchange\+\_\+data}}
\index{exchange\+\_\+data@{exchange\+\_\+data}!lbann\+::data\+\_\+store\+\_\+pilot2\+\_\+molecular@{lbann\+::data\+\_\+store\+\_\+pilot2\+\_\+molecular}}
\subsubsection{\texorpdfstring{exchange\+\_\+data()}{exchange\_data()}}
{\footnotesize\ttfamily void lbann\+::data\+\_\+store\+\_\+pilot2\+\_\+molecular\+::exchange\+\_\+data (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [protected]}, {\ttfamily [virtual]}}



fills in m\+\_\+my\+\_\+molecules using non-\/blocking M\+PI send/recv 



Implements \hyperlink{classlbann_1_1generic__data__store_a5a34663fbbc3714d45743a6ca7195f51}{lbann\+::generic\+\_\+data\+\_\+store}.



Definition at line 251 of file data\+\_\+store\+\_\+pilot2\+\_\+molecular.\+cpp.


\begin{DoxyCode}
251                                                 \{
252   \textcolor{keywordtype}{double} tm1 = \hyperlink{namespacelbann_a478d36031ff0659893c4322cd856157f}{get\_time}();
253   std::stringstream err;
254 
255   \textcolor{comment}{//get set of molecules required for the next epoch for myself}
256   std::unordered\_set<int> required\_molecules;
257   \hyperlink{classlbann_1_1data__store__pilot2__molecular_a7eadb63f1c879c62b587a7b5d972d4e4}{get\_required\_molecules}(required\_molecules, \hyperlink{classlbann_1_1generic__data__store_a87695bfd2d1ed0dbe01d99108e3f68b7}{m\_rank});
258 
259   \textcolor{comment}{//start receives for my required molecules}
260   \hyperlink{classlbann_1_1data__store__pilot2__molecular_a67fb9174cecff931f61e7f6ca000315b}{m\_my\_molecules}.clear();
261   \textcolor{keywordtype}{int} num\_features = \hyperlink{classlbann_1_1data__store__pilot2__molecular_a1875ae12fe7c2b11818ddb3fecff9f72}{m\_pilot2\_reader}->\hyperlink{classlbann_1_1pilot2__molecular__reader_ad4fcb0da3f6964cbe24de4feac3f5f4a}{get\_num\_features}();
262   std::vector<MPI\_Request> recv\_req(required\_molecules.size());
263   std::vector<MPI\_Status> recv\_status(required\_molecules.size());
264   \textcolor{keywordtype}{size\_t} jj = 0;
265   \textcolor{keywordflow}{for} (\textcolor{keyword}{auto} t : required\_molecules) \{
266     \hyperlink{classlbann_1_1data__store__pilot2__molecular_a67fb9174cecff931f61e7f6ca000315b}{m\_my\_molecules}[t].resize(num\_features);
267     MPI\_Irecv(\hyperlink{classlbann_1_1data__store__pilot2__molecular_a67fb9174cecff931f61e7f6ca000315b}{m\_my\_molecules}[t].\hyperlink{namespacelbann_1_1cnpy__utils_a9ac86d96ccb1f8b4b2ea16441738781f}{data}(), num\_features, MPI\_DOUBLE, 
      \hyperlink{classlbann_1_1data__store__pilot2__molecular_ad0c7ed6c6858d9958f73000b0b3137ac}{m\_owner\_rank}, t, \hyperlink{classlbann_1_1generic__data__store_ae2d2d61d5d766a7f525eedcb05e0dbf6}{m\_mpi\_comm}, &(recv\_req[jj++]));
268   \}
269 
270   \textcolor{comment}{//owner starts sends}
271   std::vector<std::vector<MPI\_Request>> send\_req;
272   std::vector<std::vector<MPI\_Status>> send\_status;
273   \textcolor{keywordflow}{if} (\hyperlink{classlbann_1_1data__store__pilot2__molecular_a9229deea455ef0a68508e6b956887dd3}{m\_owner}) \{
274     send\_req.resize(\hyperlink{classlbann_1_1generic__data__store_afcd4f99959c265c8c03dcf8ad3779d85}{m\_np});
275     send\_status.resize(\hyperlink{classlbann_1_1generic__data__store_afcd4f99959c265c8c03dcf8ad3779d85}{m\_np});
276     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} p = 0; p<\hyperlink{classlbann_1_1generic__data__store_afcd4f99959c265c8c03dcf8ad3779d85}{m\_np}; p++) \{
277       jj = 0;
278       \hyperlink{classlbann_1_1data__store__pilot2__molecular_a7eadb63f1c879c62b587a7b5d972d4e4}{get\_required\_molecules}(required\_molecules, p);
279       send\_req[p].resize(required\_molecules.size());
280       send\_status[p].resize(required\_molecules.size());
281       \textcolor{keywordflow}{for} (\textcolor{keyword}{auto} t : required\_molecules) \{
282         MPI\_Isend(\hyperlink{classlbann_1_1data__store__pilot2__molecular_afbb012980857b9841deefb055905e6f5}{m\_data}[t].\hyperlink{namespacelbann_1_1cnpy__utils_a9ac86d96ccb1f8b4b2ea16441738781f}{data}(), num\_features, MPI\_DOUBLE, p, t, 
      \hyperlink{classlbann_1_1generic__data__store_ae2d2d61d5d766a7f525eedcb05e0dbf6}{m\_mpi\_comm}, &(send\_req[p][jj++]));
283       \}
284     \}
285   \}
286 
287   \textcolor{comment}{//wait for sends to finish}
288   \textcolor{keywordflow}{if} (\hyperlink{classlbann_1_1data__store__pilot2__molecular_a9229deea455ef0a68508e6b956887dd3}{m\_owner}) \{
289     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{size\_t} i=0; i<send\_req.size(); i++) \{
290       MPI\_Waitall(send\_req[i].size(), send\_req[i].\hyperlink{namespacelbann_1_1cnpy__utils_a9ac86d96ccb1f8b4b2ea16441738781f}{data}(), send\_status[i].
      \hyperlink{namespacelbann_1_1cnpy__utils_a9ac86d96ccb1f8b4b2ea16441738781f}{data}());
291     \}
292   \}
293 
294   \textcolor{comment}{//wait for recvs to finish}
295   MPI\_Waitall(recv\_req.size(), recv\_req.data(), recv\_status.data());
296 
297   \textcolor{keywordflow}{if} (\hyperlink{classlbann_1_1data__store__pilot2__molecular_a9229deea455ef0a68508e6b956887dd3}{m\_owner}) \{
298     std::cout << \textcolor{stringliteral}{"role: "} << \hyperlink{classlbann_1_1generic__data__store_afa49ced0ab64c632371ea52532a91ec2}{m\_reader}->\hyperlink{classlbann_1_1generic__data__reader_a92982e1b399f37e2ead5aa440883cba5}{get\_role}() << \textcolor{stringliteral}{"
       data\_store\_pilot2\_molecular::exchange\_data() time: "} << \hyperlink{namespacelbann_a478d36031ff0659893c4322cd856157f}{get\_time}() - tm1 << std::endl;
299   \}
300 \}
\end{DoxyCode}
Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classlbann_1_1data__store__pilot2__molecular_addaa6db4e1b3a25424da9da63c0b3616_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classlbann_1_1data__store__pilot2__molecular_addaa6db4e1b3a25424da9da63c0b3616_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classlbann_1_1data__store__pilot2__molecular_a0157fe4d04961c03c0d983cb43aa1cec}\label{classlbann_1_1data__store__pilot2__molecular_a0157fe4d04961c03c0d983cb43aa1cec}} 
\index{lbann\+::data\+\_\+store\+\_\+pilot2\+\_\+molecular@{lbann\+::data\+\_\+store\+\_\+pilot2\+\_\+molecular}!fill\+\_\+in\+\_\+data@{fill\+\_\+in\+\_\+data}}
\index{fill\+\_\+in\+\_\+data@{fill\+\_\+in\+\_\+data}!lbann\+::data\+\_\+store\+\_\+pilot2\+\_\+molecular@{lbann\+::data\+\_\+store\+\_\+pilot2\+\_\+molecular}}
\subsubsection{\texorpdfstring{fill\+\_\+in\+\_\+data()}{fill\_in\_data()}}
{\footnotesize\ttfamily void lbann\+::data\+\_\+store\+\_\+pilot2\+\_\+molecular\+::fill\+\_\+in\+\_\+data (\begin{DoxyParamCaption}\item[{const int}]{data\+\_\+id,  }\item[{const int}]{num\+\_\+samples\+\_\+per\+\_\+frame,  }\item[{const int}]{num\+\_\+features,  }\item[{double $\ast$}]{features }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}}



called by \hyperlink{classlbann_1_1data__store__pilot2__molecular_a8021fa0a93e39c9d43de6ecc2d72e14e}{construct\+\_\+data\+\_\+store()} 



Definition at line 131 of file data\+\_\+store\+\_\+pilot2\+\_\+molecular.\+cpp.


\begin{DoxyCode}
135                       \{
136   \textcolor{keyword}{const} \textcolor{keywordtype}{int} frame = \hyperlink{classlbann_1_1data__store__pilot2__molecular_a1875ae12fe7c2b11818ddb3fecff9f72}{m\_pilot2\_reader}->\hyperlink{classlbann_1_1pilot2__molecular__reader_ac95223a0829a83a5d400c4d66efdcb93}{get\_frame}(data\_id);
137   \textcolor{keyword}{const} \textcolor{keywordtype}{int} frame\_offset = frame * num\_features * num\_samples\_per\_frame;
138   \textcolor{keyword}{const} \textcolor{keywordtype}{int} intra\_frame\_data\_id = data\_id - frame * num\_samples\_per\_frame;
139   \textcolor{keywordtype}{double} *\hyperlink{namespacelbann_1_1cnpy__utils_a9ac86d96ccb1f8b4b2ea16441738781f}{data} = features + frame\_offset + intra\_frame\_data\_id * num\_features;
140   \textcolor{keywordflow}{if} (\hyperlink{classlbann_1_1data__store__pilot2__molecular_afbb012980857b9841deefb055905e6f5}{m\_data}.find(data\_id) != \hyperlink{classlbann_1_1data__store__pilot2__molecular_afbb012980857b9841deefb055905e6f5}{m\_data}.end()) \{
141     std::stringstream err;
142     err << \_\_FILE\_\_  << \textcolor{stringliteral}{" :: "} << \_\_LINE\_\_ << \textcolor{stringliteral}{" :: "}
143         << \textcolor{stringliteral}{" duplicate data\_id: "} << data\_id;
144     \textcolor{keywordflow}{throw} lbann\_exception(err.str());
145   \}
146   \hyperlink{classlbann_1_1data__store__pilot2__molecular_afbb012980857b9841deefb055905e6f5}{m\_data}[data\_id].resize(num\_features);
147   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i=0; i<num\_features; i++) \{
148     \hyperlink{classlbann_1_1data__store__pilot2__molecular_afbb012980857b9841deefb055905e6f5}{m\_data}[data\_id][i] = \hyperlink{classlbann_1_1data__store__pilot2__molecular_a1875ae12fe7c2b11818ddb3fecff9f72}{m\_pilot2\_reader}->\hyperlink{classlbann_1_1pilot2__molecular__reader_add998998fa16444e4509b08f79b291da}{scale\_data}<\textcolor{keywordtype}{double}>(i, data[i]);
149   \}
150 \}
\end{DoxyCode}
Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classlbann_1_1data__store__pilot2__molecular_a0157fe4d04961c03c0d983cb43aa1cec_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classlbann_1_1data__store__pilot2__molecular_a0157fe4d04961c03c0d983cb43aa1cec_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classlbann_1_1data__store__pilot2__molecular_ab0f82fb7fdec7779bbb693e06a206127}\label{classlbann_1_1data__store__pilot2__molecular_ab0f82fb7fdec7779bbb693e06a206127}} 
\index{lbann\+::data\+\_\+store\+\_\+pilot2\+\_\+molecular@{lbann\+::data\+\_\+store\+\_\+pilot2\+\_\+molecular}!get\+\_\+data\+\_\+buf@{get\+\_\+data\+\_\+buf}}
\index{get\+\_\+data\+\_\+buf@{get\+\_\+data\+\_\+buf}!lbann\+::data\+\_\+store\+\_\+pilot2\+\_\+molecular@{lbann\+::data\+\_\+store\+\_\+pilot2\+\_\+molecular}}
\subsubsection{\texorpdfstring{get\+\_\+data\+\_\+buf()}{get\_data\_buf()}}
{\footnotesize\ttfamily void lbann\+::data\+\_\+store\+\_\+pilot2\+\_\+molecular\+::get\+\_\+data\+\_\+buf (\begin{DoxyParamCaption}\item[{int}]{data\+\_\+id,  }\item[{int}]{tid,  }\item[{std\+::vector$<$ double $>$ $\ast$\&}]{buf }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Reimplemented from \hyperlink{classlbann_1_1generic__data__store_abc3fecd958650a74e76070ea4f394bea}{lbann\+::generic\+\_\+data\+\_\+store}.



Definition at line 187 of file data\+\_\+store\+\_\+pilot2\+\_\+molecular.\+cpp.


\begin{DoxyCode}
187                                                                                             \{
188   std::stringstream err;
189   std::vector<double> &v = \hyperlink{classlbann_1_1data__store__pilot2__molecular_aad14735a82ce4cdcb153fcca94cd2b41}{m\_data\_buffer}[tid];
190   std::fill(v.begin(), v.end(), 0.0);
191   \textcolor{keywordflow}{if} (\hyperlink{classlbann_1_1data__store__pilot2__molecular_a567c6bcdfab6f9248f3c320d505861bc}{m\_neighbors}.find(data\_id) == \hyperlink{classlbann_1_1data__store__pilot2__molecular_a567c6bcdfab6f9248f3c320d505861bc}{m\_neighbors}.end()) \{
192     err << \_\_FILE\_\_ << \textcolor{stringliteral}{" "} << \_\_LINE\_\_ << \textcolor{stringliteral}{" :: "}
193         << data\_id << \textcolor{stringliteral}{" not found in m\_neighbors (primary molecule)"};
194     \textcolor{keywordflow}{throw} lbann\_exception(err.str());
195   \}
196   \textcolor{keywordflow}{if} (\hyperlink{classlbann_1_1data__store__pilot2__molecular_a67fb9174cecff931f61e7f6ca000315b}{m\_my\_molecules}.find(data\_id) == \hyperlink{classlbann_1_1data__store__pilot2__molecular_a67fb9174cecff931f61e7f6ca000315b}{m\_my\_molecules}.end()) \{
197     err << \_\_FILE\_\_ << \textcolor{stringliteral}{" "} << \_\_LINE\_\_ << \textcolor{stringliteral}{" :: "}
198         << data\_id << \textcolor{stringliteral}{" not found in m\_my\_molecules"};
199     \textcolor{keywordflow}{throw} lbann\_exception(err.str());
200   \}
201 
202   \textcolor{comment}{//fill in data for the primary molecule}
203   \textcolor{keywordtype}{size\_t} jj = 0;
204   std::vector<double> &d1 = \hyperlink{classlbann_1_1data__store__pilot2__molecular_a67fb9174cecff931f61e7f6ca000315b}{m\_my\_molecules}[data\_id];
205   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{size\_t} j=0; j<d1.size(); j++) \{
206     v[jj++] = d1[j];
207   \}
208 
209   \textcolor{comment}{//fill in data for the primary molecule's neighbor}
210   std::vector<int> &nabors = \hyperlink{classlbann_1_1data__store__pilot2__molecular_a567c6bcdfab6f9248f3c320d505861bc}{m\_neighbors}[data\_id];
211   \textcolor{keywordtype}{int} num\_features = \hyperlink{classlbann_1_1data__store__pilot2__molecular_a1875ae12fe7c2b11818ddb3fecff9f72}{m\_pilot2\_reader}->\hyperlink{classlbann_1_1pilot2__molecular__reader_ad4fcb0da3f6964cbe24de4feac3f5f4a}{get\_num\_features}();
212   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{size\_t} h=0; h<nabors.size(); h++) \{
213     \textcolor{keywordflow}{if} (nabors[h] != -1) \{
214       \textcolor{keywordflow}{if} (\hyperlink{classlbann_1_1data__store__pilot2__molecular_a67fb9174cecff931f61e7f6ca000315b}{m\_my\_molecules}.find(data\_id) == \hyperlink{classlbann_1_1data__store__pilot2__molecular_a67fb9174cecff931f61e7f6ca000315b}{m\_my\_molecules}.end()) \{
215         err << \_\_FILE\_\_ << \textcolor{stringliteral}{" "} << \_\_LINE\_\_ << \textcolor{stringliteral}{" :: "}
216             << nabors[h] << \textcolor{stringliteral}{" not found in m\_my\_molecules (neighbor)"};
217         \textcolor{keywordflow}{throw} lbann\_exception(err.str());
218       \}
219       std::vector<double> &d2 = \hyperlink{classlbann_1_1data__store__pilot2__molecular_a67fb9174cecff931f61e7f6ca000315b}{m\_my\_molecules}[nabors[h]];
220       \textcolor{keywordflow}{for} (\textcolor{keywordtype}{size\_t} i=0; i<d2.size(); i++) \{
221         v[jj++] = d2[i];
222       \}
223     \} \textcolor{keywordflow}{else} \{
224       jj += num\_features;
225     \}
226   \}
227 
228   buf = &v;
229 \}
\end{DoxyCode}
Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classlbann_1_1data__store__pilot2__molecular_ab0f82fb7fdec7779bbb693e06a206127_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classlbann_1_1data__store__pilot2__molecular_ab0f82fb7fdec7779bbb693e06a206127_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classlbann_1_1data__store__pilot2__molecular_a7eadb63f1c879c62b587a7b5d972d4e4}\label{classlbann_1_1data__store__pilot2__molecular_a7eadb63f1c879c62b587a7b5d972d4e4}} 
\index{lbann\+::data\+\_\+store\+\_\+pilot2\+\_\+molecular@{lbann\+::data\+\_\+store\+\_\+pilot2\+\_\+molecular}!get\+\_\+required\+\_\+molecules@{get\+\_\+required\+\_\+molecules}}
\index{get\+\_\+required\+\_\+molecules@{get\+\_\+required\+\_\+molecules}!lbann\+::data\+\_\+store\+\_\+pilot2\+\_\+molecular@{lbann\+::data\+\_\+store\+\_\+pilot2\+\_\+molecular}}
\subsubsection{\texorpdfstring{get\+\_\+required\+\_\+molecules()}{get\_required\_molecules()}}
{\footnotesize\ttfamily void lbann\+::data\+\_\+store\+\_\+pilot2\+\_\+molecular\+::get\+\_\+required\+\_\+molecules (\begin{DoxyParamCaption}\item[{std\+::unordered\+\_\+set$<$ int $>$ \&}]{s,  }\item[{int}]{p }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}}

returns, in \textquotesingle{}s,\textquotesingle{} the set of molecules required for processor \textquotesingle{}p\textquotesingle{} for the next epoch 

Definition at line 231 of file data\+\_\+store\+\_\+pilot2\+\_\+molecular.\+cpp.


\begin{DoxyCode}
231                                                                                                          \{
232   required\_molecules.clear();
233   std::vector<int> &v = \hyperlink{classlbann_1_1generic__data__store_afd21d4f029e450328f8703dd72702e73}{m\_all\_minibatch\_indices}[p];
234   \textcolor{keywordflow}{for} (\textcolor{keyword}{auto} t : v) \{
235     \textcolor{keywordtype}{int} data\_id = (*m\_shuffled\_indices)[t];
236     required\_molecules.insert(data\_id);
237     \textcolor{keywordflow}{if} (\hyperlink{classlbann_1_1data__store__pilot2__molecular_a567c6bcdfab6f9248f3c320d505861bc}{m\_neighbors}.find(data\_id) == \hyperlink{classlbann_1_1data__store__pilot2__molecular_a567c6bcdfab6f9248f3c320d505861bc}{m\_neighbors}.end()) \{
238       std::stringstream err;
239       err << \_\_FILE\_\_  << \textcolor{stringliteral}{" :: "} << \_\_LINE\_\_ << \textcolor{stringliteral}{" :: "}
240           << \textcolor{stringliteral}{" m\_neighbors.find("} << data\_id << \textcolor{stringliteral}{" failed"};
241       \textcolor{keywordflow}{throw} lbann\_exception(err.str());
242     \}
243     \textcolor{keywordflow}{for} (\textcolor{keyword}{auto} t2 : \hyperlink{classlbann_1_1data__store__pilot2__molecular_a567c6bcdfab6f9248f3c320d505861bc}{m\_neighbors}[data\_id]) \{
244       \textcolor{keywordflow}{if} (t2 != -1) \{
245         required\_molecules.insert(t2);
246       \}
247     \}
248   \}
249 \}
\end{DoxyCode}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classlbann_1_1data__store__pilot2__molecular_a7eadb63f1c879c62b587a7b5d972d4e4_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classlbann_1_1data__store__pilot2__molecular_a83dafc1e48b19b5d90f5618f64bfd158}\label{classlbann_1_1data__store__pilot2__molecular_a83dafc1e48b19b5d90f5618f64bfd158}} 
\index{lbann\+::data\+\_\+store\+\_\+pilot2\+\_\+molecular@{lbann\+::data\+\_\+store\+\_\+pilot2\+\_\+molecular}!operator=@{operator=}}
\index{operator=@{operator=}!lbann\+::data\+\_\+store\+\_\+pilot2\+\_\+molecular@{lbann\+::data\+\_\+store\+\_\+pilot2\+\_\+molecular}}
\subsubsection{\texorpdfstring{operator=()}{operator=()}}
{\footnotesize\ttfamily \hyperlink{classlbann_1_1data__store__pilot2__molecular}{data\+\_\+store\+\_\+pilot2\+\_\+molecular}\& lbann\+::data\+\_\+store\+\_\+pilot2\+\_\+molecular\+::operator= (\begin{DoxyParamCaption}\item[{const \hyperlink{classlbann_1_1data__store__pilot2__molecular}{data\+\_\+store\+\_\+pilot2\+\_\+molecular} \&}]{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [default]}}



operator= 

\mbox{\Hypertarget{classlbann_1_1data__store__pilot2__molecular_a6abbcb3996da1fd6ef165463ad27debe}\label{classlbann_1_1data__store__pilot2__molecular_a6abbcb3996da1fd6ef165463ad27debe}} 
\index{lbann\+::data\+\_\+store\+\_\+pilot2\+\_\+molecular@{lbann\+::data\+\_\+store\+\_\+pilot2\+\_\+molecular}!set\+\_\+no\+\_\+shuffle@{set\+\_\+no\+\_\+shuffle}}
\index{set\+\_\+no\+\_\+shuffle@{set\+\_\+no\+\_\+shuffle}!lbann\+::data\+\_\+store\+\_\+pilot2\+\_\+molecular@{lbann\+::data\+\_\+store\+\_\+pilot2\+\_\+molecular}}
\subsubsection{\texorpdfstring{set\+\_\+no\+\_\+shuffle()}{set\_no\_shuffle()}}
{\footnotesize\ttfamily void lbann\+::data\+\_\+store\+\_\+pilot2\+\_\+molecular\+::set\+\_\+no\+\_\+shuffle (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



needed to support \hyperlink{classlbann_1_1data__reader__merge__samples}{data\+\_\+reader\+\_\+merge\+\_\+samples} (compound reader) 



Definition at line 75 of file data\+\_\+store\+\_\+pilot2\+\_\+molecular.\+hpp.


\begin{DoxyCode}
75                         \{
76     \hyperlink{classlbann_1_1data__store__pilot2__molecular_afedbbd7592df7b60c71a7744eb8ccbf9}{m\_shuffle} = \textcolor{keyword}{false};
77   \}
\end{DoxyCode}
\mbox{\Hypertarget{classlbann_1_1data__store__pilot2__molecular_a975d7907053a8b2e92ea5f77ca4ae7a3}\label{classlbann_1_1data__store__pilot2__molecular_a975d7907053a8b2e92ea5f77ca4ae7a3}} 
\index{lbann\+::data\+\_\+store\+\_\+pilot2\+\_\+molecular@{lbann\+::data\+\_\+store\+\_\+pilot2\+\_\+molecular}!setup@{setup}}
\index{setup@{setup}!lbann\+::data\+\_\+store\+\_\+pilot2\+\_\+molecular@{lbann\+::data\+\_\+store\+\_\+pilot2\+\_\+molecular}}
\subsubsection{\texorpdfstring{setup()}{setup()}}
{\footnotesize\ttfamily void lbann\+::data\+\_\+store\+\_\+pilot2\+\_\+molecular\+::setup (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



called by \hyperlink{classlbann_1_1generic__data__reader_a8b2a09d38512fc11f1b9d572c89100a7}{generic\+\_\+data\+\_\+reader\+::setup\+\_\+data\+\_\+store} 



Reimplemented from \hyperlink{classlbann_1_1generic__data__store_a1cff17def02ee21b6ca0befeb04bb582}{lbann\+::generic\+\_\+data\+\_\+store}.



Definition at line 47 of file data\+\_\+store\+\_\+pilot2\+\_\+molecular.\+cpp.


\begin{DoxyCode}
47                                         \{
48   \textcolor{keywordtype}{double} tm1 = \hyperlink{namespacelbann_a478d36031ff0659893c4322cd856157f}{get\_time}();
49   std::stringstream err;
50   \hyperlink{classlbann_1_1data__store__pilot2__molecular_a9229deea455ef0a68508e6b956887dd3}{m\_owner} = (int)\hyperlink{classlbann_1_1generic__data__store_afa49ced0ab64c632371ea52532a91ec2}{m\_reader}->\hyperlink{classlbann_1_1generic__data__reader_ac4fc0729e7f1240e167fe897df99f950}{get\_compound\_rank}() == (int)
      \hyperlink{classlbann_1_1generic__data__store_a87695bfd2d1ed0dbe01d99108e3f68b7}{m\_rank};
51   \hyperlink{classlbann_1_1data__store__pilot2__molecular_ad0c7ed6c6858d9958f73000b0b3137ac}{m\_owner\_rank} = \hyperlink{classlbann_1_1generic__data__store_afa49ced0ab64c632371ea52532a91ec2}{m\_reader}->\hyperlink{classlbann_1_1generic__data__reader_ac4fc0729e7f1240e167fe897df99f950}{get\_compound\_rank}();
52 
53   \textcolor{keywordflow}{if} (\hyperlink{classlbann_1_1data__store__pilot2__molecular_a9229deea455ef0a68508e6b956887dd3}{m\_owner}) std::cerr << \textcolor{stringliteral}{"starting data\_store\_pilot2\_molecular::setup() for role: "} 
54           << \hyperlink{classlbann_1_1generic__data__store_afa49ced0ab64c632371ea52532a91ec2}{m\_reader}->\hyperlink{classlbann_1_1generic__data__reader_a92982e1b399f37e2ead5aa440883cba5}{get\_role}() << \textcolor{stringliteral}{"; owning processor: "} << 
      \hyperlink{classlbann_1_1data__store__pilot2__molecular_ad0c7ed6c6858d9958f73000b0b3137ac}{m\_owner\_rank} << std::endl; 
55   \textcolor{keywordflow}{if} (\hyperlink{classlbann_1_1data__store__pilot2__molecular_a9229deea455ef0a68508e6b956887dd3}{m\_owner}) std::cerr << \textcolor{stringliteral}{"calling generic\_data\_store::setup()\(\backslash\)n"};
56   \hyperlink{classlbann_1_1generic__data__store_a1cff17def02ee21b6ca0befeb04bb582}{generic\_data\_store::setup}();
57 
58   \textcolor{keywordflow}{if} (! \hyperlink{classlbann_1_1generic__data__store_a1a9cc7b097cd7dd6ae0d12d52bb43ea1}{m\_in\_memory}) \{
59     err << \_\_FILE\_\_ << \textcolor{stringliteral}{" "} << \_\_LINE\_\_ << \textcolor{stringliteral}{" :: "}
60         << \textcolor{stringliteral}{"not yet implemented"};
61     \textcolor{keywordflow}{throw} lbann\_exception(err.str());
62   \} 
63   
64   \textcolor{keywordflow}{else} \{
65     \textcolor{comment}{//sanity check}
66     pilot2\_molecular\_reader *reader = \textcolor{keyword}{dynamic\_cast<}pilot2\_molecular\_reader*\textcolor{keyword}{>}(
      \hyperlink{classlbann_1_1generic__data__store_afa49ced0ab64c632371ea52532a91ec2}{m\_reader});
67     \textcolor{keywordflow}{if} (reader == \textcolor{keyword}{nullptr}) \{
68       err << \_\_FILE\_\_ << \textcolor{stringliteral}{" "} << \_\_LINE\_\_ << \textcolor{stringliteral}{" :: "}
69           << \textcolor{stringliteral}{"dynamic\_cast<data\_reader\_pilot2\_molecular*>(m\_reader) failed"};
70       \textcolor{keywordflow}{throw} lbann\_exception(err.str());
71     \}
72     \hyperlink{classlbann_1_1data__store__pilot2__molecular_a1875ae12fe7c2b11818ddb3fecff9f72}{m\_pilot2\_reader} = reader;
73 
74     \textcolor{comment}{// get list of indices used in calls to generic\_data\_reader::fetch\_data }
75     \textcolor{comment}{// for this processor}
76     \hyperlink{classlbann_1_1generic__data__store_ab861db5f81e45a6063b8922a331dd007}{get\_minibatch\_index\_vector}();
77 
78     \textcolor{comment}{// get list of indices used in calls to generic\_data\_reader::fetch\_data }
79     \textcolor{comment}{// for all processors}
80     \textcolor{keywordflow}{if} (\hyperlink{classlbann_1_1generic__data__store_a143fd33ef3a53180bc62745e369c16f8}{m\_master}) std::cerr << \textcolor{stringliteral}{"calling exchange\_mb\_indices\(\backslash\)n"};
81     \hyperlink{classlbann_1_1generic__data__store_aa0ef8d7528f6775d47641ffe5ac229da}{exchange\_mb\_indices}();
82 
83     \textcolor{comment}{// allocate storage for the data that will be passed to the data reader's}
84     \textcolor{comment}{// fetch\_datum method. }
85     \hyperlink{classlbann_1_1data__store__pilot2__molecular_aad14735a82ce4cdcb153fcca94cd2b41}{m\_data\_buffer}.resize(omp\_get\_max\_threads());
86     \textcolor{keywordtype}{int} num\_features = m\_pilot2\_reader->get\_num\_features();
87     \textcolor{keywordtype}{int} num\_neighbors = m\_pilot2\_reader->get\_num\_neighbors();
88     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{size\_t} j=0; j<\hyperlink{classlbann_1_1data__store__pilot2__molecular_aad14735a82ce4cdcb153fcca94cd2b41}{m\_data\_buffer}.size(); j++) \{
89       \hyperlink{classlbann_1_1data__store__pilot2__molecular_aad14735a82ce4cdcb153fcca94cd2b41}{m\_data\_buffer}[j].resize(num\_features * (num\_neighbors+1));
90     \}
91 
92     \textcolor{keywordflow}{if} (\hyperlink{classlbann_1_1data__store__pilot2__molecular_a9229deea455ef0a68508e6b956887dd3}{m\_owner}) \{
93       std::cerr << \textcolor{stringliteral}{"calling construct\_data\_store()\(\backslash\)n"};
94       \hyperlink{classlbann_1_1data__store__pilot2__molecular_a8021fa0a93e39c9d43de6ecc2d72e14e}{construct\_data\_store}();
95     \}
96 
97     \textcolor{keywordflow}{if} (\hyperlink{classlbann_1_1data__store__pilot2__molecular_a9229deea455ef0a68508e6b956887dd3}{m\_owner}) std::cerr << \textcolor{stringliteral}{"calling build\_nabor\_map()\(\backslash\)n"};
98     \hyperlink{classlbann_1_1data__store__pilot2__molecular_af70726cfb8377832ce457d9b874bf34e}{build\_nabor\_map}();
99 
100     \textcolor{keywordflow}{if} (\hyperlink{classlbann_1_1data__store__pilot2__molecular_a9229deea455ef0a68508e6b956887dd3}{m\_owner}) std::cerr << \textcolor{stringliteral}{"calling exchange\_data()\(\backslash\)n"};
101     \hyperlink{classlbann_1_1data__store__pilot2__molecular_addaa6db4e1b3a25424da9da63c0b3616}{exchange\_data}();
102   \}
103 
104   \textcolor{keywordflow}{if} (\hyperlink{classlbann_1_1data__store__pilot2__molecular_a9229deea455ef0a68508e6b956887dd3}{m\_owner}) \{
105     std::cerr << \textcolor{stringliteral}{"data\_store\_pilot2\_molecular::setup time: "} << \hyperlink{namespacelbann_a478d36031ff0659893c4322cd856157f}{get\_time}() - tm1 << \textcolor{stringliteral}{"\(\backslash\)n"};
106   \}
107 \}
\end{DoxyCode}
Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classlbann_1_1data__store__pilot2__molecular_a975d7907053a8b2e92ea5f77ca4ae7a3_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classlbann_1_1data__store__pilot2__molecular_a975d7907053a8b2e92ea5f77ca4ae7a3_icgraph}
\end{center}
\end{figure}


\subsection{Member Data Documentation}
\mbox{\Hypertarget{classlbann_1_1data__store__pilot2__molecular_a36aa0ef7fa75daf309b4350ebfdb94be}\label{classlbann_1_1data__store__pilot2__molecular_a36aa0ef7fa75daf309b4350ebfdb94be}} 
\index{lbann\+::data\+\_\+store\+\_\+pilot2\+\_\+molecular@{lbann\+::data\+\_\+store\+\_\+pilot2\+\_\+molecular}!data\+\_\+store\+\_\+merge\+\_\+samples@{data\+\_\+store\+\_\+merge\+\_\+samples}}
\index{data\+\_\+store\+\_\+merge\+\_\+samples@{data\+\_\+store\+\_\+merge\+\_\+samples}!lbann\+::data\+\_\+store\+\_\+pilot2\+\_\+molecular@{lbann\+::data\+\_\+store\+\_\+pilot2\+\_\+molecular}}
\subsubsection{\texorpdfstring{data\+\_\+store\+\_\+merge\+\_\+samples}{data\_store\_merge\_samples}}
{\footnotesize\ttfamily friend lbann\+::data\+\_\+store\+\_\+pilot2\+\_\+molecular\+::data\+\_\+store\+\_\+merge\+\_\+samples\hspace{0.3cm}{\ttfamily [protected]}}



Definition at line 81 of file data\+\_\+store\+\_\+pilot2\+\_\+molecular.\+hpp.

\mbox{\Hypertarget{classlbann_1_1data__store__pilot2__molecular_afbb012980857b9841deefb055905e6f5}\label{classlbann_1_1data__store__pilot2__molecular_afbb012980857b9841deefb055905e6f5}} 
\index{lbann\+::data\+\_\+store\+\_\+pilot2\+\_\+molecular@{lbann\+::data\+\_\+store\+\_\+pilot2\+\_\+molecular}!m\+\_\+data@{m\+\_\+data}}
\index{m\+\_\+data@{m\+\_\+data}!lbann\+::data\+\_\+store\+\_\+pilot2\+\_\+molecular@{lbann\+::data\+\_\+store\+\_\+pilot2\+\_\+molecular}}
\subsubsection{\texorpdfstring{m\+\_\+data}{m\_data}}
{\footnotesize\ttfamily std\+::unordered\+\_\+map$<$int, std\+::vector$<$double$>$ $>$ lbann\+::data\+\_\+store\+\_\+pilot2\+\_\+molecular\+::m\+\_\+data\hspace{0.3cm}{\ttfamily [protected]}}

the data store. Note that this will break if word size = 4; only meaningful on the owning processor 

Definition at line 89 of file data\+\_\+store\+\_\+pilot2\+\_\+molecular.\+hpp.

\mbox{\Hypertarget{classlbann_1_1data__store__pilot2__molecular_aad14735a82ce4cdcb153fcca94cd2b41}\label{classlbann_1_1data__store__pilot2__molecular_aad14735a82ce4cdcb153fcca94cd2b41}} 
\index{lbann\+::data\+\_\+store\+\_\+pilot2\+\_\+molecular@{lbann\+::data\+\_\+store\+\_\+pilot2\+\_\+molecular}!m\+\_\+data\+\_\+buffer@{m\+\_\+data\+\_\+buffer}}
\index{m\+\_\+data\+\_\+buffer@{m\+\_\+data\+\_\+buffer}!lbann\+::data\+\_\+store\+\_\+pilot2\+\_\+molecular@{lbann\+::data\+\_\+store\+\_\+pilot2\+\_\+molecular}}
\subsubsection{\texorpdfstring{m\+\_\+data\+\_\+buffer}{m\_data\_buffer}}
{\footnotesize\ttfamily std\+::vector$<$std\+::vector$<$double$>$ $>$ lbann\+::data\+\_\+store\+\_\+pilot2\+\_\+molecular\+::m\+\_\+data\+\_\+buffer\hspace{0.3cm}{\ttfamily [protected]}}



the buffers that will be passed to data\+\_\+readers\+::fetch\+\_\+datum 



Definition at line 116 of file data\+\_\+store\+\_\+pilot2\+\_\+molecular.\+hpp.

\mbox{\Hypertarget{classlbann_1_1data__store__pilot2__molecular_a67fb9174cecff931f61e7f6ca000315b}\label{classlbann_1_1data__store__pilot2__molecular_a67fb9174cecff931f61e7f6ca000315b}} 
\index{lbann\+::data\+\_\+store\+\_\+pilot2\+\_\+molecular@{lbann\+::data\+\_\+store\+\_\+pilot2\+\_\+molecular}!m\+\_\+my\+\_\+molecules@{m\+\_\+my\+\_\+molecules}}
\index{m\+\_\+my\+\_\+molecules@{m\+\_\+my\+\_\+molecules}!lbann\+::data\+\_\+store\+\_\+pilot2\+\_\+molecular@{lbann\+::data\+\_\+store\+\_\+pilot2\+\_\+molecular}}
\subsubsection{\texorpdfstring{m\+\_\+my\+\_\+molecules}{m\_my\_molecules}}
{\footnotesize\ttfamily std\+::unordered\+\_\+map$<$int, std\+::vector$<$double$>$ $>$ lbann\+::data\+\_\+store\+\_\+pilot2\+\_\+molecular\+::m\+\_\+my\+\_\+molecules\hspace{0.3cm}{\ttfamily [protected]}}

contains the data of all molecules required by this processor to execute one epoch. Maps\+: molecule data\+\_\+id to set of neighbors (including self\+: data\+\_\+id); this is the set of molecules required in one call to fetch\+\_\+datum by the data reader 

Definition at line 109 of file data\+\_\+store\+\_\+pilot2\+\_\+molecular.\+hpp.

\mbox{\Hypertarget{classlbann_1_1data__store__pilot2__molecular_a567c6bcdfab6f9248f3c320d505861bc}\label{classlbann_1_1data__store__pilot2__molecular_a567c6bcdfab6f9248f3c320d505861bc}} 
\index{lbann\+::data\+\_\+store\+\_\+pilot2\+\_\+molecular@{lbann\+::data\+\_\+store\+\_\+pilot2\+\_\+molecular}!m\+\_\+neighbors@{m\+\_\+neighbors}}
\index{m\+\_\+neighbors@{m\+\_\+neighbors}!lbann\+::data\+\_\+store\+\_\+pilot2\+\_\+molecular@{lbann\+::data\+\_\+store\+\_\+pilot2\+\_\+molecular}}
\subsubsection{\texorpdfstring{m\+\_\+neighbors}{m\_neighbors}}
{\footnotesize\ttfamily std\+::unordered\+\_\+map$<$int, std\+::vector$<$int$>$ $>$ lbann\+::data\+\_\+store\+\_\+pilot2\+\_\+molecular\+::m\+\_\+neighbors\hspace{0.3cm}{\ttfamily [protected]}}



maps\+: a shuffled index to the corresponding molecule\textquotesingle{}s neighbors\textquotesingle{} indices 



Definition at line 98 of file data\+\_\+store\+\_\+pilot2\+\_\+molecular.\+hpp.

\mbox{\Hypertarget{classlbann_1_1data__store__pilot2__molecular_a9229deea455ef0a68508e6b956887dd3}\label{classlbann_1_1data__store__pilot2__molecular_a9229deea455ef0a68508e6b956887dd3}} 
\index{lbann\+::data\+\_\+store\+\_\+pilot2\+\_\+molecular@{lbann\+::data\+\_\+store\+\_\+pilot2\+\_\+molecular}!m\+\_\+owner@{m\+\_\+owner}}
\index{m\+\_\+owner@{m\+\_\+owner}!lbann\+::data\+\_\+store\+\_\+pilot2\+\_\+molecular@{lbann\+::data\+\_\+store\+\_\+pilot2\+\_\+molecular}}
\subsubsection{\texorpdfstring{m\+\_\+owner}{m\_owner}}
{\footnotesize\ttfamily bool lbann\+::data\+\_\+store\+\_\+pilot2\+\_\+molecular\+::m\+\_\+owner\hspace{0.3cm}{\ttfamily [protected]}}



true if this processor \char`\"{}owns\char`\"{} the data 



Definition at line 123 of file data\+\_\+store\+\_\+pilot2\+\_\+molecular.\+hpp.

\mbox{\Hypertarget{classlbann_1_1data__store__pilot2__molecular_ad0c7ed6c6858d9958f73000b0b3137ac}\label{classlbann_1_1data__store__pilot2__molecular_ad0c7ed6c6858d9958f73000b0b3137ac}} 
\index{lbann\+::data\+\_\+store\+\_\+pilot2\+\_\+molecular@{lbann\+::data\+\_\+store\+\_\+pilot2\+\_\+molecular}!m\+\_\+owner\+\_\+rank@{m\+\_\+owner\+\_\+rank}}
\index{m\+\_\+owner\+\_\+rank@{m\+\_\+owner\+\_\+rank}!lbann\+::data\+\_\+store\+\_\+pilot2\+\_\+molecular@{lbann\+::data\+\_\+store\+\_\+pilot2\+\_\+molecular}}
\subsubsection{\texorpdfstring{m\+\_\+owner\+\_\+rank}{m\_owner\_rank}}
{\footnotesize\ttfamily int lbann\+::data\+\_\+store\+\_\+pilot2\+\_\+molecular\+::m\+\_\+owner\+\_\+rank\hspace{0.3cm}{\ttfamily [protected]}}

the process that \char`\"{}owns\char`\"{} the data, i.\+e, this is the only process whose m\+\_\+reader will load data from disk 

Definition at line 120 of file data\+\_\+store\+\_\+pilot2\+\_\+molecular.\+hpp.

\mbox{\Hypertarget{classlbann_1_1data__store__pilot2__molecular_a1875ae12fe7c2b11818ddb3fecff9f72}\label{classlbann_1_1data__store__pilot2__molecular_a1875ae12fe7c2b11818ddb3fecff9f72}} 
\index{lbann\+::data\+\_\+store\+\_\+pilot2\+\_\+molecular@{lbann\+::data\+\_\+store\+\_\+pilot2\+\_\+molecular}!m\+\_\+pilot2\+\_\+reader@{m\+\_\+pilot2\+\_\+reader}}
\index{m\+\_\+pilot2\+\_\+reader@{m\+\_\+pilot2\+\_\+reader}!lbann\+::data\+\_\+store\+\_\+pilot2\+\_\+molecular@{lbann\+::data\+\_\+store\+\_\+pilot2\+\_\+molecular}}
\subsubsection{\texorpdfstring{m\+\_\+pilot2\+\_\+reader}{m\_pilot2\_reader}}
{\footnotesize\ttfamily \hyperlink{classlbann_1_1pilot2__molecular__reader}{pilot2\+\_\+molecular\+\_\+reader}$\ast$ lbann\+::data\+\_\+store\+\_\+pilot2\+\_\+molecular\+::m\+\_\+pilot2\+\_\+reader\hspace{0.3cm}{\ttfamily [protected]}}



Definition at line 83 of file data\+\_\+store\+\_\+pilot2\+\_\+molecular.\+hpp.

\mbox{\Hypertarget{classlbann_1_1data__store__pilot2__molecular_afedbbd7592df7b60c71a7744eb8ccbf9}\label{classlbann_1_1data__store__pilot2__molecular_afedbbd7592df7b60c71a7744eb8ccbf9}} 
\index{lbann\+::data\+\_\+store\+\_\+pilot2\+\_\+molecular@{lbann\+::data\+\_\+store\+\_\+pilot2\+\_\+molecular}!m\+\_\+shuffle@{m\+\_\+shuffle}}
\index{m\+\_\+shuffle@{m\+\_\+shuffle}!lbann\+::data\+\_\+store\+\_\+pilot2\+\_\+molecular@{lbann\+::data\+\_\+store\+\_\+pilot2\+\_\+molecular}}
\subsubsection{\texorpdfstring{m\+\_\+shuffle}{m\_shuffle}}
{\footnotesize\ttfamily bool lbann\+::data\+\_\+store\+\_\+pilot2\+\_\+molecular\+::m\+\_\+shuffle\hspace{0.3cm}{\ttfamily [protected]}}



support for \hyperlink{classlbann_1_1data__store__merge__samples}{data\+\_\+store\+\_\+merge\+\_\+samples} 



Definition at line 126 of file data\+\_\+store\+\_\+pilot2\+\_\+molecular.\+hpp.



The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
/\+Users/mckinney27/doxy-\/testbed/lbann/include/lbann/data\+\_\+store/\hyperlink{data__store__pilot2__molecular_8hpp}{data\+\_\+store\+\_\+pilot2\+\_\+molecular.\+hpp}\item 
/\+Users/mckinney27/doxy-\/testbed/lbann/src/data\+\_\+store/\hyperlink{data__store__pilot2__molecular_8cpp}{data\+\_\+store\+\_\+pilot2\+\_\+molecular.\+cpp}\end{DoxyCompactItemize}
