\hypertarget{classlbann_1_1cross__entropy}{}\section{lbann\+:\+:cross\+\_\+entropy Class Reference}
\label{classlbann_1_1cross__entropy}\index{lbann\+::cross\+\_\+entropy@{lbann\+::cross\+\_\+entropy}}


{\ttfamily \#include $<$cross\+\_\+entropy.\+hpp$>$}



Inheritance diagram for lbann\+:\+:cross\+\_\+entropy\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=232pt]{classlbann_1_1cross__entropy__inherit__graph}
\end{center}
\end{figure}


Collaboration diagram for lbann\+:\+:cross\+\_\+entropy\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=336pt]{classlbann_1_1cross__entropy__coll__graph}
\end{center}
\end{figure}
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classlbann_1_1cross__entropy_a68520e75b1613caa6e845b26199df0ee}{cross\+\_\+entropy} (\hyperlink{base_8hpp_a3266f5ac18504bbadea983c109566867}{Eval\+Type} scale\+\_\+factor=\hyperlink{base_8hpp_a3266f5ac18504bbadea983c109566867}{Eval\+Type}(1))
\item 
\hyperlink{classlbann_1_1cross__entropy_adb865fd99d2e8c9b3da748956363ed7f}{cross\+\_\+entropy} (const \hyperlink{classlbann_1_1cross__entropy}{cross\+\_\+entropy} \&other)=default
\item 
\hyperlink{classlbann_1_1cross__entropy}{cross\+\_\+entropy} \& \hyperlink{classlbann_1_1cross__entropy_a818f473e9af3e417dfdf2c79f8f2c2af}{operator=} (const \hyperlink{classlbann_1_1cross__entropy}{cross\+\_\+entropy} \&other)=default
\item 
\hyperlink{classlbann_1_1cross__entropy_a9876fd9cc40a76acb219a875f66dfdb7}{$\sim$cross\+\_\+entropy} () override=default
\item 
\hyperlink{classlbann_1_1cross__entropy}{cross\+\_\+entropy} $\ast$ \hyperlink{classlbann_1_1cross__entropy_a5d709e7cf0a3a260ba8d5c558aebda88}{copy} () const override
\item 
std\+::string \hyperlink{classlbann_1_1cross__entropy_a142c9188b0a251ddaf0325e1f310f205}{name} () const override
\item 
void \hyperlink{classlbann_1_1cross__entropy_a5167b7709499516c6a4dbebfc561f6a7}{start\+\_\+evaluate\+\_\+compute} (const \hyperlink{base_8hpp_a9a697a504ae84010e7439ffec862b470}{Abs\+Dist\+Mat} \&prediction, const \hyperlink{base_8hpp_a9a697a504ae84010e7439ffec862b470}{Abs\+Dist\+Mat} \&ground\+\_\+truth) override
\item 
\hyperlink{base_8hpp_a3266f5ac18504bbadea983c109566867}{Eval\+Type} \hyperlink{classlbann_1_1cross__entropy_a85d6937dc70217062f7b45cb678ea1f9}{finish\+\_\+evaluate\+\_\+compute} (const \hyperlink{base_8hpp_a9a697a504ae84010e7439ffec862b470}{Abs\+Dist\+Mat} \&prediction, const \hyperlink{base_8hpp_a9a697a504ae84010e7439ffec862b470}{Abs\+Dist\+Mat} \&ground\+\_\+truth) override
\item 
void \hyperlink{classlbann_1_1cross__entropy_a5a91b6dac7d27980c47f6fd818963d1b}{differentiate\+\_\+compute} (const \hyperlink{base_8hpp_a9a697a504ae84010e7439ffec862b470}{Abs\+Dist\+Mat} \&prediction, const \hyperlink{base_8hpp_a9a697a504ae84010e7439ffec862b470}{Abs\+Dist\+Mat} \&ground\+\_\+truth, \hyperlink{base_8hpp_a9a697a504ae84010e7439ffec862b470}{Abs\+Dist\+Mat} \&gradient) override
\end{DoxyCompactItemize}
\subsection*{Private Attributes}
\begin{DoxyCompactItemize}
\item 
\hyperlink{base_8hpp_a3266f5ac18504bbadea983c109566867}{Eval\+Type} \hyperlink{classlbann_1_1cross__entropy_a0eea3d755b963149cb364e722a7352d8}{m\+\_\+sum}
\item 
\hyperlink{structlbann_1_1Al_1_1request}{Al\+::request} \hyperlink{classlbann_1_1cross__entropy_a982d913d892cd9043325e2cc6a77f039}{m\+\_\+allreduce\+\_\+req}
\end{DoxyCompactItemize}
\subsection*{Additional Inherited Members}


\subsection{Detailed Description}
Cross entropy loss function. 

Definition at line 35 of file cross\+\_\+entropy.\+hpp.



\subsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{classlbann_1_1cross__entropy_a68520e75b1613caa6e845b26199df0ee}\label{classlbann_1_1cross__entropy_a68520e75b1613caa6e845b26199df0ee}} 
\index{lbann\+::cross\+\_\+entropy@{lbann\+::cross\+\_\+entropy}!cross\+\_\+entropy@{cross\+\_\+entropy}}
\index{cross\+\_\+entropy@{cross\+\_\+entropy}!lbann\+::cross\+\_\+entropy@{lbann\+::cross\+\_\+entropy}}
\subsubsection{\texorpdfstring{cross\+\_\+entropy()}{cross\_entropy()}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily lbann\+::cross\+\_\+entropy\+::cross\+\_\+entropy (\begin{DoxyParamCaption}\item[{\hyperlink{base_8hpp_a3266f5ac18504bbadea983c109566867}{Eval\+Type}}]{scale\+\_\+factor = {\ttfamily \hyperlink{base_8hpp_a3266f5ac18504bbadea983c109566867}{Eval\+Type}(1)} }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}

Default constructor. 

Definition at line 38 of file cross\+\_\+entropy.\+hpp.


\begin{DoxyCode}
39     : \hyperlink{classlbann_1_1loss__function_a0c5745e661c59e3e5496888d233c07cf}{loss\_function}(scale\_factor) \{\}
\end{DoxyCode}
Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=334pt]{classlbann_1_1cross__entropy_a68520e75b1613caa6e845b26199df0ee_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=334pt]{classlbann_1_1cross__entropy_a68520e75b1613caa6e845b26199df0ee_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classlbann_1_1cross__entropy_adb865fd99d2e8c9b3da748956363ed7f}\label{classlbann_1_1cross__entropy_adb865fd99d2e8c9b3da748956363ed7f}} 
\index{lbann\+::cross\+\_\+entropy@{lbann\+::cross\+\_\+entropy}!cross\+\_\+entropy@{cross\+\_\+entropy}}
\index{cross\+\_\+entropy@{cross\+\_\+entropy}!lbann\+::cross\+\_\+entropy@{lbann\+::cross\+\_\+entropy}}
\subsubsection{\texorpdfstring{cross\+\_\+entropy()}{cross\_entropy()}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily lbann\+::cross\+\_\+entropy\+::cross\+\_\+entropy (\begin{DoxyParamCaption}\item[{const \hyperlink{classlbann_1_1cross__entropy}{cross\+\_\+entropy} \&}]{other }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [default]}}

Copy constructor. \mbox{\Hypertarget{classlbann_1_1cross__entropy_a9876fd9cc40a76acb219a875f66dfdb7}\label{classlbann_1_1cross__entropy_a9876fd9cc40a76acb219a875f66dfdb7}} 
\index{lbann\+::cross\+\_\+entropy@{lbann\+::cross\+\_\+entropy}!````~cross\+\_\+entropy@{$\sim$cross\+\_\+entropy}}
\index{````~cross\+\_\+entropy@{$\sim$cross\+\_\+entropy}!lbann\+::cross\+\_\+entropy@{lbann\+::cross\+\_\+entropy}}
\subsubsection{\texorpdfstring{$\sim$cross\+\_\+entropy()}{~cross\_entropy()}}
{\footnotesize\ttfamily lbann\+::cross\+\_\+entropy\+::$\sim$cross\+\_\+entropy (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [default]}}

Destructor. Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classlbann_1_1cross__entropy_a9876fd9cc40a76acb219a875f66dfdb7_icgraph}
\end{center}
\end{figure}


\subsection{Member Function Documentation}
\mbox{\Hypertarget{classlbann_1_1cross__entropy_a5d709e7cf0a3a260ba8d5c558aebda88}\label{classlbann_1_1cross__entropy_a5d709e7cf0a3a260ba8d5c558aebda88}} 
\index{lbann\+::cross\+\_\+entropy@{lbann\+::cross\+\_\+entropy}!copy@{copy}}
\index{copy@{copy}!lbann\+::cross\+\_\+entropy@{lbann\+::cross\+\_\+entropy}}
\subsubsection{\texorpdfstring{copy()}{copy()}}
{\footnotesize\ttfamily \hyperlink{classlbann_1_1cross__entropy}{cross\+\_\+entropy}$\ast$ lbann\+::cross\+\_\+entropy\+::copy (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [override]}, {\ttfamily [virtual]}}

Copy function. 

Implements \hyperlink{classlbann_1_1objective__function__term_ae98a4ec173a602ad55d1df20dadd4cb9}{lbann\+::objective\+\_\+function\+\_\+term}.



Definition at line 48 of file cross\+\_\+entropy.\+hpp.


\begin{DoxyCode}
48 \{ \textcolor{keywordflow}{return} \textcolor{keyword}{new} \hyperlink{classlbann_1_1cross__entropy_a68520e75b1613caa6e845b26199df0ee}{cross\_entropy}(*\textcolor{keyword}{this}); \}
\end{DoxyCode}
Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classlbann_1_1cross__entropy_a5d709e7cf0a3a260ba8d5c558aebda88_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classlbann_1_1cross__entropy_a5a91b6dac7d27980c47f6fd818963d1b}\label{classlbann_1_1cross__entropy_a5a91b6dac7d27980c47f6fd818963d1b}} 
\index{lbann\+::cross\+\_\+entropy@{lbann\+::cross\+\_\+entropy}!differentiate\+\_\+compute@{differentiate\+\_\+compute}}
\index{differentiate\+\_\+compute@{differentiate\+\_\+compute}!lbann\+::cross\+\_\+entropy@{lbann\+::cross\+\_\+entropy}}
\subsubsection{\texorpdfstring{differentiate\+\_\+compute()}{differentiate\_compute()}}
{\footnotesize\ttfamily void lbann\+::cross\+\_\+entropy\+::differentiate\+\_\+compute (\begin{DoxyParamCaption}\item[{const \hyperlink{base_8hpp_a9a697a504ae84010e7439ffec862b470}{Abs\+Dist\+Mat} \&}]{prediction,  }\item[{const \hyperlink{base_8hpp_a9a697a504ae84010e7439ffec862b470}{Abs\+Dist\+Mat} \&}]{ground\+\_\+truth,  }\item[{\hyperlink{base_8hpp_a9a697a504ae84010e7439ffec862b470}{Abs\+Dist\+Mat} \&}]{gradient }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}

Compute the gradient of the cross entropy objective function. Given a predicted distribution $y$ and ground truth distribution $\hat{y}$, the gradient of the cross entropy is \[ \nabla_y CE (y,\hat{y}) = - \hat{y} . / y \] 

Implements \hyperlink{classlbann_1_1loss__function_aefccc2b4f5a02664002d12630cf369e7}{lbann\+::loss\+\_\+function}.



Definition at line 64 of file cross\+\_\+entropy.\+cpp.


\begin{DoxyCode}
66                                                                 \{
67 
68   \textcolor{comment}{// Local matrices}
69   \textcolor{keyword}{const} \hyperlink{base_8hpp_a68f11fdc31b62516cb310831bbe54d73}{Mat}& predictions\_local = predictions.LockedMatrix();
70   \textcolor{keyword}{const} \hyperlink{base_8hpp_a68f11fdc31b62516cb310831bbe54d73}{Mat}& ground\_truth\_local = ground\_truth.LockedMatrix();
71   \hyperlink{base_8hpp_a68f11fdc31b62516cb310831bbe54d73}{Mat}& gradient\_local = gradient.Matrix();
72 
73   \textcolor{comment}{// Matrix parameters}
74   \textcolor{keyword}{const} El::Int local\_height = gradient\_local.Height();
75   \textcolor{keyword}{const} El::Int local\_width = gradient\_local.Width();
76 
77   \textcolor{comment}{// Compute gradient}
78 \textcolor{preprocessor}{  #pragma omp parallel for collapse(2)}
79   \textcolor{keywordflow}{for} (El::Int col = 0; col < local\_width; ++col) \{
80     \textcolor{keywordflow}{for} (El::Int row = 0; row < local\_height; ++row) \{
81       \textcolor{keyword}{const} DataType true\_val = ground\_truth\_local(row, col);
82       gradient\_local(row, col) = (true\_val != DataType(0) ?
83                                   - true\_val / predictions\_local(row, col) :
84                                   DataType(0));
85     \}
86   \}
87 
88 \}
\end{DoxyCode}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=342pt]{classlbann_1_1cross__entropy_a5a91b6dac7d27980c47f6fd818963d1b_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classlbann_1_1cross__entropy_a85d6937dc70217062f7b45cb678ea1f9}\label{classlbann_1_1cross__entropy_a85d6937dc70217062f7b45cb678ea1f9}} 
\index{lbann\+::cross\+\_\+entropy@{lbann\+::cross\+\_\+entropy}!finish\+\_\+evaluate\+\_\+compute@{finish\+\_\+evaluate\+\_\+compute}}
\index{finish\+\_\+evaluate\+\_\+compute@{finish\+\_\+evaluate\+\_\+compute}!lbann\+::cross\+\_\+entropy@{lbann\+::cross\+\_\+entropy}}
\subsubsection{\texorpdfstring{finish\+\_\+evaluate\+\_\+compute()}{finish\_evaluate\_compute()}}
{\footnotesize\ttfamily \hyperlink{base_8hpp_a3266f5ac18504bbadea983c109566867}{Eval\+Type} lbann\+::cross\+\_\+entropy\+::finish\+\_\+evaluate\+\_\+compute (\begin{DoxyParamCaption}\item[{const \hyperlink{base_8hpp_a9a697a504ae84010e7439ffec862b470}{Abs\+Dist\+Mat} \&}]{prediction,  }\item[{const \hyperlink{base_8hpp_a9a697a504ae84010e7439ffec862b470}{Abs\+Dist\+Mat} \&}]{ground\+\_\+truth }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}

Finish evaluation of the loss function. This should not include the scale factor. 

Implements \hyperlink{classlbann_1_1loss__function_a3ea8553a4e9c75477d7d4fc533c4d4fd}{lbann\+::loss\+\_\+function}.



Definition at line 58 of file cross\+\_\+entropy.\+cpp.


\begin{DoxyCode}
59                                                                  \{
60   \hyperlink{classlbann_1_1objective__function__term_a5f89b676a26a6b76ddc26563ac87beb9}{get\_comm}().\hyperlink{classlbann_1_1lbann__comm_a30439f28cf615e1406090799c5499321}{wait}(\hyperlink{classlbann_1_1cross__entropy_a982d913d892cd9043325e2cc6a77f039}{m\_allreduce\_req});
61   \textcolor{keywordflow}{return} \hyperlink{classlbann_1_1cross__entropy_a0eea3d755b963149cb364e722a7352d8}{m\_sum};
62 \}
\end{DoxyCode}
Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classlbann_1_1cross__entropy_a85d6937dc70217062f7b45cb678ea1f9_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classlbann_1_1cross__entropy_a85d6937dc70217062f7b45cb678ea1f9_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classlbann_1_1cross__entropy_a142c9188b0a251ddaf0325e1f310f205}\label{classlbann_1_1cross__entropy_a142c9188b0a251ddaf0325e1f310f205}} 
\index{lbann\+::cross\+\_\+entropy@{lbann\+::cross\+\_\+entropy}!name@{name}}
\index{name@{name}!lbann\+::cross\+\_\+entropy@{lbann\+::cross\+\_\+entropy}}
\subsubsection{\texorpdfstring{name()}{name()}}
{\footnotesize\ttfamily std\+::string lbann\+::cross\+\_\+entropy\+::name (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [override]}, {\ttfamily [virtual]}}

Get the name of the objective function term. 

Implements \hyperlink{classlbann_1_1objective__function__term_a964fbfad3dd0434aa8f32c5fedf1079a}{lbann\+::objective\+\_\+function\+\_\+term}.



Definition at line 51 of file cross\+\_\+entropy.\+hpp.


\begin{DoxyCode}
51 \{ \textcolor{keywordflow}{return} \textcolor{stringliteral}{"cross entropy"}; \}
\end{DoxyCode}
Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classlbann_1_1cross__entropy_a142c9188b0a251ddaf0325e1f310f205_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classlbann_1_1cross__entropy_a818f473e9af3e417dfdf2c79f8f2c2af}\label{classlbann_1_1cross__entropy_a818f473e9af3e417dfdf2c79f8f2c2af}} 
\index{lbann\+::cross\+\_\+entropy@{lbann\+::cross\+\_\+entropy}!operator=@{operator=}}
\index{operator=@{operator=}!lbann\+::cross\+\_\+entropy@{lbann\+::cross\+\_\+entropy}}
\subsubsection{\texorpdfstring{operator=()}{operator=()}}
{\footnotesize\ttfamily \hyperlink{classlbann_1_1cross__entropy}{cross\+\_\+entropy}\& lbann\+::cross\+\_\+entropy\+::operator= (\begin{DoxyParamCaption}\item[{const \hyperlink{classlbann_1_1cross__entropy}{cross\+\_\+entropy} \&}]{other }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [default]}}

Copy assignment operator. Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classlbann_1_1cross__entropy_a818f473e9af3e417dfdf2c79f8f2c2af_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classlbann_1_1cross__entropy_a5167b7709499516c6a4dbebfc561f6a7}\label{classlbann_1_1cross__entropy_a5167b7709499516c6a4dbebfc561f6a7}} 
\index{lbann\+::cross\+\_\+entropy@{lbann\+::cross\+\_\+entropy}!start\+\_\+evaluate\+\_\+compute@{start\+\_\+evaluate\+\_\+compute}}
\index{start\+\_\+evaluate\+\_\+compute@{start\+\_\+evaluate\+\_\+compute}!lbann\+::cross\+\_\+entropy@{lbann\+::cross\+\_\+entropy}}
\subsubsection{\texorpdfstring{start\+\_\+evaluate\+\_\+compute()}{start\_evaluate\_compute()}}
{\footnotesize\ttfamily void lbann\+::cross\+\_\+entropy\+::start\+\_\+evaluate\+\_\+compute (\begin{DoxyParamCaption}\item[{const \hyperlink{base_8hpp_a9a697a504ae84010e7439ffec862b470}{Abs\+Dist\+Mat} \&}]{prediction,  }\item[{const \hyperlink{base_8hpp_a9a697a504ae84010e7439ffec862b470}{Abs\+Dist\+Mat} \&}]{ground\+\_\+truth }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}

Compute the cross entropy objective function. Given a predicted distribution $y$ and ground truth distribution $\hat{y}$, the cross entropy is \[ CE(y,\hat{y}) = - \sum\limits_{i} \hat{y}_i \log y_i \] This function updates the objective function value with the mean cross entropy across the mini-\/batch. Note that each column of the predictions and ground truth matrices should have non-\/negative entries that add up to one. 

Implements \hyperlink{classlbann_1_1loss__function_a0bbe41060d788dc7a29f3737761a6f7d}{lbann\+::loss\+\_\+function}.



Definition at line 31 of file cross\+\_\+entropy.\+cpp.


\begin{DoxyCode}
32                                                                            \{
33   \textcolor{comment}{// Local matrices}
34   \textcolor{keyword}{const} \hyperlink{base_8hpp_a68f11fdc31b62516cb310831bbe54d73}{Mat}& predictions\_local = predictions.LockedMatrix();
35   \textcolor{keyword}{const} \hyperlink{base_8hpp_a68f11fdc31b62516cb310831bbe54d73}{Mat}& ground\_truth\_local = ground\_truth.LockedMatrix();
36   
37   \textcolor{comment}{// Matrix parameters}
38   \textcolor{keyword}{const} \textcolor{keywordtype}{int} width = predictions.Width();
39   \textcolor{keyword}{const} \textcolor{keywordtype}{int} local\_height = predictions\_local.Height();
40   \textcolor{keyword}{const} \textcolor{keywordtype}{int} local\_width = predictions\_local.Width();
41 
42   \textcolor{comment}{// Compute sum of cross entropy terms}
43   \hyperlink{base_8hpp_a3266f5ac18504bbadea983c109566867}{EvalType} sum = \hyperlink{base_8hpp_a3266f5ac18504bbadea983c109566867}{EvalType}(0);
44 \textcolor{preprocessor}{  #pragma omp parallel for reduction(+:sum) collapse(2)}
45   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} col = 0; col < local\_width; ++col) \{
46     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} row = 0; row < local\_height; ++row) \{
47       \textcolor{keyword}{const} \hyperlink{base_8hpp_a3266f5ac18504bbadea983c109566867}{EvalType} true\_val = ground\_truth\_local(row, col);
48       sum += (true\_val != \hyperlink{base_8hpp_a3266f5ac18504bbadea983c109566867}{EvalType}(0) ?
49               - true\_val * std::log(predictions\_local(row, col)) :
50               \hyperlink{base_8hpp_a3266f5ac18504bbadea983c109566867}{EvalType}(0));
51     \}
52   \}
53   \textcolor{comment}{// Compute mean objective function value across mini-batch}
54   \hyperlink{classlbann_1_1cross__entropy_a0eea3d755b963149cb364e722a7352d8}{m\_sum} = sum / width;  \textcolor{comment}{// Can't reduce on class members.}
55   \hyperlink{classlbann_1_1objective__function__term_a5f89b676a26a6b76ddc26563ac87beb9}{get\_comm}().\hyperlink{classlbann_1_1lbann__comm_a2a7bb6cf3707366fc0671d8894ca30ea}{nb\_allreduce}(&\hyperlink{classlbann_1_1cross__entropy_a0eea3d755b963149cb364e722a7352d8}{m\_sum}, 1, predictions.DistComm(), 
      \hyperlink{classlbann_1_1cross__entropy_a982d913d892cd9043325e2cc6a77f039}{m\_allreduce\_req});
56 \}
\end{DoxyCode}
Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classlbann_1_1cross__entropy_a5167b7709499516c6a4dbebfc561f6a7_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classlbann_1_1cross__entropy_a5167b7709499516c6a4dbebfc561f6a7_icgraph}
\end{center}
\end{figure}


\subsection{Member Data Documentation}
\mbox{\Hypertarget{classlbann_1_1cross__entropy_a982d913d892cd9043325e2cc6a77f039}\label{classlbann_1_1cross__entropy_a982d913d892cd9043325e2cc6a77f039}} 
\index{lbann\+::cross\+\_\+entropy@{lbann\+::cross\+\_\+entropy}!m\+\_\+allreduce\+\_\+req@{m\+\_\+allreduce\+\_\+req}}
\index{m\+\_\+allreduce\+\_\+req@{m\+\_\+allreduce\+\_\+req}!lbann\+::cross\+\_\+entropy@{lbann\+::cross\+\_\+entropy}}
\subsubsection{\texorpdfstring{m\+\_\+allreduce\+\_\+req}{m\_allreduce\_req}}
{\footnotesize\ttfamily \hyperlink{structlbann_1_1Al_1_1request}{Al\+::request} lbann\+::cross\+\_\+entropy\+::m\+\_\+allreduce\+\_\+req\hspace{0.3cm}{\ttfamily [private]}}

Non-\/blocking allreduce request. 

Definition at line 86 of file cross\+\_\+entropy.\+hpp.

\mbox{\Hypertarget{classlbann_1_1cross__entropy_a0eea3d755b963149cb364e722a7352d8}\label{classlbann_1_1cross__entropy_a0eea3d755b963149cb364e722a7352d8}} 
\index{lbann\+::cross\+\_\+entropy@{lbann\+::cross\+\_\+entropy}!m\+\_\+sum@{m\+\_\+sum}}
\index{m\+\_\+sum@{m\+\_\+sum}!lbann\+::cross\+\_\+entropy@{lbann\+::cross\+\_\+entropy}}
\subsubsection{\texorpdfstring{m\+\_\+sum}{m\_sum}}
{\footnotesize\ttfamily \hyperlink{base_8hpp_a3266f5ac18504bbadea983c109566867}{Eval\+Type} lbann\+::cross\+\_\+entropy\+::m\+\_\+sum\hspace{0.3cm}{\ttfamily [private]}}

Sum of the cross-\/entropy terms. 

Definition at line 84 of file cross\+\_\+entropy.\+hpp.



The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
/\+Users/mckinney27/doxy-\/testbed/lbann/include/lbann/objective\+\_\+functions/loss\+\_\+functions/\hyperlink{cross__entropy_8hpp}{cross\+\_\+entropy.\+hpp}\item 
/\+Users/mckinney27/doxy-\/testbed/lbann/src/objective\+\_\+functions/loss\+\_\+functions/\hyperlink{cross__entropy_8cpp}{cross\+\_\+entropy.\+cpp}\end{DoxyCompactItemize}
