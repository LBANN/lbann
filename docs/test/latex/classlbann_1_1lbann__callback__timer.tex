\hypertarget{classlbann_1_1lbann__callback__timer}{}\section{lbann\+:\+:lbann\+\_\+callback\+\_\+timer Class Reference}
\label{classlbann_1_1lbann__callback__timer}\index{lbann\+::lbann\+\_\+callback\+\_\+timer@{lbann\+::lbann\+\_\+callback\+\_\+timer}}


{\ttfamily \#include $<$callback\+\_\+timer.\+hpp$>$}



Inheritance diagram for lbann\+:\+:lbann\+\_\+callback\+\_\+timer\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=192pt]{classlbann_1_1lbann__callback__timer__inherit__graph}
\end{center}
\end{figure}


Collaboration diagram for lbann\+:\+:lbann\+\_\+callback\+\_\+timer\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=207pt]{classlbann_1_1lbann__callback__timer__coll__graph}
\end{center}
\end{figure}
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classlbann_1_1lbann__callback__timer_a00fc86ddf14a4a5e9c6b65ff2e81dfb6}{lbann\+\_\+callback\+\_\+timer} (\hyperlink{classlbann_1_1lbann__summary}{lbann\+\_\+summary} $\ast$summarizer=nullptr)
\item 
\hyperlink{classlbann_1_1lbann__callback__timer_afc366dc61b7d8af5ddce879e46255ee1}{lbann\+\_\+callback\+\_\+timer} (const \hyperlink{classlbann_1_1lbann__callback__timer}{lbann\+\_\+callback\+\_\+timer} \&)=default
\item 
\hyperlink{classlbann_1_1lbann__callback__timer}{lbann\+\_\+callback\+\_\+timer} \& \hyperlink{classlbann_1_1lbann__callback__timer_ab7548a88159197f64dfc319f3e777c2a}{operator=} (const \hyperlink{classlbann_1_1lbann__callback__timer}{lbann\+\_\+callback\+\_\+timer} \&)=default
\item 
\hyperlink{classlbann_1_1lbann__callback__timer}{lbann\+\_\+callback\+\_\+timer} $\ast$ \hyperlink{classlbann_1_1lbann__callback__timer_a9ea5c598723debb7b098a6ce891571c6}{copy} () const override
\item 
void \hyperlink{classlbann_1_1lbann__callback__timer_aceecdd208aa8d75a49a41a33bf48314b}{on\+\_\+epoch\+\_\+begin} (\hyperlink{classlbann_1_1model}{model} $\ast$m) override
\item 
void \hyperlink{classlbann_1_1lbann__callback__timer_a95ccee037894dbb5e3c663fbdfbc9d7f}{on\+\_\+epoch\+\_\+end} (\hyperlink{classlbann_1_1model}{model} $\ast$m) override
\item 
void \hyperlink{classlbann_1_1lbann__callback__timer_aa86c0ae1b6fbc878b6ba9a4551b803b8}{on\+\_\+validation\+\_\+begin} (\hyperlink{classlbann_1_1model}{model} $\ast$m) override
\item 
void \hyperlink{classlbann_1_1lbann__callback__timer_a0fea502078111627d340340a63768f9f}{on\+\_\+validation\+\_\+end} (\hyperlink{classlbann_1_1model}{model} $\ast$m) override
\item 
void \hyperlink{classlbann_1_1lbann__callback__timer_a9fb5327fa629c23e51c9c3b065d6d8c5}{on\+\_\+test\+\_\+begin} (\hyperlink{classlbann_1_1model}{model} $\ast$m) override
\item 
void \hyperlink{classlbann_1_1lbann__callback__timer_ab7db32c743128f8bcfc35c8ea56c226a}{on\+\_\+test\+\_\+end} (\hyperlink{classlbann_1_1model}{model} $\ast$m) override
\item 
void \hyperlink{classlbann_1_1lbann__callback__timer_aa6b016b9fb470a7614ab4147ae105002}{on\+\_\+batch\+\_\+begin} (\hyperlink{classlbann_1_1model}{model} $\ast$m) override
\item 
void \hyperlink{classlbann_1_1lbann__callback__timer_aff885381753dfc63709531aebc827b0e}{on\+\_\+batch\+\_\+end} (\hyperlink{classlbann_1_1model}{model} $\ast$m) override
\item 
void \hyperlink{classlbann_1_1lbann__callback__timer_abef3c43404a7453a383fe47728d3283b}{on\+\_\+batch\+\_\+evaluate\+\_\+begin} (\hyperlink{classlbann_1_1model}{model} $\ast$m) override
\item 
void \hyperlink{classlbann_1_1lbann__callback__timer_a1a041e3b7cc2cfea68200d9467d3eaaf}{on\+\_\+batch\+\_\+evaluate\+\_\+end} (\hyperlink{classlbann_1_1model}{model} $\ast$m) override
\item 
std\+::string \hyperlink{classlbann_1_1lbann__callback__timer_a32a3b87744ee0fcac931e8e69358ece9}{name} () const override
\end{DoxyCompactItemize}
\subsection*{Private Member Functions}
\begin{DoxyCompactItemize}
\item 
void \hyperlink{classlbann_1_1lbann__callback__timer_a5eb2a9d5c0c2fe4a7d7f45369928e2fd}{timing\+\_\+begin} (\hyperlink{classlbann_1_1model}{model} $\ast$m)
\item 
void \hyperlink{classlbann_1_1lbann__callback__timer_a955e59858c6803e96b21fe494cdf3971}{timing\+\_\+end} (\hyperlink{classlbann_1_1model}{model} $\ast$m)
\item 
void \hyperlink{classlbann_1_1lbann__callback__timer_a6a8a59707a52b8b570b7605b90fdd159}{batch\+\_\+timing\+\_\+begin} (\hyperlink{classlbann_1_1model}{model} $\ast$m)
\item 
void \hyperlink{classlbann_1_1lbann__callback__timer_afbf58bd4e1b4c1bcae2e50f78c9507f0}{batch\+\_\+timing\+\_\+end} (\hyperlink{classlbann_1_1model}{model} $\ast$m)
\end{DoxyCompactItemize}
\subsection*{Private Attributes}
\begin{DoxyCompactItemize}
\item 
\hyperlink{base_8hpp_a3266f5ac18504bbadea983c109566867}{Eval\+Type} \hyperlink{classlbann_1_1lbann__callback__timer_a5e65e92eadce733120772d420ffbb7d5}{m\+\_\+start\+\_\+time}
\item 
\hyperlink{base_8hpp_a3266f5ac18504bbadea983c109566867}{Eval\+Type} \hyperlink{classlbann_1_1lbann__callback__timer_a56a597dea5c6649442311dc15ee6d06f}{m\+\_\+batch\+\_\+start\+\_\+time}
\item 
std\+::vector$<$ \hyperlink{base_8hpp_a3266f5ac18504bbadea983c109566867}{Eval\+Type} $>$ \hyperlink{classlbann_1_1lbann__callback__timer_ae20dcc6bf921444e2724478ba751ade1}{m\+\_\+batch\+\_\+times}
\end{DoxyCompactItemize}
\subsection*{Additional Inherited Members}


\subsection{Detailed Description}
Record and report model timing results. Reports the total time and mini-\/batch time statistics for training epochs and for model evaluations. This reports times for the master process in each model. 

Definition at line 43 of file callback\+\_\+timer.\+hpp.



\subsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{classlbann_1_1lbann__callback__timer_a00fc86ddf14a4a5e9c6b65ff2e81dfb6}\label{classlbann_1_1lbann__callback__timer_a00fc86ddf14a4a5e9c6b65ff2e81dfb6}} 
\index{lbann\+::lbann\+\_\+callback\+\_\+timer@{lbann\+::lbann\+\_\+callback\+\_\+timer}!lbann\+\_\+callback\+\_\+timer@{lbann\+\_\+callback\+\_\+timer}}
\index{lbann\+\_\+callback\+\_\+timer@{lbann\+\_\+callback\+\_\+timer}!lbann\+::lbann\+\_\+callback\+\_\+timer@{lbann\+::lbann\+\_\+callback\+\_\+timer}}
\subsubsection{\texorpdfstring{lbann\+\_\+callback\+\_\+timer()}{lbann\_callback\_timer()}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily lbann\+::lbann\+\_\+callback\+\_\+timer\+::lbann\+\_\+callback\+\_\+timer (\begin{DoxyParamCaption}\item[{\hyperlink{classlbann_1_1lbann__summary}{lbann\+\_\+summary} $\ast$}]{summarizer = {\ttfamily nullptr} }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}

Constructor. 

Definition at line 47 of file callback\+\_\+timer.\+hpp.


\begin{DoxyCode}
47                                                             :
48     \hyperlink{classlbann_1_1lbann__callback_a679057298a41ddd47f08c157f756c584}{lbann\_callback}(1, summarizer) \{\}
\end{DoxyCode}
Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classlbann_1_1lbann__callback__timer_a00fc86ddf14a4a5e9c6b65ff2e81dfb6_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classlbann_1_1lbann__callback__timer_a00fc86ddf14a4a5e9c6b65ff2e81dfb6_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classlbann_1_1lbann__callback__timer_afc366dc61b7d8af5ddce879e46255ee1}\label{classlbann_1_1lbann__callback__timer_afc366dc61b7d8af5ddce879e46255ee1}} 
\index{lbann\+::lbann\+\_\+callback\+\_\+timer@{lbann\+::lbann\+\_\+callback\+\_\+timer}!lbann\+\_\+callback\+\_\+timer@{lbann\+\_\+callback\+\_\+timer}}
\index{lbann\+\_\+callback\+\_\+timer@{lbann\+\_\+callback\+\_\+timer}!lbann\+::lbann\+\_\+callback\+\_\+timer@{lbann\+::lbann\+\_\+callback\+\_\+timer}}
\subsubsection{\texorpdfstring{lbann\+\_\+callback\+\_\+timer()}{lbann\_callback\_timer()}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily lbann\+::lbann\+\_\+callback\+\_\+timer\+::lbann\+\_\+callback\+\_\+timer (\begin{DoxyParamCaption}\item[{const \hyperlink{classlbann_1_1lbann__callback__timer}{lbann\+\_\+callback\+\_\+timer} \&}]{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [default]}}

Copy constructor. 

\subsection{Member Function Documentation}
\mbox{\Hypertarget{classlbann_1_1lbann__callback__timer_a6a8a59707a52b8b570b7605b90fdd159}\label{classlbann_1_1lbann__callback__timer_a6a8a59707a52b8b570b7605b90fdd159}} 
\index{lbann\+::lbann\+\_\+callback\+\_\+timer@{lbann\+::lbann\+\_\+callback\+\_\+timer}!batch\+\_\+timing\+\_\+begin@{batch\+\_\+timing\+\_\+begin}}
\index{batch\+\_\+timing\+\_\+begin@{batch\+\_\+timing\+\_\+begin}!lbann\+::lbann\+\_\+callback\+\_\+timer@{lbann\+::lbann\+\_\+callback\+\_\+timer}}
\subsubsection{\texorpdfstring{batch\+\_\+timing\+\_\+begin()}{batch\_timing\_begin()}}
{\footnotesize\ttfamily void lbann\+::lbann\+\_\+callback\+\_\+timer\+::batch\+\_\+timing\+\_\+begin (\begin{DoxyParamCaption}\item[{\hyperlink{classlbann_1_1model}{model} $\ast$}]{m }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}

Start mini-\/batch timing. 

Definition at line 35 of file callback\+\_\+timer.\+cpp.


\begin{DoxyCode}
35                                                       \{
36   \hyperlink{classlbann_1_1lbann__callback__timer_a56a597dea5c6649442311dc15ee6d06f}{m\_batch\_start\_time} = \hyperlink{namespacelbann_a478d36031ff0659893c4322cd856157f}{get\_time}();
37 \}
\end{DoxyCode}
Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=336pt]{classlbann_1_1lbann__callback__timer_a6a8a59707a52b8b570b7605b90fdd159_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classlbann_1_1lbann__callback__timer_a6a8a59707a52b8b570b7605b90fdd159_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classlbann_1_1lbann__callback__timer_afbf58bd4e1b4c1bcae2e50f78c9507f0}\label{classlbann_1_1lbann__callback__timer_afbf58bd4e1b4c1bcae2e50f78c9507f0}} 
\index{lbann\+::lbann\+\_\+callback\+\_\+timer@{lbann\+::lbann\+\_\+callback\+\_\+timer}!batch\+\_\+timing\+\_\+end@{batch\+\_\+timing\+\_\+end}}
\index{batch\+\_\+timing\+\_\+end@{batch\+\_\+timing\+\_\+end}!lbann\+::lbann\+\_\+callback\+\_\+timer@{lbann\+::lbann\+\_\+callback\+\_\+timer}}
\subsubsection{\texorpdfstring{batch\+\_\+timing\+\_\+end()}{batch\_timing\_end()}}
{\footnotesize\ttfamily void lbann\+::lbann\+\_\+callback\+\_\+timer\+::batch\+\_\+timing\+\_\+end (\begin{DoxyParamCaption}\item[{\hyperlink{classlbann_1_1model}{model} $\ast$}]{m }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}

Record mini-\/batch timing. 

Definition at line 39 of file callback\+\_\+timer.\+cpp.


\begin{DoxyCode}
39                                                     \{
40   \textcolor{keyword}{const} \hyperlink{base_8hpp_a3266f5ac18504bbadea983c109566867}{EvalType} mb\_time = \hyperlink{namespacelbann_a478d36031ff0659893c4322cd856157f}{get\_time}() - \hyperlink{classlbann_1_1lbann__callback__timer_a56a597dea5c6649442311dc15ee6d06f}{m\_batch\_start\_time};
41   \hyperlink{classlbann_1_1lbann__callback__timer_ae20dcc6bf921444e2724478ba751ade1}{m\_batch\_times}.push\_back(mb\_time);
42   \textcolor{keywordflow}{if} (\hyperlink{classlbann_1_1lbann__callback_a277d46138184f85f161a8263b8322c76}{m\_summarizer} != \textcolor{keyword}{nullptr}) \{
43     \hyperlink{classlbann_1_1lbann__callback_a277d46138184f85f161a8263b8322c76}{m\_summarizer}->\hyperlink{classlbann_1_1lbann__summary_a3e0b9aae1f80403a195567fd25ea2525}{reduce\_scalar}(\textcolor{stringliteral}{"minibatch\_time"}, mb\_time, m->get\_cur\_step()-1);
44   \}
45 \}
\end{DoxyCode}
Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classlbann_1_1lbann__callback__timer_afbf58bd4e1b4c1bcae2e50f78c9507f0_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classlbann_1_1lbann__callback__timer_afbf58bd4e1b4c1bcae2e50f78c9507f0_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classlbann_1_1lbann__callback__timer_a9ea5c598723debb7b098a6ce891571c6}\label{classlbann_1_1lbann__callback__timer_a9ea5c598723debb7b098a6ce891571c6}} 
\index{lbann\+::lbann\+\_\+callback\+\_\+timer@{lbann\+::lbann\+\_\+callback\+\_\+timer}!copy@{copy}}
\index{copy@{copy}!lbann\+::lbann\+\_\+callback\+\_\+timer@{lbann\+::lbann\+\_\+callback\+\_\+timer}}
\subsubsection{\texorpdfstring{copy()}{copy()}}
{\footnotesize\ttfamily \hyperlink{classlbann_1_1lbann__callback__timer}{lbann\+\_\+callback\+\_\+timer}$\ast$ lbann\+::lbann\+\_\+callback\+\_\+timer\+::copy (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [override]}, {\ttfamily [virtual]}}

Copy function. 

Implements \hyperlink{classlbann_1_1lbann__callback_a9f545d1269a8c7af335625d049691f26}{lbann\+::lbann\+\_\+callback}.



Definition at line 54 of file callback\+\_\+timer.\+hpp.


\begin{DoxyCode}
54                                               \{
55     \textcolor{keywordflow}{return} \textcolor{keyword}{new} \hyperlink{classlbann_1_1lbann__callback__timer_a00fc86ddf14a4a5e9c6b65ff2e81dfb6}{lbann\_callback\_timer}(*\textcolor{keyword}{this});
56   \}
\end{DoxyCode}
Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classlbann_1_1lbann__callback__timer_a9ea5c598723debb7b098a6ce891571c6_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classlbann_1_1lbann__callback__timer_a32a3b87744ee0fcac931e8e69358ece9}\label{classlbann_1_1lbann__callback__timer_a32a3b87744ee0fcac931e8e69358ece9}} 
\index{lbann\+::lbann\+\_\+callback\+\_\+timer@{lbann\+::lbann\+\_\+callback\+\_\+timer}!name@{name}}
\index{name@{name}!lbann\+::lbann\+\_\+callback\+\_\+timer@{lbann\+::lbann\+\_\+callback\+\_\+timer}}
\subsubsection{\texorpdfstring{name()}{name()}}
{\footnotesize\ttfamily std\+::string lbann\+::lbann\+\_\+callback\+\_\+timer\+::name (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [override]}, {\ttfamily [virtual]}}

Callback name. 

Implements \hyperlink{classlbann_1_1lbann__callback_a7522c7a14f1d6a1ea762cc2d7248eb3a}{lbann\+::lbann\+\_\+callback}.



Definition at line 80 of file callback\+\_\+timer.\+hpp.


\begin{DoxyCode}
80 \{ \textcolor{keywordflow}{return} \textcolor{stringliteral}{"timer"}; \}
\end{DoxyCode}
\mbox{\Hypertarget{classlbann_1_1lbann__callback__timer_aa6b016b9fb470a7614ab4147ae105002}\label{classlbann_1_1lbann__callback__timer_aa6b016b9fb470a7614ab4147ae105002}} 
\index{lbann\+::lbann\+\_\+callback\+\_\+timer@{lbann\+::lbann\+\_\+callback\+\_\+timer}!on\+\_\+batch\+\_\+begin@{on\+\_\+batch\+\_\+begin}}
\index{on\+\_\+batch\+\_\+begin@{on\+\_\+batch\+\_\+begin}!lbann\+::lbann\+\_\+callback\+\_\+timer@{lbann\+::lbann\+\_\+callback\+\_\+timer}}
\subsubsection{\texorpdfstring{on\+\_\+batch\+\_\+begin()}{on\_batch\_begin()}}
{\footnotesize\ttfamily void lbann\+::lbann\+\_\+callback\+\_\+timer\+::on\+\_\+batch\+\_\+begin (\begin{DoxyParamCaption}\item[{\hyperlink{classlbann_1_1model}{model} $\ast$}]{m }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [override]}, {\ttfamily [virtual]}}

Record training mini-\/batch start time. 

Reimplemented from \hyperlink{classlbann_1_1lbann__callback_a9ecf4e44cd4021cdd687de14c850cc83}{lbann\+::lbann\+\_\+callback}.



Definition at line 71 of file callback\+\_\+timer.\+hpp.


\begin{DoxyCode}
71 \{ \hyperlink{classlbann_1_1lbann__callback__timer_a6a8a59707a52b8b570b7605b90fdd159}{batch\_timing\_begin}(m); \}
\end{DoxyCode}
Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classlbann_1_1lbann__callback__timer_aa6b016b9fb470a7614ab4147ae105002_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classlbann_1_1lbann__callback__timer_aff885381753dfc63709531aebc827b0e}\label{classlbann_1_1lbann__callback__timer_aff885381753dfc63709531aebc827b0e}} 
\index{lbann\+::lbann\+\_\+callback\+\_\+timer@{lbann\+::lbann\+\_\+callback\+\_\+timer}!on\+\_\+batch\+\_\+end@{on\+\_\+batch\+\_\+end}}
\index{on\+\_\+batch\+\_\+end@{on\+\_\+batch\+\_\+end}!lbann\+::lbann\+\_\+callback\+\_\+timer@{lbann\+::lbann\+\_\+callback\+\_\+timer}}
\subsubsection{\texorpdfstring{on\+\_\+batch\+\_\+end()}{on\_batch\_end()}}
{\footnotesize\ttfamily void lbann\+::lbann\+\_\+callback\+\_\+timer\+::on\+\_\+batch\+\_\+end (\begin{DoxyParamCaption}\item[{\hyperlink{classlbann_1_1model}{model} $\ast$}]{m }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [override]}, {\ttfamily [virtual]}}

Record training mini-\/batch run time. 

Reimplemented from \hyperlink{classlbann_1_1lbann__callback_a895ca577e358601fcae5c04749f60535}{lbann\+::lbann\+\_\+callback}.



Definition at line 73 of file callback\+\_\+timer.\+hpp.


\begin{DoxyCode}
73 \{ \hyperlink{classlbann_1_1lbann__callback__timer_afbf58bd4e1b4c1bcae2e50f78c9507f0}{batch\_timing\_end}(m); \}
\end{DoxyCode}
Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classlbann_1_1lbann__callback__timer_aff885381753dfc63709531aebc827b0e_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classlbann_1_1lbann__callback__timer_abef3c43404a7453a383fe47728d3283b}\label{classlbann_1_1lbann__callback__timer_abef3c43404a7453a383fe47728d3283b}} 
\index{lbann\+::lbann\+\_\+callback\+\_\+timer@{lbann\+::lbann\+\_\+callback\+\_\+timer}!on\+\_\+batch\+\_\+evaluate\+\_\+begin@{on\+\_\+batch\+\_\+evaluate\+\_\+begin}}
\index{on\+\_\+batch\+\_\+evaluate\+\_\+begin@{on\+\_\+batch\+\_\+evaluate\+\_\+begin}!lbann\+::lbann\+\_\+callback\+\_\+timer@{lbann\+::lbann\+\_\+callback\+\_\+timer}}
\subsubsection{\texorpdfstring{on\+\_\+batch\+\_\+evaluate\+\_\+begin()}{on\_batch\_evaluate\_begin()}}
{\footnotesize\ttfamily void lbann\+::lbann\+\_\+callback\+\_\+timer\+::on\+\_\+batch\+\_\+evaluate\+\_\+begin (\begin{DoxyParamCaption}\item[{\hyperlink{classlbann_1_1model}{model} $\ast$}]{m }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [override]}, {\ttfamily [virtual]}}

Record evaluation mini-\/batch start time. 

Reimplemented from \hyperlink{classlbann_1_1lbann__callback_a3462e54126adbd0082c22c98d8de5468}{lbann\+::lbann\+\_\+callback}.



Definition at line 75 of file callback\+\_\+timer.\+hpp.


\begin{DoxyCode}
75 \{ \hyperlink{classlbann_1_1lbann__callback__timer_a6a8a59707a52b8b570b7605b90fdd159}{batch\_timing\_begin}(m); \}
\end{DoxyCode}
Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classlbann_1_1lbann__callback__timer_abef3c43404a7453a383fe47728d3283b_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classlbann_1_1lbann__callback__timer_a1a041e3b7cc2cfea68200d9467d3eaaf}\label{classlbann_1_1lbann__callback__timer_a1a041e3b7cc2cfea68200d9467d3eaaf}} 
\index{lbann\+::lbann\+\_\+callback\+\_\+timer@{lbann\+::lbann\+\_\+callback\+\_\+timer}!on\+\_\+batch\+\_\+evaluate\+\_\+end@{on\+\_\+batch\+\_\+evaluate\+\_\+end}}
\index{on\+\_\+batch\+\_\+evaluate\+\_\+end@{on\+\_\+batch\+\_\+evaluate\+\_\+end}!lbann\+::lbann\+\_\+callback\+\_\+timer@{lbann\+::lbann\+\_\+callback\+\_\+timer}}
\subsubsection{\texorpdfstring{on\+\_\+batch\+\_\+evaluate\+\_\+end()}{on\_batch\_evaluate\_end()}}
{\footnotesize\ttfamily void lbann\+::lbann\+\_\+callback\+\_\+timer\+::on\+\_\+batch\+\_\+evaluate\+\_\+end (\begin{DoxyParamCaption}\item[{\hyperlink{classlbann_1_1model}{model} $\ast$}]{m }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [override]}, {\ttfamily [virtual]}}

Record evaluation mini-\/batch run time. 

Reimplemented from \hyperlink{classlbann_1_1lbann__callback_ad10891b8ab3de74ee1a70e6255e7d58a}{lbann\+::lbann\+\_\+callback}.



Definition at line 77 of file callback\+\_\+timer.\+hpp.


\begin{DoxyCode}
77 \{ \hyperlink{classlbann_1_1lbann__callback__timer_afbf58bd4e1b4c1bcae2e50f78c9507f0}{batch\_timing\_end}(m); \}
\end{DoxyCode}
Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classlbann_1_1lbann__callback__timer_a1a041e3b7cc2cfea68200d9467d3eaaf_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classlbann_1_1lbann__callback__timer_aceecdd208aa8d75a49a41a33bf48314b}\label{classlbann_1_1lbann__callback__timer_aceecdd208aa8d75a49a41a33bf48314b}} 
\index{lbann\+::lbann\+\_\+callback\+\_\+timer@{lbann\+::lbann\+\_\+callback\+\_\+timer}!on\+\_\+epoch\+\_\+begin@{on\+\_\+epoch\+\_\+begin}}
\index{on\+\_\+epoch\+\_\+begin@{on\+\_\+epoch\+\_\+begin}!lbann\+::lbann\+\_\+callback\+\_\+timer@{lbann\+::lbann\+\_\+callback\+\_\+timer}}
\subsubsection{\texorpdfstring{on\+\_\+epoch\+\_\+begin()}{on\_epoch\_begin()}}
{\footnotesize\ttfamily void lbann\+::lbann\+\_\+callback\+\_\+timer\+::on\+\_\+epoch\+\_\+begin (\begin{DoxyParamCaption}\item[{\hyperlink{classlbann_1_1model}{model} $\ast$}]{m }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [override]}, {\ttfamily [virtual]}}

Start timing for a training epoch. 

Reimplemented from \hyperlink{classlbann_1_1lbann__callback_a4ed9498763412a55953fff71ee3a9456}{lbann\+::lbann\+\_\+callback}.



Definition at line 59 of file callback\+\_\+timer.\+hpp.


\begin{DoxyCode}
59 \{ \hyperlink{classlbann_1_1lbann__callback__timer_a5eb2a9d5c0c2fe4a7d7f45369928e2fd}{timing\_begin}(m); \}
\end{DoxyCode}
Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classlbann_1_1lbann__callback__timer_aceecdd208aa8d75a49a41a33bf48314b_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classlbann_1_1lbann__callback__timer_a95ccee037894dbb5e3c663fbdfbc9d7f}\label{classlbann_1_1lbann__callback__timer_a95ccee037894dbb5e3c663fbdfbc9d7f}} 
\index{lbann\+::lbann\+\_\+callback\+\_\+timer@{lbann\+::lbann\+\_\+callback\+\_\+timer}!on\+\_\+epoch\+\_\+end@{on\+\_\+epoch\+\_\+end}}
\index{on\+\_\+epoch\+\_\+end@{on\+\_\+epoch\+\_\+end}!lbann\+::lbann\+\_\+callback\+\_\+timer@{lbann\+::lbann\+\_\+callback\+\_\+timer}}
\subsubsection{\texorpdfstring{on\+\_\+epoch\+\_\+end()}{on\_epoch\_end()}}
{\footnotesize\ttfamily void lbann\+::lbann\+\_\+callback\+\_\+timer\+::on\+\_\+epoch\+\_\+end (\begin{DoxyParamCaption}\item[{\hyperlink{classlbann_1_1model}{model} $\ast$}]{m }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [override]}, {\ttfamily [virtual]}}

Report timing for a training epoch. 

Reimplemented from \hyperlink{classlbann_1_1lbann__callback_a1fc71110e7f754bf73c9e0f344a448a5}{lbann\+::lbann\+\_\+callback}.



Definition at line 61 of file callback\+\_\+timer.\+hpp.


\begin{DoxyCode}
61 \{ \hyperlink{classlbann_1_1lbann__callback__timer_a955e59858c6803e96b21fe494cdf3971}{timing\_end}(m); \}
\end{DoxyCode}
Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classlbann_1_1lbann__callback__timer_a95ccee037894dbb5e3c663fbdfbc9d7f_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classlbann_1_1lbann__callback__timer_a9fb5327fa629c23e51c9c3b065d6d8c5}\label{classlbann_1_1lbann__callback__timer_a9fb5327fa629c23e51c9c3b065d6d8c5}} 
\index{lbann\+::lbann\+\_\+callback\+\_\+timer@{lbann\+::lbann\+\_\+callback\+\_\+timer}!on\+\_\+test\+\_\+begin@{on\+\_\+test\+\_\+begin}}
\index{on\+\_\+test\+\_\+begin@{on\+\_\+test\+\_\+begin}!lbann\+::lbann\+\_\+callback\+\_\+timer@{lbann\+::lbann\+\_\+callback\+\_\+timer}}
\subsubsection{\texorpdfstring{on\+\_\+test\+\_\+begin()}{on\_test\_begin()}}
{\footnotesize\ttfamily void lbann\+::lbann\+\_\+callback\+\_\+timer\+::on\+\_\+test\+\_\+begin (\begin{DoxyParamCaption}\item[{\hyperlink{classlbann_1_1model}{model} $\ast$}]{m }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [override]}, {\ttfamily [virtual]}}

Start timing for testing. 

Reimplemented from \hyperlink{classlbann_1_1lbann__callback_a716bff45bdc5a88eed09c2231f5bc93a}{lbann\+::lbann\+\_\+callback}.



Definition at line 67 of file callback\+\_\+timer.\+hpp.


\begin{DoxyCode}
67 \{ \hyperlink{classlbann_1_1lbann__callback__timer_a5eb2a9d5c0c2fe4a7d7f45369928e2fd}{timing\_begin}(m); \}
\end{DoxyCode}
Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classlbann_1_1lbann__callback__timer_a9fb5327fa629c23e51c9c3b065d6d8c5_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classlbann_1_1lbann__callback__timer_ab7db32c743128f8bcfc35c8ea56c226a}\label{classlbann_1_1lbann__callback__timer_ab7db32c743128f8bcfc35c8ea56c226a}} 
\index{lbann\+::lbann\+\_\+callback\+\_\+timer@{lbann\+::lbann\+\_\+callback\+\_\+timer}!on\+\_\+test\+\_\+end@{on\+\_\+test\+\_\+end}}
\index{on\+\_\+test\+\_\+end@{on\+\_\+test\+\_\+end}!lbann\+::lbann\+\_\+callback\+\_\+timer@{lbann\+::lbann\+\_\+callback\+\_\+timer}}
\subsubsection{\texorpdfstring{on\+\_\+test\+\_\+end()}{on\_test\_end()}}
{\footnotesize\ttfamily void lbann\+::lbann\+\_\+callback\+\_\+timer\+::on\+\_\+test\+\_\+end (\begin{DoxyParamCaption}\item[{\hyperlink{classlbann_1_1model}{model} $\ast$}]{m }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [override]}, {\ttfamily [virtual]}}

Report timing for testing. 

Reimplemented from \hyperlink{classlbann_1_1lbann__callback_accbad4dd004c1ced33642db6398b2efe}{lbann\+::lbann\+\_\+callback}.



Definition at line 69 of file callback\+\_\+timer.\+hpp.


\begin{DoxyCode}
69 \{ \hyperlink{classlbann_1_1lbann__callback__timer_a955e59858c6803e96b21fe494cdf3971}{timing\_end}(m); \}
\end{DoxyCode}
Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classlbann_1_1lbann__callback__timer_ab7db32c743128f8bcfc35c8ea56c226a_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classlbann_1_1lbann__callback__timer_aa86c0ae1b6fbc878b6ba9a4551b803b8}\label{classlbann_1_1lbann__callback__timer_aa86c0ae1b6fbc878b6ba9a4551b803b8}} 
\index{lbann\+::lbann\+\_\+callback\+\_\+timer@{lbann\+::lbann\+\_\+callback\+\_\+timer}!on\+\_\+validation\+\_\+begin@{on\+\_\+validation\+\_\+begin}}
\index{on\+\_\+validation\+\_\+begin@{on\+\_\+validation\+\_\+begin}!lbann\+::lbann\+\_\+callback\+\_\+timer@{lbann\+::lbann\+\_\+callback\+\_\+timer}}
\subsubsection{\texorpdfstring{on\+\_\+validation\+\_\+begin()}{on\_validation\_begin()}}
{\footnotesize\ttfamily void lbann\+::lbann\+\_\+callback\+\_\+timer\+::on\+\_\+validation\+\_\+begin (\begin{DoxyParamCaption}\item[{\hyperlink{classlbann_1_1model}{model} $\ast$}]{m }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [override]}, {\ttfamily [virtual]}}

Start timing for validation. 

Reimplemented from \hyperlink{classlbann_1_1lbann__callback_a2bde303671110519388d9962bc3e5583}{lbann\+::lbann\+\_\+callback}.



Definition at line 63 of file callback\+\_\+timer.\+hpp.


\begin{DoxyCode}
63 \{ \hyperlink{classlbann_1_1lbann__callback__timer_a5eb2a9d5c0c2fe4a7d7f45369928e2fd}{timing\_begin}(m); \}
\end{DoxyCode}
Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classlbann_1_1lbann__callback__timer_aa86c0ae1b6fbc878b6ba9a4551b803b8_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classlbann_1_1lbann__callback__timer_a0fea502078111627d340340a63768f9f}\label{classlbann_1_1lbann__callback__timer_a0fea502078111627d340340a63768f9f}} 
\index{lbann\+::lbann\+\_\+callback\+\_\+timer@{lbann\+::lbann\+\_\+callback\+\_\+timer}!on\+\_\+validation\+\_\+end@{on\+\_\+validation\+\_\+end}}
\index{on\+\_\+validation\+\_\+end@{on\+\_\+validation\+\_\+end}!lbann\+::lbann\+\_\+callback\+\_\+timer@{lbann\+::lbann\+\_\+callback\+\_\+timer}}
\subsubsection{\texorpdfstring{on\+\_\+validation\+\_\+end()}{on\_validation\_end()}}
{\footnotesize\ttfamily void lbann\+::lbann\+\_\+callback\+\_\+timer\+::on\+\_\+validation\+\_\+end (\begin{DoxyParamCaption}\item[{\hyperlink{classlbann_1_1model}{model} $\ast$}]{m }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [override]}, {\ttfamily [virtual]}}

Report timing for validation. 

Reimplemented from \hyperlink{classlbann_1_1lbann__callback_adc16e42e5064dc2dc8d84dfbfc1325eb}{lbann\+::lbann\+\_\+callback}.



Definition at line 65 of file callback\+\_\+timer.\+hpp.


\begin{DoxyCode}
65 \{ \hyperlink{classlbann_1_1lbann__callback__timer_a955e59858c6803e96b21fe494cdf3971}{timing\_end}(m); \}
\end{DoxyCode}
Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classlbann_1_1lbann__callback__timer_a0fea502078111627d340340a63768f9f_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classlbann_1_1lbann__callback__timer_ab7548a88159197f64dfc319f3e777c2a}\label{classlbann_1_1lbann__callback__timer_ab7548a88159197f64dfc319f3e777c2a}} 
\index{lbann\+::lbann\+\_\+callback\+\_\+timer@{lbann\+::lbann\+\_\+callback\+\_\+timer}!operator=@{operator=}}
\index{operator=@{operator=}!lbann\+::lbann\+\_\+callback\+\_\+timer@{lbann\+::lbann\+\_\+callback\+\_\+timer}}
\subsubsection{\texorpdfstring{operator=()}{operator=()}}
{\footnotesize\ttfamily \hyperlink{classlbann_1_1lbann__callback__timer}{lbann\+\_\+callback\+\_\+timer}\& lbann\+::lbann\+\_\+callback\+\_\+timer\+::operator= (\begin{DoxyParamCaption}\item[{const \hyperlink{classlbann_1_1lbann__callback__timer}{lbann\+\_\+callback\+\_\+timer} \&}]{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [default]}}

Copy assignment operator. Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classlbann_1_1lbann__callback__timer_ab7548a88159197f64dfc319f3e777c2a_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classlbann_1_1lbann__callback__timer_a5eb2a9d5c0c2fe4a7d7f45369928e2fd}\label{classlbann_1_1lbann__callback__timer_a5eb2a9d5c0c2fe4a7d7f45369928e2fd}} 
\index{lbann\+::lbann\+\_\+callback\+\_\+timer@{lbann\+::lbann\+\_\+callback\+\_\+timer}!timing\+\_\+begin@{timing\+\_\+begin}}
\index{timing\+\_\+begin@{timing\+\_\+begin}!lbann\+::lbann\+\_\+callback\+\_\+timer@{lbann\+::lbann\+\_\+callback\+\_\+timer}}
\subsubsection{\texorpdfstring{timing\+\_\+begin()}{timing\_begin()}}
{\footnotesize\ttfamily void lbann\+::lbann\+\_\+callback\+\_\+timer\+::timing\+\_\+begin (\begin{DoxyParamCaption}\item[{\hyperlink{classlbann_1_1model}{model} $\ast$}]{m }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}

Start timing. 

Definition at line 47 of file callback\+\_\+timer.\+cpp.


\begin{DoxyCode}
47                                                 \{
48   \hyperlink{classlbann_1_1lbann__callback__timer_ae20dcc6bf921444e2724478ba751ade1}{m\_batch\_times}.clear();
49   \hyperlink{classlbann_1_1lbann__callback__timer_a5e65e92eadce733120772d420ffbb7d5}{m\_start\_time} = \hyperlink{namespacelbann_a478d36031ff0659893c4322cd856157f}{get\_time}();
50 \}
\end{DoxyCode}
Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=313pt]{classlbann_1_1lbann__callback__timer_a5eb2a9d5c0c2fe4a7d7f45369928e2fd_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classlbann_1_1lbann__callback__timer_a5eb2a9d5c0c2fe4a7d7f45369928e2fd_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classlbann_1_1lbann__callback__timer_a955e59858c6803e96b21fe494cdf3971}\label{classlbann_1_1lbann__callback__timer_a955e59858c6803e96b21fe494cdf3971}} 
\index{lbann\+::lbann\+\_\+callback\+\_\+timer@{lbann\+::lbann\+\_\+callback\+\_\+timer}!timing\+\_\+end@{timing\+\_\+end}}
\index{timing\+\_\+end@{timing\+\_\+end}!lbann\+::lbann\+\_\+callback\+\_\+timer@{lbann\+::lbann\+\_\+callback\+\_\+timer}}
\subsubsection{\texorpdfstring{timing\+\_\+end()}{timing\_end()}}
{\footnotesize\ttfamily void lbann\+::lbann\+\_\+callback\+\_\+timer\+::timing\+\_\+end (\begin{DoxyParamCaption}\item[{\hyperlink{classlbann_1_1model}{model} $\ast$}]{m }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}

Print timing results to standard output. 

Definition at line 52 of file callback\+\_\+timer.\+cpp.


\begin{DoxyCode}
52                                               \{
53   lbann\_comm *\hyperlink{file__io_8cpp_ab048c6f9fcbcfaa57ce68b00263dbebe}{comm} = m->get\_comm();
54 
55   \textcolor{comment}{// Get run time}
56   \textcolor{keyword}{const} \hyperlink{base_8hpp_a3266f5ac18504bbadea983c109566867}{EvalType} run\_time = \hyperlink{namespacelbann_a478d36031ff0659893c4322cd856157f}{get\_time}() - \hyperlink{classlbann_1_1lbann__callback__timer_a5e65e92eadce733120772d420ffbb7d5}{m\_start\_time};
57 
58   \textcolor{comment}{// Compute minibatch statistics}
59   \textcolor{keyword}{const} \textcolor{keywordtype}{int} num\_batches = \hyperlink{classlbann_1_1lbann__callback__timer_ae20dcc6bf921444e2724478ba751ade1}{m\_batch\_times}.size();
60   \hyperlink{base_8hpp_a3266f5ac18504bbadea983c109566867}{EvalType} batch\_time\_mean = std::nan(\textcolor{stringliteral}{""});
61   \hyperlink{base_8hpp_a3266f5ac18504bbadea983c109566867}{EvalType} batch\_time\_min = std::nan(\textcolor{stringliteral}{""});
62   \hyperlink{base_8hpp_a3266f5ac18504bbadea983c109566867}{EvalType} batch\_time\_max = std::nan(\textcolor{stringliteral}{""});
63   \hyperlink{base_8hpp_a3266f5ac18504bbadea983c109566867}{EvalType} batch\_time\_stdev = std::nan(\textcolor{stringliteral}{""});
64   \textcolor{keywordflow}{if} (num\_batches > 0) \{
65     batch\_time\_mean = std::accumulate(\hyperlink{classlbann_1_1lbann__callback__timer_ae20dcc6bf921444e2724478ba751ade1}{m\_batch\_times}.begin(),
66                                       \hyperlink{classlbann_1_1lbann__callback__timer_ae20dcc6bf921444e2724478ba751ade1}{m\_batch\_times}.end(),
67                                       0.0);
68     batch\_time\_mean /= num\_batches;
69     batch\_time\_min = *std::min\_element(\hyperlink{classlbann_1_1lbann__callback__timer_ae20dcc6bf921444e2724478ba751ade1}{m\_batch\_times}.begin(),
70                                        \hyperlink{classlbann_1_1lbann__callback__timer_ae20dcc6bf921444e2724478ba751ade1}{m\_batch\_times}.end());
71     batch\_time\_max = *std::max\_element(\hyperlink{classlbann_1_1lbann__callback__timer_ae20dcc6bf921444e2724478ba751ade1}{m\_batch\_times}.begin(),
72                                        \hyperlink{classlbann_1_1lbann__callback__timer_ae20dcc6bf921444e2724478ba751ade1}{m\_batch\_times}.end());
73   \}
74   \textcolor{keywordflow}{if} (num\_batches > 1) \{
75     \textcolor{keyword}{const} \hyperlink{base_8hpp_a3266f5ac18504bbadea983c109566867}{EvalType} sqsum = std::inner\_product(\hyperlink{classlbann_1_1lbann__callback__timer_ae20dcc6bf921444e2724478ba751ade1}{m\_batch\_times}.begin(),
76                                             \hyperlink{classlbann_1_1lbann__callback__timer_ae20dcc6bf921444e2724478ba751ade1}{m\_batch\_times}.end(),
77                                             \hyperlink{classlbann_1_1lbann__callback__timer_ae20dcc6bf921444e2724478ba751ade1}{m\_batch\_times}.begin(),
78                                             0.0);
79     \hyperlink{base_8hpp_a3266f5ac18504bbadea983c109566867}{EvalType} var = sqsum / num\_batches - batch\_time\_mean * batch\_time\_mean;
80     var = num\_batches * var / (num\_batches - 1);
81     batch\_time\_stdev = std::sqrt(std::max(var, 0.0));
82   \}
83 
84   \textcolor{comment}{// Get string for execution mode}
85   std::string mode\_string;
86   \textcolor{keywordflow}{switch}(m->get\_execution\_mode()) \{
87   \textcolor{keywordflow}{case} \hyperlink{base_8hpp_a2781a159088df64ed7d47cc91c4dc0a8ac185ddac8b5a8f5aa23c5b80bc12d214}{execution\_mode::training}:
88     mode\_string = \textcolor{stringliteral}{"training epoch "} + std::to\_string(m->get\_cur\_epoch()-1);
89     \textcolor{keywordflow}{break};
90   \textcolor{keywordflow}{case} \hyperlink{base_8hpp_a2781a159088df64ed7d47cc91c4dc0a8aa617908b172c473cb8e8cda059e55bf0}{execution\_mode::validation}:
91     mode\_string = \textcolor{stringliteral}{"validation"};
92     \textcolor{keywordflow}{break};
93   \textcolor{keywordflow}{case} \hyperlink{base_8hpp_a2781a159088df64ed7d47cc91c4dc0a8aae2b1fca515949e5d54fb22b8ed95575}{execution\_mode::testing}:
94     mode\_string = \textcolor{stringliteral}{"test"};
95     \textcolor{keywordflow}{break};
96   \textcolor{keywordflow}{default}:
97     std::stringstream err;
98     err << \_\_FILE\_\_ << \textcolor{stringliteral}{" "} << \_\_LINE\_\_ << \textcolor{stringliteral}{" :: "}
99         << \textcolor{stringliteral}{"invalid execution mode for reporting results"};
100     \textcolor{keywordflow}{throw} lbann\_exception(err.str());
101   \}
102 
103   \textcolor{comment}{// Report timing results}
104   \textcolor{keyword}{const} \textcolor{keywordtype}{int} num\_models = comm->get\_num\_models();
105   \textcolor{keywordflow}{if} (comm->am\_model\_master()) \{
106 
107     \textcolor{comment}{// Gather timing results in world master}
108     std::vector<EvalType> run\_time\_list(num\_models);
109     std::vector<EvalType> mean\_list(num\_models);
110     std::vector<EvalType> min\_list(num\_models);
111     std::vector<EvalType> max\_list(num\_models);
112     std::vector<EvalType> stdev\_list(num\_models);
113     \textcolor{keywordflow}{if} (comm->am\_world\_master()) \{
114       comm->intermodel\_gather(run\_time, run\_time\_list);
115       comm->intermodel\_gather(batch\_time\_mean, mean\_list);
116       comm->intermodel\_gather(batch\_time\_min, min\_list);
117       comm->intermodel\_gather(batch\_time\_max, max\_list);
118       comm->intermodel\_gather(batch\_time\_stdev, stdev\_list);
119     \} \textcolor{keywordflow}{else} \{
120       comm->intermodel\_gather(run\_time, comm->get\_intermodel\_master());
121       comm->intermodel\_gather(batch\_time\_mean, comm->get\_intermodel\_master());
122       comm->intermodel\_gather(batch\_time\_min, comm->get\_intermodel\_master());
123       comm->intermodel\_gather(batch\_time\_max, comm->get\_intermodel\_master());
124       comm->intermodel\_gather(batch\_time\_stdev, comm->get\_intermodel\_master());
125     \}
126 
127     \textcolor{comment}{// Print results}
128     \textcolor{keywordflow}{if} (comm->am\_world\_master()) \{
129       \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < num\_models; ++i) \{
130         std::cout << \textcolor{stringliteral}{"Model "} << i << \textcolor{stringliteral}{" "} << mode\_string << \textcolor{stringliteral}{" "}
131                   << \textcolor{stringliteral}{"run time : "} << run\_time\_list[i] << \textcolor{stringliteral}{"s"}
132                   << std::endl;
133       \}
134       \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < num\_models; ++i) \{
135         std::cout << \textcolor{stringliteral}{"Model "} << i << \textcolor{stringliteral}{" "} << mode\_string << \textcolor{stringliteral}{" "}
136                   << \textcolor{stringliteral}{"mini-batch time statistics : "};
137         \textcolor{keywordflow}{if} (std::isnan(mean\_list[i])) \{
138           std::cout << \textcolor{stringliteral}{"N/A"};
139         \} \textcolor{keywordflow}{else} \{
140           std::cout << mean\_list[i] << \textcolor{stringliteral}{"s"};
141         \}
142         std::cout << \textcolor{stringliteral}{" mean, "};
143         \textcolor{keywordflow}{if} (std::isnan(max\_list[i])) \{
144           std::cout << \textcolor{stringliteral}{"N/A"};
145         \} \textcolor{keywordflow}{else} \{
146           std::cout << max\_list[i] << \textcolor{stringliteral}{"s"};
147         \}
148         std::cout << \textcolor{stringliteral}{" max, "};
149         \textcolor{keywordflow}{if} (std::isnan(min\_list[i])) \{
150           std::cout << \textcolor{stringliteral}{"N/A"};
151         \} \textcolor{keywordflow}{else} \{
152           std::cout << min\_list[i] << \textcolor{stringliteral}{"s"};
153         \}
154         std::cout << \textcolor{stringliteral}{" min, "};
155         \textcolor{keywordflow}{if} (std::isnan(stdev\_list[i])) \{
156           std::cout << \textcolor{stringliteral}{"N/A"};
157         \} \textcolor{keywordflow}{else} \{
158           std::cout << stdev\_list[i] << \textcolor{stringliteral}{"s"};
159         \}
160         std::cout << \textcolor{stringliteral}{" stdev"} << std::endl;
161       \}
162 
163     \}
164   \}
165 
166 \}
\end{DoxyCode}
Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classlbann_1_1lbann__callback__timer_a955e59858c6803e96b21fe494cdf3971_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classlbann_1_1lbann__callback__timer_a955e59858c6803e96b21fe494cdf3971_icgraph}
\end{center}
\end{figure}


\subsection{Member Data Documentation}
\mbox{\Hypertarget{classlbann_1_1lbann__callback__timer_a56a597dea5c6649442311dc15ee6d06f}\label{classlbann_1_1lbann__callback__timer_a56a597dea5c6649442311dc15ee6d06f}} 
\index{lbann\+::lbann\+\_\+callback\+\_\+timer@{lbann\+::lbann\+\_\+callback\+\_\+timer}!m\+\_\+batch\+\_\+start\+\_\+time@{m\+\_\+batch\+\_\+start\+\_\+time}}
\index{m\+\_\+batch\+\_\+start\+\_\+time@{m\+\_\+batch\+\_\+start\+\_\+time}!lbann\+::lbann\+\_\+callback\+\_\+timer@{lbann\+::lbann\+\_\+callback\+\_\+timer}}
\subsubsection{\texorpdfstring{m\+\_\+batch\+\_\+start\+\_\+time}{m\_batch\_start\_time}}
{\footnotesize\ttfamily \hyperlink{base_8hpp_a3266f5ac18504bbadea983c109566867}{Eval\+Type} lbann\+::lbann\+\_\+callback\+\_\+timer\+::m\+\_\+batch\+\_\+start\+\_\+time\hspace{0.3cm}{\ttfamily [private]}}

Start time for the current mini-\/batch. 

Definition at line 87 of file callback\+\_\+timer.\+hpp.

\mbox{\Hypertarget{classlbann_1_1lbann__callback__timer_ae20dcc6bf921444e2724478ba751ade1}\label{classlbann_1_1lbann__callback__timer_ae20dcc6bf921444e2724478ba751ade1}} 
\index{lbann\+::lbann\+\_\+callback\+\_\+timer@{lbann\+::lbann\+\_\+callback\+\_\+timer}!m\+\_\+batch\+\_\+times@{m\+\_\+batch\+\_\+times}}
\index{m\+\_\+batch\+\_\+times@{m\+\_\+batch\+\_\+times}!lbann\+::lbann\+\_\+callback\+\_\+timer@{lbann\+::lbann\+\_\+callback\+\_\+timer}}
\subsubsection{\texorpdfstring{m\+\_\+batch\+\_\+times}{m\_batch\_times}}
{\footnotesize\ttfamily std\+::vector$<$\hyperlink{base_8hpp_a3266f5ac18504bbadea983c109566867}{Eval\+Type}$>$ lbann\+::lbann\+\_\+callback\+\_\+timer\+::m\+\_\+batch\+\_\+times\hspace{0.3cm}{\ttfamily [private]}}

History of mini-\/batch times for the current timing. 

Definition at line 89 of file callback\+\_\+timer.\+hpp.

\mbox{\Hypertarget{classlbann_1_1lbann__callback__timer_a5e65e92eadce733120772d420ffbb7d5}\label{classlbann_1_1lbann__callback__timer_a5e65e92eadce733120772d420ffbb7d5}} 
\index{lbann\+::lbann\+\_\+callback\+\_\+timer@{lbann\+::lbann\+\_\+callback\+\_\+timer}!m\+\_\+start\+\_\+time@{m\+\_\+start\+\_\+time}}
\index{m\+\_\+start\+\_\+time@{m\+\_\+start\+\_\+time}!lbann\+::lbann\+\_\+callback\+\_\+timer@{lbann\+::lbann\+\_\+callback\+\_\+timer}}
\subsubsection{\texorpdfstring{m\+\_\+start\+\_\+time}{m\_start\_time}}
{\footnotesize\ttfamily \hyperlink{base_8hpp_a3266f5ac18504bbadea983c109566867}{Eval\+Type} lbann\+::lbann\+\_\+callback\+\_\+timer\+::m\+\_\+start\+\_\+time\hspace{0.3cm}{\ttfamily [private]}}

Start time for the current timing. 

Definition at line 85 of file callback\+\_\+timer.\+hpp.



The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
/\+Users/mckinney27/doxy-\/testbed/lbann/include/lbann/callbacks/\hyperlink{callback__timer_8hpp}{callback\+\_\+timer.\+hpp}\item 
/\+Users/mckinney27/doxy-\/testbed/lbann/src/callbacks/\hyperlink{callback__timer_8cpp}{callback\+\_\+timer.\+cpp}\end{DoxyCompactItemize}
