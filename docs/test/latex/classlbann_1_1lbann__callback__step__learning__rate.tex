\hypertarget{classlbann_1_1lbann__callback__step__learning__rate}{}\section{lbann\+:\+:lbann\+\_\+callback\+\_\+step\+\_\+learning\+\_\+rate Class Reference}
\label{classlbann_1_1lbann__callback__step__learning__rate}\index{lbann\+::lbann\+\_\+callback\+\_\+step\+\_\+learning\+\_\+rate@{lbann\+::lbann\+\_\+callback\+\_\+step\+\_\+learning\+\_\+rate}}


{\ttfamily \#include $<$callback\+\_\+learning\+\_\+rate.\+hpp$>$}



Inheritance diagram for lbann\+:\+:lbann\+\_\+callback\+\_\+step\+\_\+learning\+\_\+rate\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=192pt]{classlbann_1_1lbann__callback__step__learning__rate__inherit__graph}
\end{center}
\end{figure}


Collaboration diagram for lbann\+:\+:lbann\+\_\+callback\+\_\+step\+\_\+learning\+\_\+rate\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=207pt]{classlbann_1_1lbann__callback__step__learning__rate__coll__graph}
\end{center}
\end{figure}
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classlbann_1_1lbann__callback__step__learning__rate_acaf6b1a65c8734b21a62a3c1f16447ca}{lbann\+\_\+callback\+\_\+step\+\_\+learning\+\_\+rate} (int step, float amt)
\item 
\hyperlink{classlbann_1_1lbann__callback__step__learning__rate_a22ece9107d7aa79c6b849b251db036b0}{lbann\+\_\+callback\+\_\+step\+\_\+learning\+\_\+rate} (int step, float amt, std\+::unordered\+\_\+set$<$ \hyperlink{classlbann_1_1weights}{weights} $\ast$$>$ weights\+\_\+list)
\item 
\hyperlink{classlbann_1_1lbann__callback__step__learning__rate_a490e371559547d9527a4dee80dabed03}{lbann\+\_\+callback\+\_\+step\+\_\+learning\+\_\+rate} (const \hyperlink{classlbann_1_1lbann__callback__step__learning__rate}{lbann\+\_\+callback\+\_\+step\+\_\+learning\+\_\+rate} \&)=default
\item 
\hyperlink{classlbann_1_1lbann__callback__step__learning__rate}{lbann\+\_\+callback\+\_\+step\+\_\+learning\+\_\+rate} \& \hyperlink{classlbann_1_1lbann__callback__step__learning__rate_a0e677a5365c5b2119520ea9efcbb0a77}{operator=} (const \hyperlink{classlbann_1_1lbann__callback__step__learning__rate}{lbann\+\_\+callback\+\_\+step\+\_\+learning\+\_\+rate} \&)=default
\item 
\hyperlink{classlbann_1_1lbann__callback__step__learning__rate}{lbann\+\_\+callback\+\_\+step\+\_\+learning\+\_\+rate} $\ast$ \hyperlink{classlbann_1_1lbann__callback__step__learning__rate_aa4848d45df5b6ab58456374ce966b374}{copy} () const override
\item 
std\+::string \hyperlink{classlbann_1_1lbann__callback__step__learning__rate_a0332449e3d03aac46e0562cede85a5ed}{name} () const override
\end{DoxyCompactItemize}
\subsection*{Protected Member Functions}
\begin{DoxyCompactItemize}
\item 
float \hyperlink{classlbann_1_1lbann__callback__step__learning__rate_a440671682e8c041a7208af77231059ec}{global\+\_\+schedule} (\hyperlink{classlbann_1_1model}{model} $\ast$m) override
\end{DoxyCompactItemize}
\subsection*{Private Attributes}
\begin{DoxyCompactItemize}
\item 
int \hyperlink{classlbann_1_1lbann__callback__step__learning__rate_a804bffdc6bcc1e1f43dc068db852b993}{m\+\_\+step}
\item 
float \hyperlink{classlbann_1_1lbann__callback__step__learning__rate_ab6f5430cf862ec67392dc0f69ced81e6}{m\+\_\+amt}
\end{DoxyCompactItemize}
\subsection*{Additional Inherited Members}


\subsection{Detailed Description}
Decrease the learning rate by a fixed proportion every X epochs. 

Definition at line 93 of file callback\+\_\+learning\+\_\+rate.\+hpp.



\subsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{classlbann_1_1lbann__callback__step__learning__rate_acaf6b1a65c8734b21a62a3c1f16447ca}\label{classlbann_1_1lbann__callback__step__learning__rate_acaf6b1a65c8734b21a62a3c1f16447ca}} 
\index{lbann\+::lbann\+\_\+callback\+\_\+step\+\_\+learning\+\_\+rate@{lbann\+::lbann\+\_\+callback\+\_\+step\+\_\+learning\+\_\+rate}!lbann\+\_\+callback\+\_\+step\+\_\+learning\+\_\+rate@{lbann\+\_\+callback\+\_\+step\+\_\+learning\+\_\+rate}}
\index{lbann\+\_\+callback\+\_\+step\+\_\+learning\+\_\+rate@{lbann\+\_\+callback\+\_\+step\+\_\+learning\+\_\+rate}!lbann\+::lbann\+\_\+callback\+\_\+step\+\_\+learning\+\_\+rate@{lbann\+::lbann\+\_\+callback\+\_\+step\+\_\+learning\+\_\+rate}}
\subsubsection{\texorpdfstring{lbann\+\_\+callback\+\_\+step\+\_\+learning\+\_\+rate()}{lbann\_callback\_step\_learning\_rate()}\hspace{0.1cm}{\footnotesize\ttfamily [1/3]}}
{\footnotesize\ttfamily lbann\+::lbann\+\_\+callback\+\_\+step\+\_\+learning\+\_\+rate\+::lbann\+\_\+callback\+\_\+step\+\_\+learning\+\_\+rate (\begin{DoxyParamCaption}\item[{int}]{step,  }\item[{float}]{amt }\end{DoxyParamCaption})}

Decrease the learning rate by amt every step epochs. 

Definition at line 96 of file callback\+\_\+learning\+\_\+rate.\+cpp.


\begin{DoxyCode}
97                        :
98   \hyperlink{classlbann_1_1lbann__callback__learning__rate_a69687cd55f4d09c480e08e18488519fe}{lbann\_callback\_learning\_rate}(), \hyperlink{classlbann_1_1lbann__callback__step__learning__rate_a804bffdc6bcc1e1f43dc068db852b993}{m\_step}(step), 
      \hyperlink{classlbann_1_1lbann__callback__step__learning__rate_ab6f5430cf862ec67392dc0f69ced81e6}{m\_amt}(amt) \{\}
\end{DoxyCode}
\mbox{\Hypertarget{classlbann_1_1lbann__callback__step__learning__rate_a22ece9107d7aa79c6b849b251db036b0}\label{classlbann_1_1lbann__callback__step__learning__rate_a22ece9107d7aa79c6b849b251db036b0}} 
\index{lbann\+::lbann\+\_\+callback\+\_\+step\+\_\+learning\+\_\+rate@{lbann\+::lbann\+\_\+callback\+\_\+step\+\_\+learning\+\_\+rate}!lbann\+\_\+callback\+\_\+step\+\_\+learning\+\_\+rate@{lbann\+\_\+callback\+\_\+step\+\_\+learning\+\_\+rate}}
\index{lbann\+\_\+callback\+\_\+step\+\_\+learning\+\_\+rate@{lbann\+\_\+callback\+\_\+step\+\_\+learning\+\_\+rate}!lbann\+::lbann\+\_\+callback\+\_\+step\+\_\+learning\+\_\+rate@{lbann\+::lbann\+\_\+callback\+\_\+step\+\_\+learning\+\_\+rate}}
\subsubsection{\texorpdfstring{lbann\+\_\+callback\+\_\+step\+\_\+learning\+\_\+rate()}{lbann\_callback\_step\_learning\_rate()}\hspace{0.1cm}{\footnotesize\ttfamily [2/3]}}
{\footnotesize\ttfamily lbann\+::lbann\+\_\+callback\+\_\+step\+\_\+learning\+\_\+rate\+::lbann\+\_\+callback\+\_\+step\+\_\+learning\+\_\+rate (\begin{DoxyParamCaption}\item[{int}]{step,  }\item[{float}]{amt,  }\item[{std\+::unordered\+\_\+set$<$ \hyperlink{classlbann_1_1weights}{weights} $\ast$$>$}]{weights\+\_\+list }\end{DoxyParamCaption})}



Definition at line 100 of file callback\+\_\+learning\+\_\+rate.\+cpp.


\begin{DoxyCode}
101                                                                  :
102   \hyperlink{classlbann_1_1lbann__callback__learning__rate_a69687cd55f4d09c480e08e18488519fe}{lbann\_callback\_learning\_rate}(weights\_list), \hyperlink{classlbann_1_1lbann__callback__step__learning__rate_a804bffdc6bcc1e1f43dc068db852b993}{m\_step}(step), 
      \hyperlink{classlbann_1_1lbann__callback__step__learning__rate_ab6f5430cf862ec67392dc0f69ced81e6}{m\_amt}(amt) \{\}
\end{DoxyCode}
\mbox{\Hypertarget{classlbann_1_1lbann__callback__step__learning__rate_a490e371559547d9527a4dee80dabed03}\label{classlbann_1_1lbann__callback__step__learning__rate_a490e371559547d9527a4dee80dabed03}} 
\index{lbann\+::lbann\+\_\+callback\+\_\+step\+\_\+learning\+\_\+rate@{lbann\+::lbann\+\_\+callback\+\_\+step\+\_\+learning\+\_\+rate}!lbann\+\_\+callback\+\_\+step\+\_\+learning\+\_\+rate@{lbann\+\_\+callback\+\_\+step\+\_\+learning\+\_\+rate}}
\index{lbann\+\_\+callback\+\_\+step\+\_\+learning\+\_\+rate@{lbann\+\_\+callback\+\_\+step\+\_\+learning\+\_\+rate}!lbann\+::lbann\+\_\+callback\+\_\+step\+\_\+learning\+\_\+rate@{lbann\+::lbann\+\_\+callback\+\_\+step\+\_\+learning\+\_\+rate}}
\subsubsection{\texorpdfstring{lbann\+\_\+callback\+\_\+step\+\_\+learning\+\_\+rate()}{lbann\_callback\_step\_learning\_rate()}\hspace{0.1cm}{\footnotesize\ttfamily [3/3]}}
{\footnotesize\ttfamily lbann\+::lbann\+\_\+callback\+\_\+step\+\_\+learning\+\_\+rate\+::lbann\+\_\+callback\+\_\+step\+\_\+learning\+\_\+rate (\begin{DoxyParamCaption}\item[{const \hyperlink{classlbann_1_1lbann__callback__step__learning__rate}{lbann\+\_\+callback\+\_\+step\+\_\+learning\+\_\+rate} \&}]{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [default]}}



\subsection{Member Function Documentation}
\mbox{\Hypertarget{classlbann_1_1lbann__callback__step__learning__rate_aa4848d45df5b6ab58456374ce966b374}\label{classlbann_1_1lbann__callback__step__learning__rate_aa4848d45df5b6ab58456374ce966b374}} 
\index{lbann\+::lbann\+\_\+callback\+\_\+step\+\_\+learning\+\_\+rate@{lbann\+::lbann\+\_\+callback\+\_\+step\+\_\+learning\+\_\+rate}!copy@{copy}}
\index{copy@{copy}!lbann\+::lbann\+\_\+callback\+\_\+step\+\_\+learning\+\_\+rate@{lbann\+::lbann\+\_\+callback\+\_\+step\+\_\+learning\+\_\+rate}}
\subsubsection{\texorpdfstring{copy()}{copy()}}
{\footnotesize\ttfamily \hyperlink{classlbann_1_1lbann__callback__step__learning__rate}{lbann\+\_\+callback\+\_\+step\+\_\+learning\+\_\+rate}$\ast$ lbann\+::lbann\+\_\+callback\+\_\+step\+\_\+learning\+\_\+rate\+::copy (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [override]}, {\ttfamily [virtual]}}



Implements \hyperlink{classlbann_1_1lbann__callback_a9f545d1269a8c7af335625d049691f26}{lbann\+::lbann\+\_\+callback}.



Definition at line 103 of file callback\+\_\+learning\+\_\+rate.\+hpp.


\begin{DoxyCode}
103                                                            \{
104     \textcolor{keywordflow}{return} \textcolor{keyword}{new} \hyperlink{classlbann_1_1lbann__callback__step__learning__rate_acaf6b1a65c8734b21a62a3c1f16447ca}{lbann\_callback\_step\_learning\_rate}(*\textcolor{keyword}{this});
105   \}
\end{DoxyCode}
\mbox{\Hypertarget{classlbann_1_1lbann__callback__step__learning__rate_a440671682e8c041a7208af77231059ec}\label{classlbann_1_1lbann__callback__step__learning__rate_a440671682e8c041a7208af77231059ec}} 
\index{lbann\+::lbann\+\_\+callback\+\_\+step\+\_\+learning\+\_\+rate@{lbann\+::lbann\+\_\+callback\+\_\+step\+\_\+learning\+\_\+rate}!global\+\_\+schedule@{global\+\_\+schedule}}
\index{global\+\_\+schedule@{global\+\_\+schedule}!lbann\+::lbann\+\_\+callback\+\_\+step\+\_\+learning\+\_\+rate@{lbann\+::lbann\+\_\+callback\+\_\+step\+\_\+learning\+\_\+rate}}
\subsubsection{\texorpdfstring{global\+\_\+schedule()}{global\_schedule()}}
{\footnotesize\ttfamily float lbann\+::lbann\+\_\+callback\+\_\+step\+\_\+learning\+\_\+rate\+::global\+\_\+schedule (\begin{DoxyParamCaption}\item[{\hyperlink{classlbann_1_1model}{model} $\ast$}]{m }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [protected]}, {\ttfamily [virtual]}}

This is called at the end of every epoch to update the learning rate for every optimizer. Adjustments should be made based on the current global learning rate. The returned learning rate will be used to automatically update the current global learning rate. 

Reimplemented from \hyperlink{classlbann_1_1lbann__callback__learning__rate_a7869b93e5963d6f76da68d8c8137b979}{lbann\+::lbann\+\_\+callback\+\_\+learning\+\_\+rate}.



Definition at line 104 of file callback\+\_\+learning\+\_\+rate.\+cpp.


\begin{DoxyCode}
104                                                                  \{
105   \textcolor{keywordflow}{if} (m->get\_cur\_epoch() % \hyperlink{classlbann_1_1lbann__callback__step__learning__rate_a804bffdc6bcc1e1f43dc068db852b993}{m\_step} == 0) \{
106     \textcolor{keywordflow}{return} \hyperlink{classlbann_1_1lbann__callback__learning__rate_a97194f282c29a748c915d9811a8a99fb}{m\_cur\_global\_lr} * \hyperlink{classlbann_1_1lbann__callback__step__learning__rate_ab6f5430cf862ec67392dc0f69ced81e6}{m\_amt};
107   \} \textcolor{keywordflow}{else} \{
108     \textcolor{keywordflow}{return} \hyperlink{classlbann_1_1lbann__callback__learning__rate_a97194f282c29a748c915d9811a8a99fb}{m\_cur\_global\_lr};
109   \}
110 \}
\end{DoxyCode}
Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=340pt]{classlbann_1_1lbann__callback__step__learning__rate_a440671682e8c041a7208af77231059ec_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classlbann_1_1lbann__callback__step__learning__rate_a0332449e3d03aac46e0562cede85a5ed}\label{classlbann_1_1lbann__callback__step__learning__rate_a0332449e3d03aac46e0562cede85a5ed}} 
\index{lbann\+::lbann\+\_\+callback\+\_\+step\+\_\+learning\+\_\+rate@{lbann\+::lbann\+\_\+callback\+\_\+step\+\_\+learning\+\_\+rate}!name@{name}}
\index{name@{name}!lbann\+::lbann\+\_\+callback\+\_\+step\+\_\+learning\+\_\+rate@{lbann\+::lbann\+\_\+callback\+\_\+step\+\_\+learning\+\_\+rate}}
\subsubsection{\texorpdfstring{name()}{name()}}
{\footnotesize\ttfamily std\+::string lbann\+::lbann\+\_\+callback\+\_\+step\+\_\+learning\+\_\+rate\+::name (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [override]}, {\ttfamily [virtual]}}

Return this callback\textquotesingle{}s name. 

Implements \hyperlink{classlbann_1_1lbann__callback_a7522c7a14f1d6a1ea762cc2d7248eb3a}{lbann\+::lbann\+\_\+callback}.



Definition at line 106 of file callback\+\_\+learning\+\_\+rate.\+hpp.


\begin{DoxyCode}
106 \{ \textcolor{keywordflow}{return} \textcolor{stringliteral}{"step learning rate"}; \}
\end{DoxyCode}
Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classlbann_1_1lbann__callback__step__learning__rate_a0332449e3d03aac46e0562cede85a5ed_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classlbann_1_1lbann__callback__step__learning__rate_a0e677a5365c5b2119520ea9efcbb0a77}\label{classlbann_1_1lbann__callback__step__learning__rate_a0e677a5365c5b2119520ea9efcbb0a77}} 
\index{lbann\+::lbann\+\_\+callback\+\_\+step\+\_\+learning\+\_\+rate@{lbann\+::lbann\+\_\+callback\+\_\+step\+\_\+learning\+\_\+rate}!operator=@{operator=}}
\index{operator=@{operator=}!lbann\+::lbann\+\_\+callback\+\_\+step\+\_\+learning\+\_\+rate@{lbann\+::lbann\+\_\+callback\+\_\+step\+\_\+learning\+\_\+rate}}
\subsubsection{\texorpdfstring{operator=()}{operator=()}}
{\footnotesize\ttfamily \hyperlink{classlbann_1_1lbann__callback__step__learning__rate}{lbann\+\_\+callback\+\_\+step\+\_\+learning\+\_\+rate}\& lbann\+::lbann\+\_\+callback\+\_\+step\+\_\+learning\+\_\+rate\+::operator= (\begin{DoxyParamCaption}\item[{const \hyperlink{classlbann_1_1lbann__callback__step__learning__rate}{lbann\+\_\+callback\+\_\+step\+\_\+learning\+\_\+rate} \&}]{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [default]}}



\subsection{Member Data Documentation}
\mbox{\Hypertarget{classlbann_1_1lbann__callback__step__learning__rate_ab6f5430cf862ec67392dc0f69ced81e6}\label{classlbann_1_1lbann__callback__step__learning__rate_ab6f5430cf862ec67392dc0f69ced81e6}} 
\index{lbann\+::lbann\+\_\+callback\+\_\+step\+\_\+learning\+\_\+rate@{lbann\+::lbann\+\_\+callback\+\_\+step\+\_\+learning\+\_\+rate}!m\+\_\+amt@{m\+\_\+amt}}
\index{m\+\_\+amt@{m\+\_\+amt}!lbann\+::lbann\+\_\+callback\+\_\+step\+\_\+learning\+\_\+rate@{lbann\+::lbann\+\_\+callback\+\_\+step\+\_\+learning\+\_\+rate}}
\subsubsection{\texorpdfstring{m\+\_\+amt}{m\_amt}}
{\footnotesize\ttfamily float lbann\+::lbann\+\_\+callback\+\_\+step\+\_\+learning\+\_\+rate\+::m\+\_\+amt\hspace{0.3cm}{\ttfamily [private]}}

Amount to decrease the learning rate by. 

Definition at line 113 of file callback\+\_\+learning\+\_\+rate.\+hpp.

\mbox{\Hypertarget{classlbann_1_1lbann__callback__step__learning__rate_a804bffdc6bcc1e1f43dc068db852b993}\label{classlbann_1_1lbann__callback__step__learning__rate_a804bffdc6bcc1e1f43dc068db852b993}} 
\index{lbann\+::lbann\+\_\+callback\+\_\+step\+\_\+learning\+\_\+rate@{lbann\+::lbann\+\_\+callback\+\_\+step\+\_\+learning\+\_\+rate}!m\+\_\+step@{m\+\_\+step}}
\index{m\+\_\+step@{m\+\_\+step}!lbann\+::lbann\+\_\+callback\+\_\+step\+\_\+learning\+\_\+rate@{lbann\+::lbann\+\_\+callback\+\_\+step\+\_\+learning\+\_\+rate}}
\subsubsection{\texorpdfstring{m\+\_\+step}{m\_step}}
{\footnotesize\ttfamily int lbann\+::lbann\+\_\+callback\+\_\+step\+\_\+learning\+\_\+rate\+::m\+\_\+step\hspace{0.3cm}{\ttfamily [private]}}

Number of epochs between each learning rate decrease. 

Definition at line 111 of file callback\+\_\+learning\+\_\+rate.\+hpp.



The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
/\+Users/mckinney27/doxy-\/testbed/lbann/include/lbann/callbacks/\hyperlink{callback__learning__rate_8hpp}{callback\+\_\+learning\+\_\+rate.\+hpp}\item 
/\+Users/mckinney27/doxy-\/testbed/lbann/src/callbacks/\hyperlink{callback__learning__rate_8cpp}{callback\+\_\+learning\+\_\+rate.\+cpp}\end{DoxyCompactItemize}
