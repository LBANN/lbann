\hypertarget{classlbann_1_1slice__layer}{}\section{lbann\+:\+:slice\+\_\+layer$<$ T\+\_\+layout $>$ Class Template Reference}
\label{classlbann_1_1slice__layer}\index{lbann\+::slice\+\_\+layer$<$ T\+\_\+layout $>$@{lbann\+::slice\+\_\+layer$<$ T\+\_\+layout $>$}}


{\ttfamily \#include $<$slice.\+hpp$>$}



Inheritance diagram for lbann\+:\+:slice\+\_\+layer$<$ T\+\_\+layout $>$\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=195pt]{classlbann_1_1slice__layer__inherit__graph}
\end{center}
\end{figure}


Collaboration diagram for lbann\+:\+:slice\+\_\+layer$<$ T\+\_\+layout $>$\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classlbann_1_1slice__layer__coll__graph}
\end{center}
\end{figure}
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classlbann_1_1slice__layer_a248cf99da690964ac0209684f8c13c1d}{slice\+\_\+layer} (\hyperlink{classlbann_1_1lbann__comm}{lbann\+\_\+comm} $\ast$\hyperlink{file__io_8cpp_ab048c6f9fcbcfaa57ce68b00263dbebe}{comm}, int slice\+\_\+axis, std\+::vector$<$ int $>$ slice\+\_\+points, \hyperlink{classlbann_1_1cudnn_1_1cudnn__manager}{cudnn\+::cudnn\+\_\+manager} $\ast$cudnn=nullptr)
\item 
\hyperlink{classlbann_1_1slice__layer_a650cf86c43a81a644bff4b8e9375f87f}{slice\+\_\+layer} (const \hyperlink{classlbann_1_1slice__layer}{slice\+\_\+layer} \&other)
\item 
\hyperlink{classlbann_1_1slice__layer}{slice\+\_\+layer} \& \hyperlink{classlbann_1_1slice__layer_a24fb9ce808d587210faa4e3b34dc1aff}{operator=} (const \hyperlink{classlbann_1_1slice__layer}{slice\+\_\+layer} \&other)
\item 
virtual \hyperlink{classlbann_1_1slice__layer_a12591fe9fbadca1a0345682c11788b03}{$\sim$slice\+\_\+layer} () override
\item 
\hyperlink{classlbann_1_1slice__layer}{slice\+\_\+layer} $\ast$ \hyperlink{classlbann_1_1slice__layer_a8c2b93a3ed24b239cc429ee85ee7ef29}{copy} () const override
\item 
std\+::string \hyperlink{classlbann_1_1slice__layer_aa7c27032d75d8e0d36a76b0763c4f215}{get\+\_\+type} () const override
\item 
\hyperlink{base_8hpp_a786677cbfb3f5677b4d84f3056eb08db}{data\+\_\+layout} \hyperlink{classlbann_1_1slice__layer_a5121b600d26654707289726e84c0eed9}{get\+\_\+data\+\_\+layout} () const override
\item 
std\+::string \hyperlink{classlbann_1_1slice__layer_aa61c1f449a9f741f523921129dfb88e5}{get\+\_\+description} () const override
\item 
void \hyperlink{classlbann_1_1slice__layer_a701854f5906a25c58d4f9d851b20de29}{setup\+\_\+pointers} () override
\item 
void \hyperlink{classlbann_1_1slice__layer_af3b6f79a53c9a80908b37c2587ff2cae}{setup\+\_\+matrices} (const \hyperlink{base_8hpp_a9951bb1719d534e0401b1f06cad19eab}{El\+::\+Grid} \&grid) override
\item 
void \hyperlink{classlbann_1_1slice__layer_ac43785fc01d6cf6e49d3677adfaac297}{setup\+\_\+dims} () override
\item 
std\+::vector$<$ int $>$ \& \hyperlink{classlbann_1_1slice__layer_a5c02b2a15355be051f93e72f3b2803ce}{get\+\_\+slice\+\_\+points} ()
\item 
const std\+::vector$<$ int $>$ \& \hyperlink{classlbann_1_1slice__layer_a88936fbabd04b06be6cf732fc5b73317}{get\+\_\+slice\+\_\+points} () const
\end{DoxyCompactItemize}
\subsection*{Protected Member Functions}
\begin{DoxyCompactItemize}
\item 
void \hyperlink{classlbann_1_1slice__layer_a4ade139cc44a7de47761680e1d44cb08}{fp\+\_\+compute} () override
\item 
void \hyperlink{classlbann_1_1slice__layer_a080654076a1b266b2c6d229e9fccf250}{bp\+\_\+compute} () override
\item 
void \hyperlink{classlbann_1_1slice__layer_ab4c95d24916534cdff58b32916171ff2}{fp\+\_\+compute\+\_\+cpu} ()
\item 
void \hyperlink{classlbann_1_1slice__layer_af5d6887cac9a0c3afab8f361cdf81034}{bp\+\_\+compute\+\_\+cpu} ()
\item 
void \hyperlink{classlbann_1_1slice__layer_a875347929b9e4c0a70749da0dbb6469e}{fp\+\_\+compute\+\_\+gpu} ()
\item 
void \hyperlink{classlbann_1_1slice__layer_a798c10e5c19f58e38da9d2d50c49ca3e}{bp\+\_\+compute\+\_\+gpu} ()
\item 
std\+::vector$<$ int $>$ \hyperlink{classlbann_1_1slice__layer_a824178abe2450bd331304ab0d50214ce}{get\+\_\+neuron\+\_\+dims} (int child\+\_\+index=0) const override
\item 
int \hyperlink{classlbann_1_1slice__layer_ab36016849a59dfa23d37fd0cd2ec943c}{get\+\_\+num\+\_\+neurons} (int child\+\_\+index=0) const override
\item 
std\+::vector$<$ int $>$ \hyperlink{classlbann_1_1slice__layer_a086c918fe72f28248f987d6a3aef355d}{fp\+\_\+output\+\_\+dims} (const \hyperlink{classlbann_1_1Layer}{Layer} $\ast$next\+\_\+layer) const override
\end{DoxyCompactItemize}
\subsection*{Private Attributes}
\begin{DoxyCompactItemize}
\item 
int \hyperlink{classlbann_1_1slice__layer_a349dcd71f67d77d40247da24e4641ea2}{m\+\_\+slice\+\_\+axis}
\item 
std\+::vector$<$ int $>$ \hyperlink{classlbann_1_1slice__layer_af79dab13a70da2e81209e7ae15166e30}{m\+\_\+slice\+\_\+points}
\item 
\hyperlink{base_8hpp_a9a697a504ae84010e7439ffec862b470}{Abs\+Dist\+Mat} $\ast$ \hyperlink{classlbann_1_1slice__layer_a3e64f86a9e999d3d72867c6009aa99ba}{m\+\_\+input\+\_\+region\+\_\+v}
\item 
\hyperlink{base_8hpp_a9a697a504ae84010e7439ffec862b470}{Abs\+Dist\+Mat} $\ast$ \hyperlink{classlbann_1_1slice__layer_a9d72208fc8136641e91cb208c38f8b65}{m\+\_\+output\+\_\+region\+\_\+v}
\end{DoxyCompactItemize}
\subsection*{Additional Inherited Members}


\subsection{Detailed Description}
\subsubsection*{template$<$data\+\_\+layout T\+\_\+layout = data\+\_\+layout\+::\+D\+A\+T\+A\+\_\+\+P\+A\+R\+A\+L\+L\+EL$>$\newline
class lbann\+::slice\+\_\+layer$<$ T\+\_\+layout $>$}

Slice layer. This layer slices an input tensor along a specified axis. 

Definition at line 40 of file slice.\+hpp.



\subsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{classlbann_1_1slice__layer_a248cf99da690964ac0209684f8c13c1d}\label{classlbann_1_1slice__layer_a248cf99da690964ac0209684f8c13c1d}} 
\index{lbann\+::slice\+\_\+layer@{lbann\+::slice\+\_\+layer}!slice\+\_\+layer@{slice\+\_\+layer}}
\index{slice\+\_\+layer@{slice\+\_\+layer}!lbann\+::slice\+\_\+layer@{lbann\+::slice\+\_\+layer}}
\subsubsection{\texorpdfstring{slice\+\_\+layer()}{slice\_layer()}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily template$<$data\+\_\+layout T\+\_\+layout = data\+\_\+layout\+::\+D\+A\+T\+A\+\_\+\+P\+A\+R\+A\+L\+L\+EL$>$ \\
\hyperlink{classlbann_1_1slice__layer}{lbann\+::slice\+\_\+layer}$<$ T\+\_\+layout $>$\+::\hyperlink{classlbann_1_1slice__layer}{slice\+\_\+layer} (\begin{DoxyParamCaption}\item[{\hyperlink{classlbann_1_1lbann__comm}{lbann\+\_\+comm} $\ast$}]{comm,  }\item[{int}]{slice\+\_\+axis,  }\item[{std\+::vector$<$ int $>$}]{slice\+\_\+points,  }\item[{\hyperlink{classlbann_1_1cudnn_1_1cudnn__manager}{cudnn\+::cudnn\+\_\+manager} $\ast$}]{cudnn = {\ttfamily nullptr} }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Definition at line 55 of file slice.\+hpp.


\begin{DoxyCode}
59     : \hyperlink{classlbann_1_1transform__layer_a4b72501e0f4d0745c8b13c5331055e65}{transform\_layer}(\hyperlink{file__io_8cpp_ab048c6f9fcbcfaa57ce68b00263dbebe}{comm}),
60       \hyperlink{classlbann_1_1slice__layer_a349dcd71f67d77d40247da24e4641ea2}{m\_slice\_axis}(slice\_axis),
61       \hyperlink{classlbann_1_1slice__layer_af79dab13a70da2e81209e7ae15166e30}{m\_slice\_points}(slice\_points),
62       \hyperlink{classlbann_1_1slice__layer_a3e64f86a9e999d3d72867c6009aa99ba}{m\_input\_region\_v}(\textcolor{keyword}{nullptr}),
63       \hyperlink{classlbann_1_1slice__layer_a9d72208fc8136641e91cb208c38f8b65}{m\_output\_region\_v}(\textcolor{keyword}{nullptr}) \{
64 
65     \textcolor{comment}{// Slice layer has no limit on children}
66     \hyperlink{classlbann_1_1Layer_ac08f133dddd150319650e220ab9a523a}{m\_expected\_num\_child\_layers} = -1;
67 
68 \textcolor{preprocessor}{  #ifdef LBANN\_HAS\_CUDNN}
69     \textcolor{comment}{// Initialize GPU if available}
70     \textcolor{keywordflow}{if}(cudnn) \{
71       this->\hyperlink{classlbann_1_1Layer_af7881cb5eff5207c15fa835d65462e8f}{m\_using\_gpus} = \textcolor{keyword}{true};
72       this->\hyperlink{classlbann_1_1Layer_a08dbb94239e3b8c96329786c57c72e21}{m\_cudnn} = cudnn;
73     \}
74 \textcolor{preprocessor}{  #endif // LBANN\_HAS\_CUDNN}
75 
76   \}
\end{DoxyCode}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=303pt]{classlbann_1_1slice__layer_a248cf99da690964ac0209684f8c13c1d_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classlbann_1_1slice__layer_a650cf86c43a81a644bff4b8e9375f87f}\label{classlbann_1_1slice__layer_a650cf86c43a81a644bff4b8e9375f87f}} 
\index{lbann\+::slice\+\_\+layer@{lbann\+::slice\+\_\+layer}!slice\+\_\+layer@{slice\+\_\+layer}}
\index{slice\+\_\+layer@{slice\+\_\+layer}!lbann\+::slice\+\_\+layer@{lbann\+::slice\+\_\+layer}}
\subsubsection{\texorpdfstring{slice\+\_\+layer()}{slice\_layer()}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily template$<$data\+\_\+layout T\+\_\+layout = data\+\_\+layout\+::\+D\+A\+T\+A\+\_\+\+P\+A\+R\+A\+L\+L\+EL$>$ \\
\hyperlink{classlbann_1_1slice__layer}{lbann\+::slice\+\_\+layer}$<$ T\+\_\+layout $>$\+::\hyperlink{classlbann_1_1slice__layer}{slice\+\_\+layer} (\begin{DoxyParamCaption}\item[{const \hyperlink{classlbann_1_1slice__layer}{slice\+\_\+layer}$<$ T\+\_\+layout $>$ \&}]{other }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Definition at line 78 of file slice.\+hpp.


\begin{DoxyCode}
79     : \hyperlink{classlbann_1_1transform__layer_a4b72501e0f4d0745c8b13c5331055e65}{transform\_layer}(other),
80       \hyperlink{classlbann_1_1slice__layer_a349dcd71f67d77d40247da24e4641ea2}{m\_slice\_axis}(other.m\_slice\_axis),
81       \hyperlink{classlbann_1_1slice__layer_af79dab13a70da2e81209e7ae15166e30}{m\_slice\_points}(other.m\_slice\_points),
82       \hyperlink{classlbann_1_1slice__layer_a3e64f86a9e999d3d72867c6009aa99ba}{m\_input\_region\_v}(other.m\_input\_region\_v),
83       \hyperlink{classlbann_1_1slice__layer_a9d72208fc8136641e91cb208c38f8b65}{m\_output\_region\_v}(other.m\_output\_region\_v) \{
84     \textcolor{comment}{// Deep copy matrices}
85     \textcolor{keywordflow}{if} (\hyperlink{classlbann_1_1slice__layer_a3e64f86a9e999d3d72867c6009aa99ba}{m\_input\_region\_v} != \textcolor{keyword}{nullptr}) \{
86       \hyperlink{classlbann_1_1slice__layer_a3e64f86a9e999d3d72867c6009aa99ba}{m\_input\_region\_v} = \hyperlink{classlbann_1_1slice__layer_a3e64f86a9e999d3d72867c6009aa99ba}{m\_input\_region\_v}->Copy();
87     \}
88     \textcolor{keywordflow}{if} (\hyperlink{classlbann_1_1slice__layer_a9d72208fc8136641e91cb208c38f8b65}{m\_output\_region\_v} != \textcolor{keyword}{nullptr}) \{
89       \hyperlink{classlbann_1_1slice__layer_a9d72208fc8136641e91cb208c38f8b65}{m\_output\_region\_v} = \hyperlink{classlbann_1_1slice__layer_a9d72208fc8136641e91cb208c38f8b65}{m\_output\_region\_v}->Copy();
90     \}
91   \}
\end{DoxyCode}
\mbox{\Hypertarget{classlbann_1_1slice__layer_a12591fe9fbadca1a0345682c11788b03}\label{classlbann_1_1slice__layer_a12591fe9fbadca1a0345682c11788b03}} 
\index{lbann\+::slice\+\_\+layer@{lbann\+::slice\+\_\+layer}!````~slice\+\_\+layer@{$\sim$slice\+\_\+layer}}
\index{````~slice\+\_\+layer@{$\sim$slice\+\_\+layer}!lbann\+::slice\+\_\+layer@{lbann\+::slice\+\_\+layer}}
\subsubsection{\texorpdfstring{$\sim$slice\+\_\+layer()}{~slice\_layer()}}
{\footnotesize\ttfamily template$<$data\+\_\+layout T\+\_\+layout = data\+\_\+layout\+::\+D\+A\+T\+A\+\_\+\+P\+A\+R\+A\+L\+L\+EL$>$ \\
virtual \hyperlink{classlbann_1_1slice__layer}{lbann\+::slice\+\_\+layer}$<$ T\+\_\+layout $>$\+::$\sim$\hyperlink{classlbann_1_1slice__layer}{slice\+\_\+layer} (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [override]}, {\ttfamily [virtual]}}



Definition at line 112 of file slice.\+hpp.


\begin{DoxyCode}
112                                   \{
113     \textcolor{keywordflow}{if} (\hyperlink{classlbann_1_1slice__layer_a3e64f86a9e999d3d72867c6009aa99ba}{m\_input\_region\_v} != \textcolor{keyword}{nullptr})  \{ \textcolor{keyword}{delete} \hyperlink{classlbann_1_1slice__layer_a3e64f86a9e999d3d72867c6009aa99ba}{m\_input\_region\_v}; \}
114     \textcolor{keywordflow}{if} (\hyperlink{classlbann_1_1slice__layer_a9d72208fc8136641e91cb208c38f8b65}{m\_output\_region\_v} != \textcolor{keyword}{nullptr}) \{ \textcolor{keyword}{delete} 
      \hyperlink{classlbann_1_1slice__layer_a9d72208fc8136641e91cb208c38f8b65}{m\_output\_region\_v}; \}
115   \}
\end{DoxyCode}


\subsection{Member Function Documentation}
\mbox{\Hypertarget{classlbann_1_1slice__layer_a080654076a1b266b2c6d229e9fccf250}\label{classlbann_1_1slice__layer_a080654076a1b266b2c6d229e9fccf250}} 
\index{lbann\+::slice\+\_\+layer@{lbann\+::slice\+\_\+layer}!bp\+\_\+compute@{bp\+\_\+compute}}
\index{bp\+\_\+compute@{bp\+\_\+compute}!lbann\+::slice\+\_\+layer@{lbann\+::slice\+\_\+layer}}
\subsubsection{\texorpdfstring{bp\+\_\+compute()}{bp\_compute()}}
{\footnotesize\ttfamily template$<$data\+\_\+layout T\+\_\+layout = data\+\_\+layout\+::\+D\+A\+T\+A\+\_\+\+P\+A\+R\+A\+L\+L\+EL$>$ \\
void \hyperlink{classlbann_1_1slice__layer}{lbann\+::slice\+\_\+layer}$<$ T\+\_\+layout $>$\+::bp\+\_\+compute (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [override]}, {\ttfamily [protected]}, {\ttfamily [virtual]}}

Perform the computation for the backward propagation step. 

Implements \hyperlink{classlbann_1_1Layer_a7442e01f9ee1294df2de811efcf5171e}{lbann\+::\+Layer}.



Definition at line 199 of file slice.\+hpp.


\begin{DoxyCode}
199                              \{
200     \textcolor{keywordflow}{if}(this->\hyperlink{classlbann_1_1Layer_af7881cb5eff5207c15fa835d65462e8f}{m\_using\_gpus}) \{
201       \hyperlink{classlbann_1_1slice__layer_a798c10e5c19f58e38da9d2d50c49ca3e}{bp\_compute\_gpu}();
202     \} \textcolor{keywordflow}{else} \{
203       \hyperlink{classlbann_1_1slice__layer_af5d6887cac9a0c3afab8f361cdf81034}{bp\_compute\_cpu}();
204     \}
205   \}
\end{DoxyCode}
Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classlbann_1_1slice__layer_a080654076a1b266b2c6d229e9fccf250_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classlbann_1_1slice__layer_af5d6887cac9a0c3afab8f361cdf81034}\label{classlbann_1_1slice__layer_af5d6887cac9a0c3afab8f361cdf81034}} 
\index{lbann\+::slice\+\_\+layer@{lbann\+::slice\+\_\+layer}!bp\+\_\+compute\+\_\+cpu@{bp\+\_\+compute\+\_\+cpu}}
\index{bp\+\_\+compute\+\_\+cpu@{bp\+\_\+compute\+\_\+cpu}!lbann\+::slice\+\_\+layer@{lbann\+::slice\+\_\+layer}}
\subsubsection{\texorpdfstring{bp\+\_\+compute\+\_\+cpu()}{bp\_compute\_cpu()}}
{\footnotesize\ttfamily template$<$data\+\_\+layout T\+\_\+layout = data\+\_\+layout\+::\+D\+A\+T\+A\+\_\+\+P\+A\+R\+A\+L\+L\+EL$>$ \\
void \hyperlink{classlbann_1_1slice__layer}{lbann\+::slice\+\_\+layer}$<$ T\+\_\+layout $>$\+::bp\+\_\+compute\+\_\+cpu (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [protected]}}



Definition at line 266 of file slice.\+hpp.


\begin{DoxyCode}
266                         \{
267 
268     \textcolor{comment}{// Gradient w.r.t. input}
269     \textcolor{keyword}{auto}& gradient\_wrt\_input = \hyperlink{classlbann_1_1Layer_adb561e140e0bb601f3c5a8ee053a71d2}{get\_error\_signals}();
270 
271     \textcolor{comment}{// Get number of contiguous regions in a tensor slice of width 1}
272     \textcolor{keyword}{const} \textcolor{keyword}{auto}& input\_dims = this->\hyperlink{classlbann_1_1Layer_ae204d1a2a79606eaa117273857ff62a3}{m\_prev\_neuron\_dims};
273     \textcolor{keyword}{const} \textcolor{keywordtype}{int} num\_regions = std::accumulate(input\_dims.begin(),
274                                             input\_dims.begin() + \hyperlink{classlbann_1_1slice__layer_a349dcd71f67d77d40247da24e4641ea2}{m\_slice\_axis},
275                                             1,
276                                             std::multiplies<int>());
277     \textcolor{keyword}{const} \textcolor{keywordtype}{int} unit\_region\_size = std::accumulate(input\_dims.begin() + 
      \hyperlink{classlbann_1_1slice__layer_a349dcd71f67d77d40247da24e4641ea2}{m\_slice\_axis} + 1,
278                                                  input\_dims.end(),
279                                                  1,
280                                                  std::multiplies<int>());
281 
282     \textcolor{comment}{// Get stride between contiguous regions in input tensor slices}
283     \textcolor{keyword}{const} \textcolor{keywordtype}{int} input\_slice\_dim = input\_dims[\hyperlink{classlbann_1_1slice__layer_a349dcd71f67d77d40247da24e4641ea2}{m\_slice\_axis}];
284     \textcolor{keyword}{const} \textcolor{keywordtype}{int} input\_region\_stride = input\_slice\_dim * unit\_region\_size;
285     
286     \textcolor{comment}{// Populate gradient w.r.t. input with slices of gradient w.r.t. output}
287     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < \hyperlink{classlbann_1_1Layer_a1409a117c31a7ea4f2c7a4d22a3e86c3}{get\_num\_children}(); ++i) \{
288       \textcolor{keyword}{const} \textcolor{keyword}{auto}& gradient\_wrt\_output = \hyperlink{classlbann_1_1Layer_a7ac4579d3c1671dfaf86e3b618d6938a}{get\_prev\_error\_signals}(i);
289 
290       \textcolor{comment}{// Get stride between contiguous regions in output tensor slices}
291       \textcolor{keyword}{const} \textcolor{keywordtype}{int} output\_slice\_dim = \hyperlink{classlbann_1_1slice__layer_af79dab13a70da2e81209e7ae15166e30}{m\_slice\_points}[i+1] - 
      \hyperlink{classlbann_1_1slice__layer_af79dab13a70da2e81209e7ae15166e30}{m\_slice\_points}[i];
292       \textcolor{keyword}{const} \textcolor{keywordtype}{int} output\_region\_stride = output\_slice\_dim * unit\_region\_size;
293 
294       \textcolor{comment}{// Get position of first contiguous region in input tensor}
295       \textcolor{keyword}{const} \textcolor{keywordtype}{int} input\_region\_start = m\_slice\_points[i] * unit\_region\_size;
296       \textcolor{keyword}{const} \textcolor{keywordtype}{int} input\_region\_end = m\_slice\_points[i+1] * unit\_region\_size;
297 
298       \textcolor{comment}{// Populate slice of gradient w.r.t. input}
299       \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} region = 0; region < num\_regions; ++region) \{
300         El::View(*\hyperlink{classlbann_1_1slice__layer_a3e64f86a9e999d3d72867c6009aa99ba}{m\_input\_region\_v},
301                  gradient\_wrt\_input,
302                  El::IR(input\_region\_start + region * input\_region\_stride,
303                         input\_region\_end + region * input\_region\_stride),
304                  El::ALL);
305         El::LockedView(*\hyperlink{classlbann_1_1slice__layer_a9d72208fc8136641e91cb208c38f8b65}{m\_output\_region\_v},
306                        gradient\_wrt\_output,
307                        El::IR(region * output\_region\_stride,
308                               (region+1) * output\_region\_stride),
309                        El::ALL);
310         El::Axpy(DataType(1), *\hyperlink{classlbann_1_1slice__layer_a9d72208fc8136641e91cb208c38f8b65}{m\_output\_region\_v}, *
      \hyperlink{classlbann_1_1slice__layer_a3e64f86a9e999d3d72867c6009aa99ba}{m\_input\_region\_v});
311       \}
312 
313     \}
314 
315   \}
\end{DoxyCode}
Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classlbann_1_1slice__layer_af5d6887cac9a0c3afab8f361cdf81034_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=308pt]{classlbann_1_1slice__layer_af5d6887cac9a0c3afab8f361cdf81034_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classlbann_1_1slice__layer_a798c10e5c19f58e38da9d2d50c49ca3e}\label{classlbann_1_1slice__layer_a798c10e5c19f58e38da9d2d50c49ca3e}} 
\index{lbann\+::slice\+\_\+layer@{lbann\+::slice\+\_\+layer}!bp\+\_\+compute\+\_\+gpu@{bp\+\_\+compute\+\_\+gpu}}
\index{bp\+\_\+compute\+\_\+gpu@{bp\+\_\+compute\+\_\+gpu}!lbann\+::slice\+\_\+layer@{lbann\+::slice\+\_\+layer}}
\subsubsection{\texorpdfstring{bp\+\_\+compute\+\_\+gpu()}{bp\_compute\_gpu()}}
{\footnotesize\ttfamily template$<$data\+\_\+layout T\+\_\+layout = data\+\_\+layout\+::\+D\+A\+T\+A\+\_\+\+P\+A\+R\+A\+L\+L\+EL$>$ \\
void \hyperlink{classlbann_1_1slice__layer}{lbann\+::slice\+\_\+layer}$<$ T\+\_\+layout $>$\+::bp\+\_\+compute\+\_\+gpu (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [protected]}}



Definition at line 388 of file slice.\+hpp.


\begin{DoxyCode}
388                         \{
389 \textcolor{preprocessor}{  #ifndef LBANN\_HAS\_CUDNN}
390     std::stringstream err;
391     err << \_\_FILE\_\_ << \textcolor{stringliteral}{" "} << \_\_LINE\_\_ << \textcolor{stringliteral}{" :: slice\_layer: cuDNN not detected"};
392     \textcolor{keywordflow}{throw} lbann\_exception(err.str());
393 \textcolor{preprocessor}{  #else}
394 
395     \textcolor{comment}{// Gradient w.r.t. input}
396     \textcolor{keyword}{auto}& gradient\_wrt\_input\_d = m\_error\_signals\_d[0];
397 
398     \textcolor{comment}{// Get number of contiguous regions in a tensor slice of width 1}
399     \textcolor{keyword}{const} \textcolor{keyword}{auto}& input\_dims = this->\hyperlink{classlbann_1_1Layer_ae204d1a2a79606eaa117273857ff62a3}{m\_prev\_neuron\_dims};
400     \textcolor{keyword}{const} \textcolor{keywordtype}{int} num\_regions = std::accumulate(input\_dims.begin(),
401                                             input\_dims.begin() + \hyperlink{classlbann_1_1slice__layer_a349dcd71f67d77d40247da24e4641ea2}{m\_slice\_axis},
402                                             1,
403                                             std::multiplies<int>());
404     \textcolor{keyword}{const} \textcolor{keywordtype}{int} unit\_region\_size = std::accumulate(input\_dims.begin() + 
      \hyperlink{classlbann_1_1slice__layer_a349dcd71f67d77d40247da24e4641ea2}{m\_slice\_axis} + 1,
405                                                  input\_dims.end(),
406                                                  1,
407                                                  std::multiplies<int>());
408 
409     \textcolor{comment}{// Get stride between contiguous regions in input tensor slices}
410     \textcolor{keyword}{const} \textcolor{keywordtype}{int} input\_slice\_dim = input\_dims[\hyperlink{classlbann_1_1slice__layer_a349dcd71f67d77d40247da24e4641ea2}{m\_slice\_axis}];
411     \textcolor{keyword}{const} \textcolor{keywordtype}{int} input\_region\_stride = input\_slice\_dim * unit\_region\_size;
412     
413     \textcolor{comment}{// Populate gradient w.r.t. input with slices of gradient w.r.t. output}
414     cudnn::matrix gradient\_wrt\_input\_region\_d(\hyperlink{classlbann_1_1Layer_a08dbb94239e3b8c96329786c57c72e21}{m\_cudnn});
415     cudnn::matrix gradient\_wrt\_output\_region\_d(\hyperlink{classlbann_1_1Layer_a08dbb94239e3b8c96329786c57c72e21}{m\_cudnn});
416     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < \hyperlink{classlbann_1_1Layer_a1409a117c31a7ea4f2c7a4d22a3e86c3}{get\_num\_children}(); ++i) \{
417       \textcolor{keyword}{const} \textcolor{keyword}{auto}& gradient\_wrt\_output\_d = m\_prev\_error\_signals\_d[i];
418 
419       \textcolor{comment}{// Get stride between contiguous regions in output tensor slices}
420       \textcolor{keyword}{const} \textcolor{keywordtype}{int} output\_slice\_dim = \hyperlink{classlbann_1_1slice__layer_af79dab13a70da2e81209e7ae15166e30}{m\_slice\_points}[i+1] - 
      \hyperlink{classlbann_1_1slice__layer_af79dab13a70da2e81209e7ae15166e30}{m\_slice\_points}[i];
421       \textcolor{keyword}{const} \textcolor{keywordtype}{int} output\_region\_stride = output\_slice\_dim * unit\_region\_size;
422 
423       \textcolor{comment}{// Get position of first contiguous region in input tensor}
424       \textcolor{keyword}{const} \textcolor{keywordtype}{int} input\_region\_start = m\_slice\_points[i] * unit\_region\_size;
425 
426       \textcolor{comment}{// Populate slice of gradient w.r.t. input}
427       \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} region = 0; region < num\_regions; ++region) \{
428         \textcolor{keyword}{auto} gradient\_wrt\_input\_ptrs = gradient\_wrt\_input\_d.get\_data();
429         \textcolor{keyword}{auto} gradient\_wrt\_output\_ptrs = gradient\_wrt\_output\_d.get\_locked\_data();
430         \textcolor{keywordflow}{for} (\textcolor{keyword}{auto}& ptr : gradient\_wrt\_input\_ptrs) \{
431           ptr += input\_region\_start + region * input\_region\_stride;
432         \}
433         \textcolor{keywordflow}{for} (\textcolor{keyword}{auto}& ptr : gradient\_wrt\_output\_ptrs) \{
434           ptr += region * output\_region\_stride;
435         \}
436         gradient\_wrt\_input\_region\_d.attach(gradient\_wrt\_input\_ptrs,
437                                            output\_region\_stride,
438                                            this->m\_mini\_batch\_size\_per\_gpu,
439                                            gradient\_wrt\_input\_d.get\_leading\_dim());
440         gradient\_wrt\_output\_region\_d.locked\_attach(gradient\_wrt\_output\_ptrs,
441                                                    output\_region\_stride,
442                                                    this->m\_mini\_batch\_size\_per\_gpu,
443                                                    gradient\_wrt\_output\_d.get\_leading\_dim());
444         \textcolor{keyword}{const} \textcolor{keywordtype}{int} num\_gpus = \hyperlink{classlbann_1_1Layer_a08dbb94239e3b8c96329786c57c72e21}{m\_cudnn}->get\_num\_gpus();
445         \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} gpu = 0; gpu < num\_gpus; ++gpu) \{
446           CHECK\_CUDA(cudaSetDevice(this->\hyperlink{classlbann_1_1Layer_a08dbb94239e3b8c96329786c57c72e21}{m\_cudnn}->get\_gpu(gpu)));
447           cublas::geam(this->\hyperlink{classlbann_1_1Layer_a08dbb94239e3b8c96329786c57c72e21}{m\_cudnn}->get\_cublas\_handle(gpu),
448                        CUBLAS\_OP\_N, CUBLAS\_OP\_N,
449                        gradient\_wrt\_output\_region\_d.get\_height(),
450                        this->m\_mini\_batch\_size\_per\_gpu,
451                        DataType(1),
452                        gradient\_wrt\_output\_region\_d.get\_locked\_data(gpu),
453                        gradient\_wrt\_output\_region\_d.get\_leading\_dim(),
454                        DataType(1),
455                        gradient\_wrt\_input\_region\_d.get\_locked\_data(gpu),
456                        gradient\_wrt\_input\_region\_d.get\_leading\_dim(),
457                        gradient\_wrt\_input\_region\_d.get\_data(gpu),
458                        gradient\_wrt\_input\_region\_d.get\_leading\_dim());
459         \}
460       \}
461 
462     \}
463 
464 \textcolor{preprocessor}{  #endif // LBANN\_HAS\_CUDNN}
465   \}
\end{DoxyCode}
Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classlbann_1_1slice__layer_a798c10e5c19f58e38da9d2d50c49ca3e_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=308pt]{classlbann_1_1slice__layer_a798c10e5c19f58e38da9d2d50c49ca3e_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classlbann_1_1slice__layer_a8c2b93a3ed24b239cc429ee85ee7ef29}\label{classlbann_1_1slice__layer_a8c2b93a3ed24b239cc429ee85ee7ef29}} 
\index{lbann\+::slice\+\_\+layer@{lbann\+::slice\+\_\+layer}!copy@{copy}}
\index{copy@{copy}!lbann\+::slice\+\_\+layer@{lbann\+::slice\+\_\+layer}}
\subsubsection{\texorpdfstring{copy()}{copy()}}
{\footnotesize\ttfamily template$<$data\+\_\+layout T\+\_\+layout = data\+\_\+layout\+::\+D\+A\+T\+A\+\_\+\+P\+A\+R\+A\+L\+L\+EL$>$ \\
\hyperlink{classlbann_1_1slice__layer}{slice\+\_\+layer}$\ast$ \hyperlink{classlbann_1_1slice__layer}{lbann\+::slice\+\_\+layer}$<$ T\+\_\+layout $>$\+::copy (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [override]}, {\ttfamily [virtual]}}

Copy function. This function dynamically allocates memory for a layer instance and instantiates a copy. The caller is responsible for deallocating the instance. 

Implements \hyperlink{classlbann_1_1Layer_af420f22bbac801c85483ade84588a23f}{lbann\+::\+Layer}.



Definition at line 117 of file slice.\+hpp.


\begin{DoxyCode}
117 \{ \textcolor{keywordflow}{return} \textcolor{keyword}{new} \hyperlink{classlbann_1_1slice__layer_a248cf99da690964ac0209684f8c13c1d}{slice\_layer}(*\textcolor{keyword}{this}); \}
\end{DoxyCode}
Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=303pt]{classlbann_1_1slice__layer_a8c2b93a3ed24b239cc429ee85ee7ef29_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classlbann_1_1slice__layer_a4ade139cc44a7de47761680e1d44cb08}\label{classlbann_1_1slice__layer_a4ade139cc44a7de47761680e1d44cb08}} 
\index{lbann\+::slice\+\_\+layer@{lbann\+::slice\+\_\+layer}!fp\+\_\+compute@{fp\+\_\+compute}}
\index{fp\+\_\+compute@{fp\+\_\+compute}!lbann\+::slice\+\_\+layer@{lbann\+::slice\+\_\+layer}}
\subsubsection{\texorpdfstring{fp\+\_\+compute()}{fp\_compute()}}
{\footnotesize\ttfamily template$<$data\+\_\+layout T\+\_\+layout = data\+\_\+layout\+::\+D\+A\+T\+A\+\_\+\+P\+A\+R\+A\+L\+L\+EL$>$ \\
void \hyperlink{classlbann_1_1slice__layer}{lbann\+::slice\+\_\+layer}$<$ T\+\_\+layout $>$\+::fp\+\_\+compute (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [override]}, {\ttfamily [protected]}, {\ttfamily [virtual]}}

Perform the computation for the forward propagation step. 

Implements \hyperlink{classlbann_1_1Layer_a523319dd1bd87a0612afa1912bb5aad7}{lbann\+::\+Layer}.



Definition at line 191 of file slice.\+hpp.


\begin{DoxyCode}
191                              \{
192     \textcolor{keywordflow}{if}(this->\hyperlink{classlbann_1_1Layer_af7881cb5eff5207c15fa835d65462e8f}{m\_using\_gpus}) \{
193       \hyperlink{classlbann_1_1slice__layer_a875347929b9e4c0a70749da0dbb6469e}{fp\_compute\_gpu}();
194     \} \textcolor{keywordflow}{else} \{
195       \hyperlink{classlbann_1_1slice__layer_ab4c95d24916534cdff58b32916171ff2}{fp\_compute\_cpu}();
196     \}
197   \}
\end{DoxyCode}
Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classlbann_1_1slice__layer_a4ade139cc44a7de47761680e1d44cb08_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classlbann_1_1slice__layer_ab4c95d24916534cdff58b32916171ff2}\label{classlbann_1_1slice__layer_ab4c95d24916534cdff58b32916171ff2}} 
\index{lbann\+::slice\+\_\+layer@{lbann\+::slice\+\_\+layer}!fp\+\_\+compute\+\_\+cpu@{fp\+\_\+compute\+\_\+cpu}}
\index{fp\+\_\+compute\+\_\+cpu@{fp\+\_\+compute\+\_\+cpu}!lbann\+::slice\+\_\+layer@{lbann\+::slice\+\_\+layer}}
\subsubsection{\texorpdfstring{fp\+\_\+compute\+\_\+cpu()}{fp\_compute\_cpu()}}
{\footnotesize\ttfamily template$<$data\+\_\+layout T\+\_\+layout = data\+\_\+layout\+::\+D\+A\+T\+A\+\_\+\+P\+A\+R\+A\+L\+L\+EL$>$ \\
void \hyperlink{classlbann_1_1slice__layer}{lbann\+::slice\+\_\+layer}$<$ T\+\_\+layout $>$\+::fp\+\_\+compute\+\_\+cpu (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [protected]}}



Definition at line 207 of file slice.\+hpp.


\begin{DoxyCode}
207                         \{
208 
209     \textcolor{comment}{// Input tensor}
210     \textcolor{keyword}{const} \textcolor{keyword}{auto}& input = \hyperlink{classlbann_1_1Layer_a45853df73a2e72bfaa774665a0f37ed7}{get\_prev\_activations}();
211     \textcolor{keyword}{const} \textcolor{keywordtype}{int} width = input.Width();
212 
213     \textcolor{comment}{// Get number of contiguous regions in a tensor slice of width 1}
214     \textcolor{keyword}{const} \textcolor{keyword}{auto}& input\_dims = this->\hyperlink{classlbann_1_1Layer_ae204d1a2a79606eaa117273857ff62a3}{m\_prev\_neuron\_dims};
215     \textcolor{keyword}{const} \textcolor{keywordtype}{int} num\_regions = std::accumulate(input\_dims.begin(),
216                                             input\_dims.begin() + \hyperlink{classlbann_1_1slice__layer_a349dcd71f67d77d40247da24e4641ea2}{m\_slice\_axis},
217                                             1,
218                                             std::multiplies<int>());
219     \textcolor{keyword}{const} \textcolor{keywordtype}{int} unit\_region\_size = std::accumulate(input\_dims.begin() + 
      \hyperlink{classlbann_1_1slice__layer_a349dcd71f67d77d40247da24e4641ea2}{m\_slice\_axis} + 1,
220                                                  input\_dims.end(),
221                                                  1,
222                                                  std::multiplies<int>());
223 
224     \textcolor{comment}{// Get stride between contiguous regions in input tensor slices}
225     \textcolor{keyword}{const} \textcolor{keywordtype}{int} input\_slice\_dim = input\_dims[\hyperlink{classlbann_1_1slice__layer_a349dcd71f67d77d40247da24e4641ea2}{m\_slice\_axis}];
226     \textcolor{keyword}{const} \textcolor{keywordtype}{int} input\_region\_stride = input\_slice\_dim * unit\_region\_size;
227     
228     \textcolor{comment}{// Populate output tensors with slices of input tensor}
229     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < \hyperlink{classlbann_1_1Layer_a1409a117c31a7ea4f2c7a4d22a3e86c3}{get\_num\_children}(); ++i) \{
230       \textcolor{keyword}{auto}& output = \hyperlink{classlbann_1_1Layer_a1134b1a4385af199d7272c5aa827fa99}{get\_activations}(i);
231 
232       \textcolor{comment}{// Get stride between contiguous regions in output tensor slices}
233       \textcolor{keyword}{const} \textcolor{keywordtype}{int} output\_slice\_dim = \hyperlink{classlbann_1_1slice__layer_af79dab13a70da2e81209e7ae15166e30}{m\_slice\_points}[i+1] - 
      \hyperlink{classlbann_1_1slice__layer_af79dab13a70da2e81209e7ae15166e30}{m\_slice\_points}[i];
234       \textcolor{keyword}{const} \textcolor{keywordtype}{int} output\_region\_stride = output\_slice\_dim * unit\_region\_size;
235 
236       \textcolor{comment}{// Get position of first contiguous region in input tensor}
237       \textcolor{keyword}{const} \textcolor{keywordtype}{int} input\_region\_start = m\_slice\_points[i] * unit\_region\_size;
238       \textcolor{keyword}{const} \textcolor{keywordtype}{int} input\_region\_end = m\_slice\_points[i+1] * unit\_region\_size;
239 
240       \textcolor{comment}{// Populate current output tensor}
241       output.Resize(num\_regions * output\_region\_stride, width);
242       \textcolor{keywordflow}{if} (num\_regions == 1) \{
243         El::LockedView(output,
244                        input,
245                        El::IR(input\_region\_start, input\_region\_end),
246                        El::ALL);
247       \} \textcolor{keywordflow}{else} \{
248         \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} region = 0; region < num\_regions; ++region) \{
249           El::LockedView(*\hyperlink{classlbann_1_1slice__layer_a3e64f86a9e999d3d72867c6009aa99ba}{m\_input\_region\_v},
250                          input,
251                          El::IR(input\_region\_start + region * input\_region\_stride,
252                                 input\_region\_end + region * input\_region\_stride),
253                          El::ALL);
254           El::View(*\hyperlink{classlbann_1_1slice__layer_a9d72208fc8136641e91cb208c38f8b65}{m\_output\_region\_v},
255                    output,
256                    El::IR(region * output\_region\_stride,
257                           (region+1) * output\_region\_stride),
258                    El::ALL);
259           El::Copy(*\hyperlink{classlbann_1_1slice__layer_a3e64f86a9e999d3d72867c6009aa99ba}{m\_input\_region\_v}, *\hyperlink{classlbann_1_1slice__layer_a9d72208fc8136641e91cb208c38f8b65}{m\_output\_region\_v});
260         \}
261       \}
262     \}
263 
264   \}
\end{DoxyCode}
Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classlbann_1_1slice__layer_ab4c95d24916534cdff58b32916171ff2_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=305pt]{classlbann_1_1slice__layer_ab4c95d24916534cdff58b32916171ff2_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classlbann_1_1slice__layer_a875347929b9e4c0a70749da0dbb6469e}\label{classlbann_1_1slice__layer_a875347929b9e4c0a70749da0dbb6469e}} 
\index{lbann\+::slice\+\_\+layer@{lbann\+::slice\+\_\+layer}!fp\+\_\+compute\+\_\+gpu@{fp\+\_\+compute\+\_\+gpu}}
\index{fp\+\_\+compute\+\_\+gpu@{fp\+\_\+compute\+\_\+gpu}!lbann\+::slice\+\_\+layer@{lbann\+::slice\+\_\+layer}}
\subsubsection{\texorpdfstring{fp\+\_\+compute\+\_\+gpu()}{fp\_compute\_gpu()}}
{\footnotesize\ttfamily template$<$data\+\_\+layout T\+\_\+layout = data\+\_\+layout\+::\+D\+A\+T\+A\+\_\+\+P\+A\+R\+A\+L\+L\+EL$>$ \\
void \hyperlink{classlbann_1_1slice__layer}{lbann\+::slice\+\_\+layer}$<$ T\+\_\+layout $>$\+::fp\+\_\+compute\+\_\+gpu (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [protected]}}



Definition at line 317 of file slice.\+hpp.


\begin{DoxyCode}
317                         \{
318 \textcolor{preprocessor}{  #ifndef LBANN\_HAS\_CUDNN}
319     std::stringstream err;
320     err << \_\_FILE\_\_ << \textcolor{stringliteral}{" "} << \_\_LINE\_\_ << \textcolor{stringliteral}{" :: slice\_layer: cuDNN not detected"};
321     \textcolor{keywordflow}{throw} lbann\_exception(err.str());
322 \textcolor{preprocessor}{  #else}
323 
324     \textcolor{comment}{// Input tensor}
325     \textcolor{keyword}{const} \textcolor{keyword}{auto}& input\_d = m\_prev\_activations\_d[0];
326 
327     \textcolor{comment}{// Get number of contiguous regions in a tensor slice of width 1}
328     \textcolor{keyword}{const} \textcolor{keyword}{auto}& input\_dims = this->\hyperlink{classlbann_1_1Layer_ae204d1a2a79606eaa117273857ff62a3}{m\_prev\_neuron\_dims};
329     \textcolor{keyword}{const} \textcolor{keywordtype}{int} num\_regions = std::accumulate(input\_dims.begin(),
330                                             input\_dims.begin() + \hyperlink{classlbann_1_1slice__layer_a349dcd71f67d77d40247da24e4641ea2}{m\_slice\_axis},
331                                             1,
332                                             std::multiplies<int>());
333     \textcolor{keyword}{const} \textcolor{keywordtype}{int} unit\_region\_size = std::accumulate(input\_dims.begin() + 
      \hyperlink{classlbann_1_1slice__layer_a349dcd71f67d77d40247da24e4641ea2}{m\_slice\_axis} + 1,
334                                                  input\_dims.end(),
335                                             1,
336                                             std::multiplies<int>());
337 
338     \textcolor{comment}{// Get stride between contiguous regions in input tensor slices}
339     \textcolor{keyword}{const} \textcolor{keywordtype}{int} input\_slice\_dim = input\_dims[\hyperlink{classlbann_1_1slice__layer_a349dcd71f67d77d40247da24e4641ea2}{m\_slice\_axis}];
340     \textcolor{keyword}{const} \textcolor{keywordtype}{int} input\_region\_stride = input\_slice\_dim * unit\_region\_size;
341     
342     \textcolor{comment}{// Populate output tensors with slices of input tensor}
343     cudnn::matrix input\_region\_d(\hyperlink{classlbann_1_1Layer_a08dbb94239e3b8c96329786c57c72e21}{m\_cudnn}), output\_region\_d(\hyperlink{classlbann_1_1Layer_a08dbb94239e3b8c96329786c57c72e21}{m\_cudnn});
344     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < \hyperlink{classlbann_1_1Layer_a1409a117c31a7ea4f2c7a4d22a3e86c3}{get\_num\_children}(); ++i) \{
345       \textcolor{keyword}{auto}& output\_d = m\_activations\_d[i];
346 
347       \textcolor{comment}{// Get stride between contiguous regions in output tensor slices}
348       \textcolor{keyword}{const} \textcolor{keywordtype}{int} output\_slice\_dim = \hyperlink{classlbann_1_1slice__layer_af79dab13a70da2e81209e7ae15166e30}{m\_slice\_points}[i+1] - 
      \hyperlink{classlbann_1_1slice__layer_af79dab13a70da2e81209e7ae15166e30}{m\_slice\_points}[i];
349       \textcolor{keyword}{const} \textcolor{keywordtype}{int} output\_region\_stride = output\_slice\_dim * unit\_region\_size;
350 
351       \textcolor{comment}{// Get position of first contiguous region in input tensor}
352       \textcolor{keyword}{const} \textcolor{keywordtype}{int} input\_region\_start = m\_slice\_points[i] * unit\_region\_size;
353 
354       \textcolor{comment}{// Populate current output tensor}
355       \textcolor{keywordflow}{if} (num\_regions == 1) \{
356         \textcolor{keyword}{auto} input\_ptrs = input\_d.get\_locked\_data();
357         \textcolor{keywordflow}{for} (\textcolor{keyword}{auto}& ptr : input\_ptrs) \{ ptr += input\_region\_start; \}
358         output\_d.locked\_attach(input\_ptrs,
359                                output\_d.get\_height(),
360                                input\_d.get\_width\_per\_gpu(),
361                                input\_d.get\_leading\_dim());
362       \} \textcolor{keywordflow}{else} \{
363         \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} region = 0; region < num\_regions; ++region) \{
364           \textcolor{keyword}{auto} input\_ptrs = input\_d.get\_locked\_data();
365           \textcolor{keyword}{auto} output\_ptrs = output\_d.get\_data();
366           \textcolor{keywordflow}{for} (\textcolor{keyword}{auto}& ptr : input\_ptrs) \{
367             ptr += input\_region\_start + region * input\_region\_stride;
368           \}
369           \textcolor{keywordflow}{for} (\textcolor{keyword}{auto}& ptr : output\_ptrs) \{
370             ptr += region * output\_region\_stride;
371           \}
372           input\_region\_d.locked\_attach(input\_ptrs,
373                                        output\_region\_stride,
374                                        this->m\_mini\_batch\_size\_per\_gpu,
375                                        input\_d.get\_leading\_dim());
376           output\_region\_d.attach(output\_ptrs,
377                                  output\_region\_stride,
378                                  this->m\_mini\_batch\_size\_per\_gpu,
379                                  output\_d.get\_leading\_dim());
380           output\_region\_d.copy(input\_region\_d);
381         \}
382       \}
383     \}
384 
385 \textcolor{preprocessor}{  #endif // LBANN\_HAS\_CUDNN}
386   \}
\end{DoxyCode}
Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classlbann_1_1slice__layer_a875347929b9e4c0a70749da0dbb6469e_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=305pt]{classlbann_1_1slice__layer_a875347929b9e4c0a70749da0dbb6469e_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classlbann_1_1slice__layer_a086c918fe72f28248f987d6a3aef355d}\label{classlbann_1_1slice__layer_a086c918fe72f28248f987d6a3aef355d}} 
\index{lbann\+::slice\+\_\+layer@{lbann\+::slice\+\_\+layer}!fp\+\_\+output\+\_\+dims@{fp\+\_\+output\+\_\+dims}}
\index{fp\+\_\+output\+\_\+dims@{fp\+\_\+output\+\_\+dims}!lbann\+::slice\+\_\+layer@{lbann\+::slice\+\_\+layer}}
\subsubsection{\texorpdfstring{fp\+\_\+output\+\_\+dims()}{fp\_output\_dims()}}
{\footnotesize\ttfamily template$<$data\+\_\+layout T\+\_\+layout = data\+\_\+layout\+::\+D\+A\+T\+A\+\_\+\+P\+A\+R\+A\+L\+L\+EL$>$ \\
std\+::vector$<$int$>$ \hyperlink{classlbann_1_1slice__layer}{lbann\+::slice\+\_\+layer}$<$ T\+\_\+layout $>$\+::fp\+\_\+output\+\_\+dims (\begin{DoxyParamCaption}\item[{const \hyperlink{classlbann_1_1Layer}{Layer} $\ast$}]{child }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [override]}, {\ttfamily [protected]}, {\ttfamily [virtual]}}

Get dimensions of forward propagation output to a child layer. Returns the dimensions of the appropriate activations tensor. 

Reimplemented from \hyperlink{classlbann_1_1Layer_a22d31298912405660ebb210c0d7c5373}{lbann\+::\+Layer}.



Definition at line 481 of file slice.\+hpp.


\begin{DoxyCode}
481                                                                         \{
482 
483     \textcolor{comment}{// Return all neurons if input is null}
484     \textcolor{keywordflow}{if}(next\_layer == \textcolor{keyword}{nullptr}) \{
485       \textcolor{keywordflow}{return} \hyperlink{classlbann_1_1Layer_abb34bb8031f57a483e2e327a5f229f48}{m\_neuron\_dims};
486     \}
487 
488     \textcolor{comment}{// Check if input is in the list of child layers}
489     \textcolor{keyword}{const} \textcolor{keywordtype}{int} child\_index = (std::find(this->\hyperlink{classlbann_1_1Layer_ae348c0d2b4d05f74d809d09debb633c0}{m\_child\_layers}.begin(),
490                                        this->\hyperlink{classlbann_1_1Layer_ae348c0d2b4d05f74d809d09debb633c0}{m\_child\_layers}.end(),
491                                        next\_layer)
492                              - this->\hyperlink{classlbann_1_1Layer_ae348c0d2b4d05f74d809d09debb633c0}{m\_child\_layers}.begin());
493     \textcolor{keywordflow}{if}(child\_index >= (\textcolor{keywordtype}{int}) this->\hyperlink{classlbann_1_1Layer_ae348c0d2b4d05f74d809d09debb633c0}{m\_child\_layers}.size()) \{
494       \textcolor{keywordflow}{return} \hyperlink{classlbann_1_1Layer_abb34bb8031f57a483e2e327a5f229f48}{m\_neuron\_dims};
495     \}
496 
497     \textcolor{comment}{// Return slice dimensions}
498     \textcolor{keywordflow}{return} \hyperlink{classlbann_1_1slice__layer_a824178abe2450bd331304ab0d50214ce}{get\_neuron\_dims}(child\_index);
499 
500   \}
\end{DoxyCode}
Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=308pt]{classlbann_1_1slice__layer_a086c918fe72f28248f987d6a3aef355d_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classlbann_1_1slice__layer_a5121b600d26654707289726e84c0eed9}\label{classlbann_1_1slice__layer_a5121b600d26654707289726e84c0eed9}} 
\index{lbann\+::slice\+\_\+layer@{lbann\+::slice\+\_\+layer}!get\+\_\+data\+\_\+layout@{get\+\_\+data\+\_\+layout}}
\index{get\+\_\+data\+\_\+layout@{get\+\_\+data\+\_\+layout}!lbann\+::slice\+\_\+layer@{lbann\+::slice\+\_\+layer}}
\subsubsection{\texorpdfstring{get\+\_\+data\+\_\+layout()}{get\_data\_layout()}}
{\footnotesize\ttfamily template$<$data\+\_\+layout T\+\_\+layout = data\+\_\+layout\+::\+D\+A\+T\+A\+\_\+\+P\+A\+R\+A\+L\+L\+EL$>$ \\
\hyperlink{base_8hpp_a786677cbfb3f5677b4d84f3056eb08db}{data\+\_\+layout} \hyperlink{classlbann_1_1slice__layer}{lbann\+::slice\+\_\+layer}$<$ T\+\_\+layout $>$\+::get\+\_\+data\+\_\+layout (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [override]}, {\ttfamily [virtual]}}

Get data layout of the data tensors. We assume that the data layouts of the previous activations, activations, previous error signals, and error signals are the same. Each concrete layer that is templated on its data layout should override this function to return its template parameter. 

Implements \hyperlink{classlbann_1_1Layer_a5dfb66e81fc085997402a5e2241316bd}{lbann\+::\+Layer}.



Definition at line 119 of file slice.\+hpp.


\begin{DoxyCode}
119 \{ \textcolor{keywordflow}{return} T\_layout; \}
\end{DoxyCode}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=303pt]{classlbann_1_1slice__layer_a5121b600d26654707289726e84c0eed9_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classlbann_1_1slice__layer_aa61c1f449a9f741f523921129dfb88e5}\label{classlbann_1_1slice__layer_aa61c1f449a9f741f523921129dfb88e5}} 
\index{lbann\+::slice\+\_\+layer@{lbann\+::slice\+\_\+layer}!get\+\_\+description@{get\+\_\+description}}
\index{get\+\_\+description@{get\+\_\+description}!lbann\+::slice\+\_\+layer@{lbann\+::slice\+\_\+layer}}
\subsubsection{\texorpdfstring{get\+\_\+description()}{get\_description()}}
{\footnotesize\ttfamily template$<$data\+\_\+layout T\+\_\+layout = data\+\_\+layout\+::\+D\+A\+T\+A\+\_\+\+P\+A\+R\+A\+L\+L\+EL$>$ \\
std\+::string \hyperlink{classlbann_1_1slice__layer}{lbann\+::slice\+\_\+layer}$<$ T\+\_\+layout $>$\+::get\+\_\+description (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [override]}, {\ttfamily [virtual]}}

Returns description of ctor params 

Reimplemented from \hyperlink{classlbann_1_1Layer_acc0803d3428914ca1eb5988c4309174a}{lbann\+::\+Layer}.



Definition at line 122 of file slice.\+hpp.


\begin{DoxyCode}
122                                              \{
123     std::stringstream s;
124     s << \textcolor{stringliteral}{" slice; slice\_axis: "}
125       << \hyperlink{classlbann_1_1slice__layer_a349dcd71f67d77d40247da24e4641ea2}{m\_slice\_axis} << \textcolor{stringliteral}{" children: "};
126     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{size\_t} h=0; h<this->\hyperlink{classlbann_1_1Layer_ae348c0d2b4d05f74d809d09debb633c0}{m\_child\_layers}.size(); h++) \{
127       s << this->\hyperlink{classlbann_1_1Layer_ae348c0d2b4d05f74d809d09debb633c0}{m\_child\_layers}[h]->get\_name() << \textcolor{stringliteral}{" "} << this->
      \hyperlink{classlbann_1_1Layer_ae348c0d2b4d05f74d809d09debb633c0}{m\_child\_layers}[h]->get\_type() << \textcolor{stringliteral}{" "};
128     \}
129     s << \textcolor{stringliteral}{" slice\_points: "};
130     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{size\_t} h=0; h<this->\hyperlink{classlbann_1_1slice__layer_af79dab13a70da2e81209e7ae15166e30}{m\_slice\_points}.size(); h++) \{
131       s << this->\hyperlink{classlbann_1_1slice__layer_af79dab13a70da2e81209e7ae15166e30}{m\_slice\_points}[h] << \textcolor{stringliteral}{" "};
132     \}
133     s << \textcolor{stringliteral}{" dataLayout: "} << this->\hyperlink{classlbann_1_1Layer_ae3f4a5602df821f4221614b1e3782dc1}{get\_data\_layout\_string}(
      \hyperlink{classlbann_1_1slice__layer_a5121b600d26654707289726e84c0eed9}{get\_data\_layout}());
134     \textcolor{keywordflow}{return} s.str();
135   \}
\end{DoxyCode}
Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=325pt]{classlbann_1_1slice__layer_aa61c1f449a9f741f523921129dfb88e5_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classlbann_1_1slice__layer_a824178abe2450bd331304ab0d50214ce}\label{classlbann_1_1slice__layer_a824178abe2450bd331304ab0d50214ce}} 
\index{lbann\+::slice\+\_\+layer@{lbann\+::slice\+\_\+layer}!get\+\_\+neuron\+\_\+dims@{get\+\_\+neuron\+\_\+dims}}
\index{get\+\_\+neuron\+\_\+dims@{get\+\_\+neuron\+\_\+dims}!lbann\+::slice\+\_\+layer@{lbann\+::slice\+\_\+layer}}
\subsubsection{\texorpdfstring{get\+\_\+neuron\+\_\+dims()}{get\_neuron\_dims()}}
{\footnotesize\ttfamily template$<$data\+\_\+layout T\+\_\+layout = data\+\_\+layout\+::\+D\+A\+T\+A\+\_\+\+P\+A\+R\+A\+L\+L\+EL$>$ \\
std\+::vector$<$int$>$ \hyperlink{classlbann_1_1slice__layer}{lbann\+::slice\+\_\+layer}$<$ T\+\_\+layout $>$\+::get\+\_\+neuron\+\_\+dims (\begin{DoxyParamCaption}\item[{int}]{child\+\_\+index = {\ttfamily 0} }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [override]}, {\ttfamily [protected]}, {\ttfamily [virtual]}}

Get the dimensions of an activations tensor. 

Reimplemented from \hyperlink{classlbann_1_1Layer_a54f53393fadbfdc73b4e72489c868433}{lbann\+::\+Layer}.



Definition at line 467 of file slice.\+hpp.


\begin{DoxyCode}
467                                                                      \{
468     std::vector<int> neuron\_dims = \hyperlink{classlbann_1_1Layer_abb34bb8031f57a483e2e327a5f229f48}{m\_neuron\_dims};
469     neuron\_dims[\hyperlink{classlbann_1_1slice__layer_a349dcd71f67d77d40247da24e4641ea2}{m\_slice\_axis}] = \hyperlink{classlbann_1_1slice__layer_af79dab13a70da2e81209e7ae15166e30}{m\_slice\_points}[child\_index+1] - 
      \hyperlink{classlbann_1_1slice__layer_af79dab13a70da2e81209e7ae15166e30}{m\_slice\_points}[child\_index];
470     \textcolor{keywordflow}{return} neuron\_dims;
471   \}
\end{DoxyCode}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=317pt]{classlbann_1_1slice__layer_a824178abe2450bd331304ab0d50214ce_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classlbann_1_1slice__layer_ab36016849a59dfa23d37fd0cd2ec943c}\label{classlbann_1_1slice__layer_ab36016849a59dfa23d37fd0cd2ec943c}} 
\index{lbann\+::slice\+\_\+layer@{lbann\+::slice\+\_\+layer}!get\+\_\+num\+\_\+neurons@{get\+\_\+num\+\_\+neurons}}
\index{get\+\_\+num\+\_\+neurons@{get\+\_\+num\+\_\+neurons}!lbann\+::slice\+\_\+layer@{lbann\+::slice\+\_\+layer}}
\subsubsection{\texorpdfstring{get\+\_\+num\+\_\+neurons()}{get\_num\_neurons()}}
{\footnotesize\ttfamily template$<$data\+\_\+layout T\+\_\+layout = data\+\_\+layout\+::\+D\+A\+T\+A\+\_\+\+P\+A\+R\+A\+L\+L\+EL$>$ \\
int \hyperlink{classlbann_1_1slice__layer}{lbann\+::slice\+\_\+layer}$<$ T\+\_\+layout $>$\+::get\+\_\+num\+\_\+neurons (\begin{DoxyParamCaption}\item[{int}]{child\+\_\+index = {\ttfamily 0} }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [override]}, {\ttfamily [protected]}, {\ttfamily [virtual]}}

Get the size of an activations tensor. 

Reimplemented from \hyperlink{classlbann_1_1Layer_aa4de686cc6c2dd38166f42faf874f227}{lbann\+::\+Layer}.



Definition at line 473 of file slice.\+hpp.


\begin{DoxyCode}
473                                                           \{
474     \textcolor{keyword}{auto}&& neuron\_dims = \hyperlink{classlbann_1_1slice__layer_a824178abe2450bd331304ab0d50214ce}{get\_neuron\_dims}(child\_index);
475     \textcolor{keywordflow}{return} std::accumulate(neuron\_dims.begin(),
476                            neuron\_dims.end(),
477                            1,
478                            std::multiplies<int>());
479   \}
\end{DoxyCode}
Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=317pt]{classlbann_1_1slice__layer_ab36016849a59dfa23d37fd0cd2ec943c_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classlbann_1_1slice__layer_a5c02b2a15355be051f93e72f3b2803ce}\label{classlbann_1_1slice__layer_a5c02b2a15355be051f93e72f3b2803ce}} 
\index{lbann\+::slice\+\_\+layer@{lbann\+::slice\+\_\+layer}!get\+\_\+slice\+\_\+points@{get\+\_\+slice\+\_\+points}}
\index{get\+\_\+slice\+\_\+points@{get\+\_\+slice\+\_\+points}!lbann\+::slice\+\_\+layer@{lbann\+::slice\+\_\+layer}}
\subsubsection{\texorpdfstring{get\+\_\+slice\+\_\+points()}{get\_slice\_points()}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily template$<$data\+\_\+layout T\+\_\+layout = data\+\_\+layout\+::\+D\+A\+T\+A\+\_\+\+P\+A\+R\+A\+L\+L\+EL$>$ \\
std\+::vector$<$int$>$\& \hyperlink{classlbann_1_1slice__layer}{lbann\+::slice\+\_\+layer}$<$ T\+\_\+layout $>$\+::get\+\_\+slice\+\_\+points (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}

Get slice points. 

Definition at line 185 of file slice.\+hpp.


\begin{DoxyCode}
185 \{ \textcolor{keywordflow}{return} \hyperlink{classlbann_1_1slice__layer_af79dab13a70da2e81209e7ae15166e30}{m\_slice\_points}; \}
\end{DoxyCode}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classlbann_1_1slice__layer_a5c02b2a15355be051f93e72f3b2803ce_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classlbann_1_1slice__layer_a88936fbabd04b06be6cf732fc5b73317}\label{classlbann_1_1slice__layer_a88936fbabd04b06be6cf732fc5b73317}} 
\index{lbann\+::slice\+\_\+layer@{lbann\+::slice\+\_\+layer}!get\+\_\+slice\+\_\+points@{get\+\_\+slice\+\_\+points}}
\index{get\+\_\+slice\+\_\+points@{get\+\_\+slice\+\_\+points}!lbann\+::slice\+\_\+layer@{lbann\+::slice\+\_\+layer}}
\subsubsection{\texorpdfstring{get\+\_\+slice\+\_\+points()}{get\_slice\_points()}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily template$<$data\+\_\+layout T\+\_\+layout = data\+\_\+layout\+::\+D\+A\+T\+A\+\_\+\+P\+A\+R\+A\+L\+L\+EL$>$ \\
const std\+::vector$<$int$>$\& \hyperlink{classlbann_1_1slice__layer}{lbann\+::slice\+\_\+layer}$<$ T\+\_\+layout $>$\+::get\+\_\+slice\+\_\+points (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}

Get slice points (const). 

Definition at line 187 of file slice.\+hpp.


\begin{DoxyCode}
187 \{ \textcolor{keywordflow}{return} \hyperlink{classlbann_1_1slice__layer_af79dab13a70da2e81209e7ae15166e30}{m\_slice\_points}; \}
\end{DoxyCode}
\mbox{\Hypertarget{classlbann_1_1slice__layer_aa7c27032d75d8e0d36a76b0763c4f215}\label{classlbann_1_1slice__layer_aa7c27032d75d8e0d36a76b0763c4f215}} 
\index{lbann\+::slice\+\_\+layer@{lbann\+::slice\+\_\+layer}!get\+\_\+type@{get\+\_\+type}}
\index{get\+\_\+type@{get\+\_\+type}!lbann\+::slice\+\_\+layer@{lbann\+::slice\+\_\+layer}}
\subsubsection{\texorpdfstring{get\+\_\+type()}{get\_type()}}
{\footnotesize\ttfamily template$<$data\+\_\+layout T\+\_\+layout = data\+\_\+layout\+::\+D\+A\+T\+A\+\_\+\+P\+A\+R\+A\+L\+L\+EL$>$ \\
std\+::string \hyperlink{classlbann_1_1slice__layer}{lbann\+::slice\+\_\+layer}$<$ T\+\_\+layout $>$\+::get\+\_\+type (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [override]}, {\ttfamily [virtual]}}

Get the layer type\textquotesingle{}s name. A layer type name should be brief, human-\/readable description of the layer\textquotesingle{}s mathematical operation. 

Implements \hyperlink{classlbann_1_1Layer_a0fa0ea9160b490c151c0a17fde4f7239}{lbann\+::\+Layer}.



Definition at line 118 of file slice.\+hpp.


\begin{DoxyCode}
118 \{ \textcolor{keywordflow}{return} \textcolor{stringliteral}{"slice"}; \}
\end{DoxyCode}
\mbox{\Hypertarget{classlbann_1_1slice__layer_a24fb9ce808d587210faa4e3b34dc1aff}\label{classlbann_1_1slice__layer_a24fb9ce808d587210faa4e3b34dc1aff}} 
\index{lbann\+::slice\+\_\+layer@{lbann\+::slice\+\_\+layer}!operator=@{operator=}}
\index{operator=@{operator=}!lbann\+::slice\+\_\+layer@{lbann\+::slice\+\_\+layer}}
\subsubsection{\texorpdfstring{operator=()}{operator=()}}
{\footnotesize\ttfamily template$<$data\+\_\+layout T\+\_\+layout = data\+\_\+layout\+::\+D\+A\+T\+A\+\_\+\+P\+A\+R\+A\+L\+L\+EL$>$ \\
\hyperlink{classlbann_1_1slice__layer}{slice\+\_\+layer}\& \hyperlink{classlbann_1_1slice__layer}{lbann\+::slice\+\_\+layer}$<$ T\+\_\+layout $>$\+::operator= (\begin{DoxyParamCaption}\item[{const \hyperlink{classlbann_1_1slice__layer}{slice\+\_\+layer}$<$ T\+\_\+layout $>$ \&}]{other }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Definition at line 93 of file slice.\+hpp.


\begin{DoxyCode}
93                                                    \{
94     \hyperlink{classlbann_1_1Layer_a00d8acde68fda2f38c4a39ef8c89234a}{transform\_layer::operator=}(other);
95     \hyperlink{classlbann_1_1slice__layer_a349dcd71f67d77d40247da24e4641ea2}{m\_slice\_axis} = other.m\_slice\_axis;
96     \hyperlink{classlbann_1_1slice__layer_af79dab13a70da2e81209e7ae15166e30}{m\_slice\_points} = other.m\_slice\_points;
97 
98     \textcolor{comment}{// Deep copy matrices}
99     \textcolor{keywordflow}{if} (\hyperlink{classlbann_1_1slice__layer_a3e64f86a9e999d3d72867c6009aa99ba}{m\_input\_region\_v} != \textcolor{keyword}{nullptr})  \{ \textcolor{keyword}{delete} \hyperlink{classlbann_1_1slice__layer_a3e64f86a9e999d3d72867c6009aa99ba}{m\_input\_region\_v}; \}
100     \textcolor{keywordflow}{if} (\hyperlink{classlbann_1_1slice__layer_a9d72208fc8136641e91cb208c38f8b65}{m\_output\_region\_v} != \textcolor{keyword}{nullptr}) \{ \textcolor{keyword}{delete} 
      \hyperlink{classlbann_1_1slice__layer_a9d72208fc8136641e91cb208c38f8b65}{m\_output\_region\_v}; \}
101     \hyperlink{classlbann_1_1slice__layer_a3e64f86a9e999d3d72867c6009aa99ba}{m\_input\_region\_v} = other.m\_input\_region\_v;
102     \hyperlink{classlbann_1_1slice__layer_a9d72208fc8136641e91cb208c38f8b65}{m\_output\_region\_v} = other.m\_output\_region\_v;
103     \textcolor{keywordflow}{if} (\hyperlink{classlbann_1_1slice__layer_a3e64f86a9e999d3d72867c6009aa99ba}{m\_input\_region\_v} != \textcolor{keyword}{nullptr}) \{
104       \hyperlink{classlbann_1_1slice__layer_a3e64f86a9e999d3d72867c6009aa99ba}{m\_input\_region\_v} = \hyperlink{classlbann_1_1slice__layer_a3e64f86a9e999d3d72867c6009aa99ba}{m\_input\_region\_v}->Copy();
105     \}
106     \textcolor{keywordflow}{if} (\hyperlink{classlbann_1_1slice__layer_a9d72208fc8136641e91cb208c38f8b65}{m\_output\_region\_v} != \textcolor{keyword}{nullptr}) \{
107       \hyperlink{classlbann_1_1slice__layer_a9d72208fc8136641e91cb208c38f8b65}{m\_output\_region\_v} = \hyperlink{classlbann_1_1slice__layer_a9d72208fc8136641e91cb208c38f8b65}{m\_output\_region\_v}->Copy();
108     \}
109 
110   \}
\end{DoxyCode}
Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classlbann_1_1slice__layer_a24fb9ce808d587210faa4e3b34dc1aff_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classlbann_1_1slice__layer_ac43785fc01d6cf6e49d3677adfaac297}\label{classlbann_1_1slice__layer_ac43785fc01d6cf6e49d3677adfaac297}} 
\index{lbann\+::slice\+\_\+layer@{lbann\+::slice\+\_\+layer}!setup\+\_\+dims@{setup\+\_\+dims}}
\index{setup\+\_\+dims@{setup\+\_\+dims}!lbann\+::slice\+\_\+layer@{lbann\+::slice\+\_\+layer}}
\subsubsection{\texorpdfstring{setup\+\_\+dims()}{setup\_dims()}}
{\footnotesize\ttfamily template$<$data\+\_\+layout T\+\_\+layout = data\+\_\+layout\+::\+D\+A\+T\+A\+\_\+\+P\+A\+R\+A\+L\+L\+EL$>$ \\
void \hyperlink{classlbann_1_1slice__layer}{lbann\+::slice\+\_\+layer}$<$ T\+\_\+layout $>$\+::setup\+\_\+dims (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [override]}, {\ttfamily [virtual]}}

Setup tensor dimensions Called by the setup function. The base method sets the dimensions of the activation tensors equal to the dimensions of the first previous activation tensor. 

Reimplemented from \hyperlink{classlbann_1_1Layer_a90fce1b06c1f2abb480e18cfe08a9746}{lbann\+::\+Layer}.



Definition at line 156 of file slice.\+hpp.


\begin{DoxyCode}
156                              \{
157     std::stringstream err;
158 
159     \textcolor{comment}{// Initialize previous neuron tensor dimensions}
160     \hyperlink{classlbann_1_1Layer_a90fce1b06c1f2abb480e18cfe08a9746}{transform\_layer::setup\_dims}();
161 
162     \textcolor{comment}{// Set first and last slice points if needed}
163     \textcolor{keywordflow}{if}(\hyperlink{classlbann_1_1slice__layer_af79dab13a70da2e81209e7ae15166e30}{m\_slice\_points}.size() == \hyperlink{classlbann_1_1Layer_ae348c0d2b4d05f74d809d09debb633c0}{m\_child\_layers}.size() - 1) \{
164       \hyperlink{classlbann_1_1slice__layer_af79dab13a70da2e81209e7ae15166e30}{m\_slice\_points}.insert(\hyperlink{classlbann_1_1slice__layer_af79dab13a70da2e81209e7ae15166e30}{m\_slice\_points}.begin(), 0);
165       \hyperlink{classlbann_1_1slice__layer_af79dab13a70da2e81209e7ae15166e30}{m\_slice\_points}.push\_back(this->\hyperlink{classlbann_1_1Layer_abb34bb8031f57a483e2e327a5f229f48}{m\_neuron\_dims}[
      \hyperlink{classlbann_1_1slice__layer_a349dcd71f67d77d40247da24e4641ea2}{m\_slice\_axis}]);
166     \}
167 
168     \textcolor{comment}{// Check that slice points are valid}
169     \textcolor{keywordflow}{if}(\hyperlink{classlbann_1_1slice__layer_af79dab13a70da2e81209e7ae15166e30}{m\_slice\_points}.size() != \hyperlink{classlbann_1_1Layer_ae348c0d2b4d05f74d809d09debb633c0}{m\_child\_layers}.size() + 1
170        || !std::is\_sorted(\hyperlink{classlbann_1_1slice__layer_af79dab13a70da2e81209e7ae15166e30}{m\_slice\_points}.begin(), \hyperlink{classlbann_1_1slice__layer_af79dab13a70da2e81209e7ae15166e30}{m\_slice\_points}.end())) \{
171       err << \_\_FILE\_\_ << \textcolor{stringliteral}{" "} << \_\_LINE\_\_ << \textcolor{stringliteral}{" :: slice\_layer: "};
172       \textcolor{keywordflow}{if} (!std::is\_sorted(\hyperlink{classlbann_1_1slice__layer_af79dab13a70da2e81209e7ae15166e30}{m\_slice\_points}.begin(), \hyperlink{classlbann_1_1slice__layer_af79dab13a70da2e81209e7ae15166e30}{m\_slice\_points}.end())) \{
173         err << \textcolor{stringliteral}{"slice points not sorted"};
174       \} \textcolor{keywordflow}{else} \{
175         err << \textcolor{stringliteral}{"number of slice points ("} << \hyperlink{classlbann_1_1slice__layer_af79dab13a70da2e81209e7ae15166e30}{m\_slice\_points}.size()
176             << \textcolor{stringliteral}{") != number of children ("} << \hyperlink{classlbann_1_1Layer_ae348c0d2b4d05f74d809d09debb633c0}{m\_child\_layers}.size() << \textcolor{stringliteral}{") + 1"}
177             << \textcolor{stringliteral}{" \{"} << \hyperlink{classlbann_1_1Layer_af4a093d91552cf079217eb346bbb847f}{get\_layer\_names}(\hyperlink{classlbann_1_1Layer_ae348c0d2b4d05f74d809d09debb633c0}{m\_child\_layers}) << \textcolor{stringliteral}{"\}"};
178       \}
179       \textcolor{keywordflow}{throw} lbann\_exception(err.str());
180     \}
181 
182   \}
\end{DoxyCode}
Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classlbann_1_1slice__layer_ac43785fc01d6cf6e49d3677adfaac297_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classlbann_1_1slice__layer_af3b6f79a53c9a80908b37c2587ff2cae}\label{classlbann_1_1slice__layer_af3b6f79a53c9a80908b37c2587ff2cae}} 
\index{lbann\+::slice\+\_\+layer@{lbann\+::slice\+\_\+layer}!setup\+\_\+matrices@{setup\+\_\+matrices}}
\index{setup\+\_\+matrices@{setup\+\_\+matrices}!lbann\+::slice\+\_\+layer@{lbann\+::slice\+\_\+layer}}
\subsubsection{\texorpdfstring{setup\+\_\+matrices()}{setup\_matrices()}}
{\footnotesize\ttfamily template$<$data\+\_\+layout T\+\_\+layout = data\+\_\+layout\+::\+D\+A\+T\+A\+\_\+\+P\+A\+R\+A\+L\+L\+EL$>$ \\
void \hyperlink{classlbann_1_1slice__layer}{lbann\+::slice\+\_\+layer}$<$ T\+\_\+layout $>$\+::setup\+\_\+matrices (\begin{DoxyParamCaption}\item[{const \hyperlink{base_8hpp_a9951bb1719d534e0401b1f06cad19eab}{El\+::\+Grid} \&}]{grid }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [override]}, {\ttfamily [virtual]}}

Instantiate distributed matrices. If the layer has already been setup, this function should destroy all matrices and reinstantiate them. However, it is not guaranteed that derived classes will obey this behavior. 

Reimplemented from \hyperlink{classlbann_1_1Layer_a57bbe21131dc00ab5cf9ea5e3656808e}{lbann\+::\+Layer}.



Definition at line 147 of file slice.\+hpp.


\begin{DoxyCode}
147                                                    \{
148     \hyperlink{classlbann_1_1Layer_a57bbe21131dc00ab5cf9ea5e3656808e}{transform\_layer::setup\_matrices}(grid);
149     \textcolor{keywordflow}{if} (\hyperlink{classlbann_1_1slice__layer_a3e64f86a9e999d3d72867c6009aa99ba}{m\_input\_region\_v} != \textcolor{keyword}{nullptr})  \{ \textcolor{keyword}{delete} \hyperlink{classlbann_1_1slice__layer_a3e64f86a9e999d3d72867c6009aa99ba}{m\_input\_region\_v}; \}
150     \textcolor{keywordflow}{if} (\hyperlink{classlbann_1_1slice__layer_a9d72208fc8136641e91cb208c38f8b65}{m\_output\_region\_v} != \textcolor{keyword}{nullptr}) \{ \textcolor{keyword}{delete} 
      \hyperlink{classlbann_1_1slice__layer_a9d72208fc8136641e91cb208c38f8b65}{m\_output\_region\_v}; \}
151     \textcolor{keyword}{const} \textcolor{keyword}{auto}& input = \hyperlink{classlbann_1_1Layer_a45853df73a2e72bfaa774665a0f37ed7}{get\_prev\_activations}();
152     \hyperlink{classlbann_1_1slice__layer_a3e64f86a9e999d3d72867c6009aa99ba}{m\_input\_region\_v} = input.Construct(input.Grid(), input.Root());
153     \hyperlink{classlbann_1_1slice__layer_a9d72208fc8136641e91cb208c38f8b65}{m\_output\_region\_v} = input.Construct(input.Grid(), input.Root());
154   \}
\end{DoxyCode}
Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classlbann_1_1slice__layer_af3b6f79a53c9a80908b37c2587ff2cae_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classlbann_1_1slice__layer_a701854f5906a25c58d4f9d851b20de29}\label{classlbann_1_1slice__layer_a701854f5906a25c58d4f9d851b20de29}} 
\index{lbann\+::slice\+\_\+layer@{lbann\+::slice\+\_\+layer}!setup\+\_\+pointers@{setup\+\_\+pointers}}
\index{setup\+\_\+pointers@{setup\+\_\+pointers}!lbann\+::slice\+\_\+layer@{lbann\+::slice\+\_\+layer}}
\subsubsection{\texorpdfstring{setup\+\_\+pointers()}{setup\_pointers()}}
{\footnotesize\ttfamily template$<$data\+\_\+layout T\+\_\+layout = data\+\_\+layout\+::\+D\+A\+T\+A\+\_\+\+P\+A\+R\+A\+L\+L\+EL$>$ \\
void \hyperlink{classlbann_1_1slice__layer}{lbann\+::slice\+\_\+layer}$<$ T\+\_\+layout $>$\+::setup\+\_\+pointers (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [override]}, {\ttfamily [virtual]}}

Setup pointers to parent and child layers. Called by the setup function. The base method checks that the number of parents and children are valid. Pointers to the parent/child layers are assumed to be already initialized. 

Reimplemented from \hyperlink{classlbann_1_1Layer_a71b7a62afd9b73c23b2c0267b8ba0981}{lbann\+::\+Layer}.



Definition at line 137 of file slice.\+hpp.


\begin{DoxyCode}
137                                  \{
138     \hyperlink{classlbann_1_1Layer_a71b7a62afd9b73c23b2c0267b8ba0981}{transform\_layer::setup\_pointers}();
139     std::stringstream err;
140     \textcolor{keywordflow}{if} (\hyperlink{classlbann_1_1Layer_a1409a117c31a7ea4f2c7a4d22a3e86c3}{get\_num\_children}() <= 0) \{
141       err << \_\_FILE\_\_ << \textcolor{stringliteral}{" "} << \_\_LINE\_\_ << \textcolor{stringliteral}{" :: slice\_layer: "}
142           << \textcolor{stringliteral}{"slice layer has no children"};
143       \textcolor{keywordflow}{throw} lbann\_exception(err.str());
144     \}
145   \}
\end{DoxyCode}
Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classlbann_1_1slice__layer_a701854f5906a25c58d4f9d851b20de29_cgraph}
\end{center}
\end{figure}


\subsection{Member Data Documentation}
\mbox{\Hypertarget{classlbann_1_1slice__layer_a3e64f86a9e999d3d72867c6009aa99ba}\label{classlbann_1_1slice__layer_a3e64f86a9e999d3d72867c6009aa99ba}} 
\index{lbann\+::slice\+\_\+layer@{lbann\+::slice\+\_\+layer}!m\+\_\+input\+\_\+region\+\_\+v@{m\+\_\+input\+\_\+region\+\_\+v}}
\index{m\+\_\+input\+\_\+region\+\_\+v@{m\+\_\+input\+\_\+region\+\_\+v}!lbann\+::slice\+\_\+layer@{lbann\+::slice\+\_\+layer}}
\subsubsection{\texorpdfstring{m\+\_\+input\+\_\+region\+\_\+v}{m\_input\_region\_v}}
{\footnotesize\ttfamily template$<$data\+\_\+layout T\+\_\+layout = data\+\_\+layout\+::\+D\+A\+T\+A\+\_\+\+P\+A\+R\+A\+L\+L\+EL$>$ \\
\hyperlink{base_8hpp_a9a697a504ae84010e7439ffec862b470}{Abs\+Dist\+Mat}$\ast$ \hyperlink{classlbann_1_1slice__layer}{lbann\+::slice\+\_\+layer}$<$ T\+\_\+layout $>$\+::m\+\_\+input\+\_\+region\+\_\+v\hspace{0.3cm}{\ttfamily [private]}}

View into region of input tensor. 

Definition at line 49 of file slice.\+hpp.

\mbox{\Hypertarget{classlbann_1_1slice__layer_a9d72208fc8136641e91cb208c38f8b65}\label{classlbann_1_1slice__layer_a9d72208fc8136641e91cb208c38f8b65}} 
\index{lbann\+::slice\+\_\+layer@{lbann\+::slice\+\_\+layer}!m\+\_\+output\+\_\+region\+\_\+v@{m\+\_\+output\+\_\+region\+\_\+v}}
\index{m\+\_\+output\+\_\+region\+\_\+v@{m\+\_\+output\+\_\+region\+\_\+v}!lbann\+::slice\+\_\+layer@{lbann\+::slice\+\_\+layer}}
\subsubsection{\texorpdfstring{m\+\_\+output\+\_\+region\+\_\+v}{m\_output\_region\_v}}
{\footnotesize\ttfamily template$<$data\+\_\+layout T\+\_\+layout = data\+\_\+layout\+::\+D\+A\+T\+A\+\_\+\+P\+A\+R\+A\+L\+L\+EL$>$ \\
\hyperlink{base_8hpp_a9a697a504ae84010e7439ffec862b470}{Abs\+Dist\+Mat}$\ast$ \hyperlink{classlbann_1_1slice__layer}{lbann\+::slice\+\_\+layer}$<$ T\+\_\+layout $>$\+::m\+\_\+output\+\_\+region\+\_\+v\hspace{0.3cm}{\ttfamily [private]}}

View into region of output tensor. 

Definition at line 51 of file slice.\+hpp.

\mbox{\Hypertarget{classlbann_1_1slice__layer_a349dcd71f67d77d40247da24e4641ea2}\label{classlbann_1_1slice__layer_a349dcd71f67d77d40247da24e4641ea2}} 
\index{lbann\+::slice\+\_\+layer@{lbann\+::slice\+\_\+layer}!m\+\_\+slice\+\_\+axis@{m\+\_\+slice\+\_\+axis}}
\index{m\+\_\+slice\+\_\+axis@{m\+\_\+slice\+\_\+axis}!lbann\+::slice\+\_\+layer@{lbann\+::slice\+\_\+layer}}
\subsubsection{\texorpdfstring{m\+\_\+slice\+\_\+axis}{m\_slice\_axis}}
{\footnotesize\ttfamily template$<$data\+\_\+layout T\+\_\+layout = data\+\_\+layout\+::\+D\+A\+T\+A\+\_\+\+P\+A\+R\+A\+L\+L\+EL$>$ \\
int \hyperlink{classlbann_1_1slice__layer}{lbann\+::slice\+\_\+layer}$<$ T\+\_\+layout $>$\+::m\+\_\+slice\+\_\+axis\hspace{0.3cm}{\ttfamily [private]}}

Tensor dimension to slice. 

Definition at line 44 of file slice.\+hpp.

\mbox{\Hypertarget{classlbann_1_1slice__layer_af79dab13a70da2e81209e7ae15166e30}\label{classlbann_1_1slice__layer_af79dab13a70da2e81209e7ae15166e30}} 
\index{lbann\+::slice\+\_\+layer@{lbann\+::slice\+\_\+layer}!m\+\_\+slice\+\_\+points@{m\+\_\+slice\+\_\+points}}
\index{m\+\_\+slice\+\_\+points@{m\+\_\+slice\+\_\+points}!lbann\+::slice\+\_\+layer@{lbann\+::slice\+\_\+layer}}
\subsubsection{\texorpdfstring{m\+\_\+slice\+\_\+points}{m\_slice\_points}}
{\footnotesize\ttfamily template$<$data\+\_\+layout T\+\_\+layout = data\+\_\+layout\+::\+D\+A\+T\+A\+\_\+\+P\+A\+R\+A\+L\+L\+EL$>$ \\
std\+::vector$<$int$>$ \hyperlink{classlbann_1_1slice__layer}{lbann\+::slice\+\_\+layer}$<$ T\+\_\+layout $>$\+::m\+\_\+slice\+\_\+points\hspace{0.3cm}{\ttfamily [private]}}

Slice points for each child layer. 

Definition at line 46 of file slice.\+hpp.



The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
/\+Users/mckinney27/doxy-\/testbed/lbann/include/lbann/layers/transform/\hyperlink{slice_8hpp}{slice.\+hpp}\end{DoxyCompactItemize}
