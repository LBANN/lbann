\hypertarget{namespaceanonymous__namespace_02l2_8cpp_03}{}\section{anonymous\+\_\+namespace\{l2.\+cpp\} Namespace Reference}
\label{namespaceanonymous__namespace_02l2_8cpp_03}\index{anonymous\+\_\+namespace\lcurly{}l2.\+cpp\rcurly{}@{anonymous\+\_\+namespace\lcurly{}l2.\+cpp\rcurly{}}}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{base_8hpp_a3266f5ac18504bbadea983c109566867}{Eval\+Type} \hyperlink{namespaceanonymous__namespace_02l2_8cpp_03_a32724e48048319cd99337131ba70d4c4}{sum\+\_\+of\+\_\+squares} (const \hyperlink{base_8hpp_a68f11fdc31b62516cb310831bbe54d73}{Mat} \&mat)
\end{DoxyCompactItemize}


\subsection{Function Documentation}
\mbox{\Hypertarget{namespaceanonymous__namespace_02l2_8cpp_03_a32724e48048319cd99337131ba70d4c4}\label{namespaceanonymous__namespace_02l2_8cpp_03_a32724e48048319cd99337131ba70d4c4}} 
\index{anonymous\+\_\+namespace\lcurly{}l2.\+cpp\rcurly{}@{anonymous\+\_\+namespace\lcurly{}l2.\+cpp\rcurly{}}!sum\+\_\+of\+\_\+squares@{sum\+\_\+of\+\_\+squares}}
\index{sum\+\_\+of\+\_\+squares@{sum\+\_\+of\+\_\+squares}!anonymous\+\_\+namespace\lcurly{}l2.\+cpp\rcurly{}@{anonymous\+\_\+namespace\lcurly{}l2.\+cpp\rcurly{}}}
\subsubsection{\texorpdfstring{sum\+\_\+of\+\_\+squares()}{sum\_of\_squares()}}
{\footnotesize\ttfamily \hyperlink{base_8hpp_a3266f5ac18504bbadea983c109566867}{Eval\+Type} anonymous\+\_\+namespace\{l2.\+cpp\}\+::sum\+\_\+of\+\_\+squares (\begin{DoxyParamCaption}\item[{const \hyperlink{base_8hpp_a68f11fdc31b62516cb310831bbe54d73}{Mat} \&}]{mat }\end{DoxyParamCaption})}

Compute the entry-\/wise sum of squares of a local matrix. 

Definition at line 36 of file l2.\+cpp.


\begin{DoxyCode}
36                                           \{
37     \textcolor{keyword}{const} El::Int height = mat.Height();
38     \textcolor{keyword}{const} El::Int width = mat.Width();
39     \textcolor{keyword}{const} El::Int ldim = mat.LDim();
40     \textcolor{keyword}{const} \textcolor{keyword}{auto}& \_\_restrict\_\_ buf = mat.LockedBuffer();
41     \hyperlink{base_8hpp_a3266f5ac18504bbadea983c109566867}{EvalType} sqsum = \hyperlink{base_8hpp_a3266f5ac18504bbadea983c109566867}{EvalType}(0);
42     \textcolor{keywordflow}{if} (ldim == height) \{
43       \textcolor{comment}{// Parallelize single loop if data is contiguous}
44       \textcolor{keyword}{const} El::Int \hyperlink{structc__hash__table_afd5bfd9640fc5b72f75457fb7dd89663}{size} = height*width;
45 \textcolor{preprocessor}{      #pragma omp parallel for reduction(+:sqsum)}
46       \textcolor{keywordflow}{for} (El::Int i = 0; i < \hyperlink{structc__hash__table_afd5bfd9640fc5b72f75457fb7dd89663}{size}; ++i) \{
47         \textcolor{keyword}{const} \hyperlink{base_8hpp_a3266f5ac18504bbadea983c109566867}{EvalType} val = buf[i];
48         sqsum += val * val;
49       \}
50     \} \textcolor{keywordflow}{else} \{
51       \textcolor{comment}{// Parallelize double loop if data is not contiguous}
52 \textcolor{preprocessor}{      #pragma omp parallel for reduction(+:sqsum) collapse(2)}
53       \textcolor{keywordflow}{for} (El::Int j = 0; j < width; ++j) \{
54         \textcolor{keywordflow}{for} (El::Int i = 0; i < height; ++i) \{
55           \textcolor{keyword}{const} \hyperlink{base_8hpp_a3266f5ac18504bbadea983c109566867}{EvalType} val = buf[i + j*ldim];
56           sqsum += val * val;
57         \}
58       \}
59     \}
60     \textcolor{keywordflow}{return} sqsum;
61   \}
\end{DoxyCode}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{namespaceanonymous__namespace_02l2_8cpp_03_a32724e48048319cd99337131ba70d4c4_icgraph}
\end{center}
\end{figure}
