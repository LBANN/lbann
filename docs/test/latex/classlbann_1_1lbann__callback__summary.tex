\hypertarget{classlbann_1_1lbann__callback__summary}{}\section{lbann\+:\+:lbann\+\_\+callback\+\_\+summary Class Reference}
\label{classlbann_1_1lbann__callback__summary}\index{lbann\+::lbann\+\_\+callback\+\_\+summary@{lbann\+::lbann\+\_\+callback\+\_\+summary}}


{\ttfamily \#include $<$callback\+\_\+summary.\+hpp$>$}



Inheritance diagram for lbann\+:\+:lbann\+\_\+callback\+\_\+summary\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=192pt]{classlbann_1_1lbann__callback__summary__inherit__graph}
\end{center}
\end{figure}


Collaboration diagram for lbann\+:\+:lbann\+\_\+callback\+\_\+summary\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=207pt]{classlbann_1_1lbann__callback__summary__coll__graph}
\end{center}
\end{figure}
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classlbann_1_1lbann__callback__summary_aaf405a703a4047cc3c442d0a21a5d208}{lbann\+\_\+callback\+\_\+summary} (\hyperlink{classlbann_1_1lbann__summary}{lbann\+\_\+summary} $\ast$summarizer, int batch\+\_\+interval=1, int mat\+\_\+interval=25)
\item 
\hyperlink{classlbann_1_1lbann__callback__summary_afecb595caaee55e32837840ba902eaee}{$\sim$lbann\+\_\+callback\+\_\+summary} () override
\item 
\hyperlink{classlbann_1_1lbann__callback__summary_aed7ed143ba18927124e76f6442228810}{lbann\+\_\+callback\+\_\+summary} (const \hyperlink{classlbann_1_1lbann__callback__summary}{lbann\+\_\+callback\+\_\+summary} \&)=default
\item 
\hyperlink{classlbann_1_1lbann__callback__summary}{lbann\+\_\+callback\+\_\+summary} \& \hyperlink{classlbann_1_1lbann__callback__summary_a4e2c3d2fcb09c5dc00035be86441ad53}{operator=} (const \hyperlink{classlbann_1_1lbann__callback__summary}{lbann\+\_\+callback\+\_\+summary} \&)=default
\item 
\hyperlink{classlbann_1_1lbann__callback__summary}{lbann\+\_\+callback\+\_\+summary} $\ast$ \hyperlink{classlbann_1_1lbann__callback__summary_ae6f1ba60d92f4599361ce5bd5f70caa7}{copy} () const override
\item 
void \hyperlink{classlbann_1_1lbann__callback__summary_a1ff0c4368aee47c294b9c11a5176b9e0}{on\+\_\+train\+\_\+begin} (\hyperlink{classlbann_1_1model}{model} $\ast$m) override
\item 
void \hyperlink{classlbann_1_1lbann__callback__summary_a89b18186fdaa7b6a7a0e9ab8ee334d88}{on\+\_\+batch\+\_\+end} (\hyperlink{classlbann_1_1model}{model} $\ast$m) override
\item 
void \hyperlink{classlbann_1_1lbann__callback__summary_a404e64dcedfcba611510379f99dcace9}{on\+\_\+epoch\+\_\+end} (\hyperlink{classlbann_1_1model}{model} $\ast$m) override
\item 
void \hyperlink{classlbann_1_1lbann__callback__summary_a8dced0a202df3daaece138a7b958e544}{on\+\_\+test\+\_\+end} (\hyperlink{classlbann_1_1model}{model} $\ast$m) override
\item 
std\+::string \hyperlink{classlbann_1_1lbann__callback__summary_a79814488c1ed0123b335a4cd1a236724}{name} () const override
\end{DoxyCompactItemize}
\subsection*{Protected Member Functions}
\begin{DoxyCompactItemize}
\item 
void \hyperlink{classlbann_1_1lbann__callback__summary_a72a46c51527a02516584ce1e49e5cd29}{save\+\_\+histograms} (\hyperlink{classlbann_1_1model}{model} $\ast$m)
\end{DoxyCompactItemize}
\subsection*{Protected Attributes}
\begin{DoxyCompactItemize}
\item 
int \hyperlink{classlbann_1_1lbann__callback__summary_ad123c5383ce6fe1212e25021579d6e3d}{m\+\_\+mat\+\_\+interval}
\end{DoxyCompactItemize}


\subsection{Detailed Description}
Summarize information to Tensorboard using L\+B\+A\+NN\textquotesingle{}s summary interface. 

Definition at line 40 of file callback\+\_\+summary.\+hpp.



\subsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{classlbann_1_1lbann__callback__summary_aaf405a703a4047cc3c442d0a21a5d208}\label{classlbann_1_1lbann__callback__summary_aaf405a703a4047cc3c442d0a21a5d208}} 
\index{lbann\+::lbann\+\_\+callback\+\_\+summary@{lbann\+::lbann\+\_\+callback\+\_\+summary}!lbann\+\_\+callback\+\_\+summary@{lbann\+\_\+callback\+\_\+summary}}
\index{lbann\+\_\+callback\+\_\+summary@{lbann\+\_\+callback\+\_\+summary}!lbann\+::lbann\+\_\+callback\+\_\+summary@{lbann\+::lbann\+\_\+callback\+\_\+summary}}
\subsubsection{\texorpdfstring{lbann\+\_\+callback\+\_\+summary()}{lbann\_callback\_summary()}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily lbann\+::lbann\+\_\+callback\+\_\+summary\+::lbann\+\_\+callback\+\_\+summary (\begin{DoxyParamCaption}\item[{\hyperlink{classlbann_1_1lbann__summary}{lbann\+\_\+summary} $\ast$}]{summarizer,  }\item[{int}]{batch\+\_\+interval = {\ttfamily 1},  }\item[{int}]{mat\+\_\+interval = {\ttfamily 25} }\end{DoxyParamCaption})}


\begin{DoxyParams}{Parameters}
{\em summarizer} & The summary object to write to; this callback takes ownership of it. \\
\hline
\end{DoxyParams}


Definition at line 33 of file callback\+\_\+summary.\+cpp.


\begin{DoxyCode}
35                                                                  :
36   \hyperlink{classlbann_1_1lbann__callback_a679057298a41ddd47f08c157f756c584}{lbann\_callback}(batch\_interval, summarizer),
37   \hyperlink{classlbann_1_1lbann__callback__summary_ad123c5383ce6fe1212e25021579d6e3d}{m\_mat\_interval}(mat\_interval) \{\}
\end{DoxyCode}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classlbann_1_1lbann__callback__summary_aaf405a703a4047cc3c442d0a21a5d208_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classlbann_1_1lbann__callback__summary_afecb595caaee55e32837840ba902eaee}\label{classlbann_1_1lbann__callback__summary_afecb595caaee55e32837840ba902eaee}} 
\index{lbann\+::lbann\+\_\+callback\+\_\+summary@{lbann\+::lbann\+\_\+callback\+\_\+summary}!````~lbann\+\_\+callback\+\_\+summary@{$\sim$lbann\+\_\+callback\+\_\+summary}}
\index{````~lbann\+\_\+callback\+\_\+summary@{$\sim$lbann\+\_\+callback\+\_\+summary}!lbann\+::lbann\+\_\+callback\+\_\+summary@{lbann\+::lbann\+\_\+callback\+\_\+summary}}
\subsubsection{\texorpdfstring{$\sim$lbann\+\_\+callback\+\_\+summary()}{~lbann\_callback\_summary()}}
{\footnotesize\ttfamily lbann\+::lbann\+\_\+callback\+\_\+summary\+::$\sim$lbann\+\_\+callback\+\_\+summary (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}}



Definition at line 39 of file callback\+\_\+summary.\+cpp.


\begin{DoxyCode}
39                                                 \{
40   \textcolor{keyword}{delete} \hyperlink{classlbann_1_1lbann__callback_a277d46138184f85f161a8263b8322c76}{m\_summarizer};
41 \}
\end{DoxyCode}
\mbox{\Hypertarget{classlbann_1_1lbann__callback__summary_aed7ed143ba18927124e76f6442228810}\label{classlbann_1_1lbann__callback__summary_aed7ed143ba18927124e76f6442228810}} 
\index{lbann\+::lbann\+\_\+callback\+\_\+summary@{lbann\+::lbann\+\_\+callback\+\_\+summary}!lbann\+\_\+callback\+\_\+summary@{lbann\+\_\+callback\+\_\+summary}}
\index{lbann\+\_\+callback\+\_\+summary@{lbann\+\_\+callback\+\_\+summary}!lbann\+::lbann\+\_\+callback\+\_\+summary@{lbann\+::lbann\+\_\+callback\+\_\+summary}}
\subsubsection{\texorpdfstring{lbann\+\_\+callback\+\_\+summary()}{lbann\_callback\_summary()}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily lbann\+::lbann\+\_\+callback\+\_\+summary\+::lbann\+\_\+callback\+\_\+summary (\begin{DoxyParamCaption}\item[{const \hyperlink{classlbann_1_1lbann__callback__summary}{lbann\+\_\+callback\+\_\+summary} \&}]{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [default]}}



\subsection{Member Function Documentation}
\mbox{\Hypertarget{classlbann_1_1lbann__callback__summary_ae6f1ba60d92f4599361ce5bd5f70caa7}\label{classlbann_1_1lbann__callback__summary_ae6f1ba60d92f4599361ce5bd5f70caa7}} 
\index{lbann\+::lbann\+\_\+callback\+\_\+summary@{lbann\+::lbann\+\_\+callback\+\_\+summary}!copy@{copy}}
\index{copy@{copy}!lbann\+::lbann\+\_\+callback\+\_\+summary@{lbann\+::lbann\+\_\+callback\+\_\+summary}}
\subsubsection{\texorpdfstring{copy()}{copy()}}
{\footnotesize\ttfamily \hyperlink{classlbann_1_1lbann__callback__summary}{lbann\+\_\+callback\+\_\+summary}$\ast$ lbann\+::lbann\+\_\+callback\+\_\+summary\+::copy (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [override]}, {\ttfamily [virtual]}}



Implements \hyperlink{classlbann_1_1lbann__callback_a9f545d1269a8c7af335625d049691f26}{lbann\+::lbann\+\_\+callback}.



Definition at line 51 of file callback\+\_\+summary.\+hpp.


\begin{DoxyCode}
51                                                 \{
52     \textcolor{keywordflow}{return} \textcolor{keyword}{new} \hyperlink{classlbann_1_1lbann__callback__summary_aaf405a703a4047cc3c442d0a21a5d208}{lbann\_callback\_summary}(*\textcolor{keyword}{this});
53   \}
\end{DoxyCode}
Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classlbann_1_1lbann__callback__summary_ae6f1ba60d92f4599361ce5bd5f70caa7_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classlbann_1_1lbann__callback__summary_a79814488c1ed0123b335a4cd1a236724}\label{classlbann_1_1lbann__callback__summary_a79814488c1ed0123b335a4cd1a236724}} 
\index{lbann\+::lbann\+\_\+callback\+\_\+summary@{lbann\+::lbann\+\_\+callback\+\_\+summary}!name@{name}}
\index{name@{name}!lbann\+::lbann\+\_\+callback\+\_\+summary@{lbann\+::lbann\+\_\+callback\+\_\+summary}}
\subsubsection{\texorpdfstring{name()}{name()}}
{\footnotesize\ttfamily std\+::string lbann\+::lbann\+\_\+callback\+\_\+summary\+::name (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [override]}, {\ttfamily [virtual]}}

Return this callback\textquotesingle{}s name. 

Implements \hyperlink{classlbann_1_1lbann__callback_a7522c7a14f1d6a1ea762cc2d7248eb3a}{lbann\+::lbann\+\_\+callback}.



Definition at line 58 of file callback\+\_\+summary.\+hpp.


\begin{DoxyCode}
58 \{ \textcolor{keywordflow}{return} \textcolor{stringliteral}{"summary"}; \}
\end{DoxyCode}
Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classlbann_1_1lbann__callback__summary_a79814488c1ed0123b335a4cd1a236724_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classlbann_1_1lbann__callback__summary_a89b18186fdaa7b6a7a0e9ab8ee334d88}\label{classlbann_1_1lbann__callback__summary_a89b18186fdaa7b6a7a0e9ab8ee334d88}} 
\index{lbann\+::lbann\+\_\+callback\+\_\+summary@{lbann\+::lbann\+\_\+callback\+\_\+summary}!on\+\_\+batch\+\_\+end@{on\+\_\+batch\+\_\+end}}
\index{on\+\_\+batch\+\_\+end@{on\+\_\+batch\+\_\+end}!lbann\+::lbann\+\_\+callback\+\_\+summary@{lbann\+::lbann\+\_\+callback\+\_\+summary}}
\subsubsection{\texorpdfstring{on\+\_\+batch\+\_\+end()}{on\_batch\_end()}}
{\footnotesize\ttfamily void lbann\+::lbann\+\_\+callback\+\_\+summary\+::on\+\_\+batch\+\_\+end (\begin{DoxyParamCaption}\item[{\hyperlink{classlbann_1_1model}{model} $\ast$}]{m }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}

Called immediately after the end of a (mini-\/)batch. 

Reimplemented from \hyperlink{classlbann_1_1lbann__callback_a895ca577e358601fcae5c04749f60535}{lbann\+::lbann\+\_\+callback}.



Definition at line 47 of file callback\+\_\+summary.\+cpp.


\begin{DoxyCode}
47                                                   \{
48   m->summarize\_stats(*\hyperlink{classlbann_1_1lbann__callback_a277d46138184f85f161a8263b8322c76}{m\_summarizer});
49   \textcolor{keywordflow}{if} (\hyperlink{classlbann_1_1lbann__callback__summary_ad123c5383ce6fe1212e25021579d6e3d}{m\_mat\_interval} > 0 && m->get\_cur\_step() % \hyperlink{classlbann_1_1lbann__callback__summary_ad123c5383ce6fe1212e25021579d6e3d}{m\_mat\_interval} == 0) \{
50     m->summarize\_matrices(*\hyperlink{classlbann_1_1lbann__callback_a277d46138184f85f161a8263b8322c76}{m\_summarizer});
51   \}
52   lbann\_comm *\hyperlink{file__io_8cpp_ab048c6f9fcbcfaa57ce68b00263dbebe}{comm} = m->get\_comm();
53   \textcolor{keywordtype}{size\_t} bytes\_sent = comm->get\_bytes\_sent();
54   \textcolor{keywordtype}{size\_t} bytes\_received = comm->get\_bytes\_received();
55   \textcolor{keywordtype}{size\_t} model\_barriers = comm->get\_num\_model\_barriers();
56   \textcolor{keywordtype}{size\_t} intermodel\_barriers = comm->get\_num\_intermodel\_barriers();
57   \textcolor{keywordtype}{size\_t} global\_barriers = comm->get\_num\_global\_barriers();
58   comm->reset\_stats\_counters();
59   \hyperlink{classlbann_1_1lbann__callback_a277d46138184f85f161a8263b8322c76}{m\_summarizer}->\hyperlink{classlbann_1_1lbann__summary_a61dadb797450bca910d3673e03be95e0}{sum\_reduce\_scalar}(\textcolor{stringliteral}{"bytes\_sent"}, bytes\_sent, m->get\_cur\_step())
      ;
60   \hyperlink{classlbann_1_1lbann__callback_a277d46138184f85f161a8263b8322c76}{m\_summarizer}->\hyperlink{classlbann_1_1lbann__summary_a61dadb797450bca910d3673e03be95e0}{sum\_reduce\_scalar}(\textcolor{stringliteral}{"bytes\_received"}, bytes\_received,
61                                   m->get\_cur\_step());
62   \hyperlink{classlbann_1_1lbann__callback_a277d46138184f85f161a8263b8322c76}{m\_summarizer}->\hyperlink{classlbann_1_1lbann__summary_a3e0b9aae1f80403a195567fd25ea2525}{reduce\_scalar}(\textcolor{stringliteral}{"model\_barriers"}, model\_barriers,
63                               m->get\_cur\_step());
64   \hyperlink{classlbann_1_1lbann__callback_a277d46138184f85f161a8263b8322c76}{m\_summarizer}->\hyperlink{classlbann_1_1lbann__summary_a3e0b9aae1f80403a195567fd25ea2525}{reduce\_scalar}(\textcolor{stringliteral}{"intermodel\_barriers"}, intermodel\_barriers,
65                               m->get\_cur\_step());
66   \hyperlink{classlbann_1_1lbann__callback_a277d46138184f85f161a8263b8322c76}{m\_summarizer}->\hyperlink{classlbann_1_1lbann__summary_a3e0b9aae1f80403a195567fd25ea2525}{reduce\_scalar}(\textcolor{stringliteral}{"global\_barriers"}, global\_barriers,
67                               m->get\_cur\_step());
68 \}
\end{DoxyCode}
Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classlbann_1_1lbann__callback__summary_a89b18186fdaa7b6a7a0e9ab8ee334d88_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classlbann_1_1lbann__callback__summary_a89b18186fdaa7b6a7a0e9ab8ee334d88_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classlbann_1_1lbann__callback__summary_a404e64dcedfcba611510379f99dcace9}\label{classlbann_1_1lbann__callback__summary_a404e64dcedfcba611510379f99dcace9}} 
\index{lbann\+::lbann\+\_\+callback\+\_\+summary@{lbann\+::lbann\+\_\+callback\+\_\+summary}!on\+\_\+epoch\+\_\+end@{on\+\_\+epoch\+\_\+end}}
\index{on\+\_\+epoch\+\_\+end@{on\+\_\+epoch\+\_\+end}!lbann\+::lbann\+\_\+callback\+\_\+summary@{lbann\+::lbann\+\_\+callback\+\_\+summary}}
\subsubsection{\texorpdfstring{on\+\_\+epoch\+\_\+end()}{on\_epoch\_end()}}
{\footnotesize\ttfamily void lbann\+::lbann\+\_\+callback\+\_\+summary\+::on\+\_\+epoch\+\_\+end (\begin{DoxyParamCaption}\item[{\hyperlink{classlbann_1_1model}{model} $\ast$}]{m }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}

Called immediate after the end of each epoch. 

Reimplemented from \hyperlink{classlbann_1_1lbann__callback_a1fc71110e7f754bf73c9e0f344a448a5}{lbann\+::lbann\+\_\+callback}.



Definition at line 70 of file callback\+\_\+summary.\+cpp.


\begin{DoxyCode}
70                                                   \{
71   \textcolor{keywordflow}{for} (\textcolor{keyword}{const} \textcolor{keyword}{auto}& met : m->get\_metrics()) \{
72     \hyperlink{base_8hpp_a3266f5ac18504bbadea983c109566867}{EvalType} train\_score = met->get\_mean\_value(m->get\_execution\_mode());
73     \textcolor{comment}{// Replace spaces with \_ for consistency.}
74     std::string metric\_name = met->name();
75     std::transform(metric\_name.begin(), metric\_name.end(), metric\_name.begin(),
76                    [] (\textcolor{keywordtype}{char} c) \{ \textcolor{keywordflow}{return} c == \textcolor{charliteral}{' '} ? \textcolor{charliteral}{'\_'} : c; \});
77     std::string phase = \textcolor{stringliteral}{"train\_"} + metric\_name;
78     \hyperlink{classlbann_1_1lbann__callback_a277d46138184f85f161a8263b8322c76}{m\_summarizer}->\hyperlink{classlbann_1_1lbann__summary_a3e0b9aae1f80403a195567fd25ea2525}{reduce\_scalar}(phase, train\_score, m->get\_cur\_step());
79   \}
80   \hyperlink{classlbann_1_1lbann__callback__summary_a72a46c51527a02516584ce1e49e5cd29}{save\_histograms}(m);
81   \hyperlink{classlbann_1_1lbann__callback_a277d46138184f85f161a8263b8322c76}{m\_summarizer}->\hyperlink{classlbann_1_1lbann__summary_afca72ec49f3e813b6563285a2153a5be}{flush}();
82 \}
\end{DoxyCode}
Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classlbann_1_1lbann__callback__summary_a404e64dcedfcba611510379f99dcace9_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classlbann_1_1lbann__callback__summary_a404e64dcedfcba611510379f99dcace9_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classlbann_1_1lbann__callback__summary_a8dced0a202df3daaece138a7b958e544}\label{classlbann_1_1lbann__callback__summary_a8dced0a202df3daaece138a7b958e544}} 
\index{lbann\+::lbann\+\_\+callback\+\_\+summary@{lbann\+::lbann\+\_\+callback\+\_\+summary}!on\+\_\+test\+\_\+end@{on\+\_\+test\+\_\+end}}
\index{on\+\_\+test\+\_\+end@{on\+\_\+test\+\_\+end}!lbann\+::lbann\+\_\+callback\+\_\+summary@{lbann\+::lbann\+\_\+callback\+\_\+summary}}
\subsubsection{\texorpdfstring{on\+\_\+test\+\_\+end()}{on\_test\_end()}}
{\footnotesize\ttfamily void lbann\+::lbann\+\_\+callback\+\_\+summary\+::on\+\_\+test\+\_\+end (\begin{DoxyParamCaption}\item[{\hyperlink{classlbann_1_1model}{model} $\ast$}]{m }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}

Called immediately after the end of testing. 

Reimplemented from \hyperlink{classlbann_1_1lbann__callback_accbad4dd004c1ced33642db6398b2efe}{lbann\+::lbann\+\_\+callback}.



Definition at line 84 of file callback\+\_\+summary.\+cpp.


\begin{DoxyCode}
84                                                  \{
85   lbann\_comm *\hyperlink{file__io_8cpp_ab048c6f9fcbcfaa57ce68b00263dbebe}{comm} = m->get\_comm();
86   \textcolor{keywordflow}{for} (\textcolor{keyword}{auto}&& met : m->get\_metrics()) \{
87     \hyperlink{base_8hpp_a3266f5ac18504bbadea983c109566867}{EvalType} test\_score = met->get\_mean\_value(m->get\_execution\_mode());
88     \textcolor{comment}{// Replace spaces with \_ for consistency.}
89     std::string metric\_name = met->name();
90     std::transform(metric\_name.begin(), metric\_name.end(), metric\_name.begin(),
91                    [] (\textcolor{keywordtype}{char} c) \{ \textcolor{keywordflow}{return} c == \textcolor{charliteral}{' '} ? \textcolor{charliteral}{'\_'} : c; \});
92     std::string phase = \textcolor{stringliteral}{"test\_"} + metric\_name;
93     \hyperlink{classlbann_1_1lbann__callback_a277d46138184f85f161a8263b8322c76}{m\_summarizer}->\hyperlink{classlbann_1_1lbann__summary_a3e0b9aae1f80403a195567fd25ea2525}{reduce\_scalar}(phase, test\_score, m->get\_cur\_step());
94   \}
95   \textcolor{comment}{// Reset counters incremented during test phase.}
96   comm->reset\_stats\_counters();
97   \textcolor{keywordflow}{for} (\textcolor{keyword}{auto}&& layer : m->get\_layers()) \{
98     layer->reset\_counters();
99   \}
100 \}
\end{DoxyCode}
Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classlbann_1_1lbann__callback__summary_a8dced0a202df3daaece138a7b958e544_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classlbann_1_1lbann__callback__summary_a8dced0a202df3daaece138a7b958e544_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classlbann_1_1lbann__callback__summary_a1ff0c4368aee47c294b9c11a5176b9e0}\label{classlbann_1_1lbann__callback__summary_a1ff0c4368aee47c294b9c11a5176b9e0}} 
\index{lbann\+::lbann\+\_\+callback\+\_\+summary@{lbann\+::lbann\+\_\+callback\+\_\+summary}!on\+\_\+train\+\_\+begin@{on\+\_\+train\+\_\+begin}}
\index{on\+\_\+train\+\_\+begin@{on\+\_\+train\+\_\+begin}!lbann\+::lbann\+\_\+callback\+\_\+summary@{lbann\+::lbann\+\_\+callback\+\_\+summary}}
\subsubsection{\texorpdfstring{on\+\_\+train\+\_\+begin()}{on\_train\_begin()}}
{\footnotesize\ttfamily void lbann\+::lbann\+\_\+callback\+\_\+summary\+::on\+\_\+train\+\_\+begin (\begin{DoxyParamCaption}\item[{\hyperlink{classlbann_1_1model}{model} $\ast$}]{m }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}

Called at the beginning of training. 

Reimplemented from \hyperlink{classlbann_1_1lbann__callback_a7c8f0d211967ccc5219144e92571ab26}{lbann\+::lbann\+\_\+callback}.



Definition at line 43 of file callback\+\_\+summary.\+cpp.


\begin{DoxyCode}
43                                                     \{
44   \hyperlink{classlbann_1_1lbann__callback__summary_a72a46c51527a02516584ce1e49e5cd29}{save\_histograms}(m);
45 \}
\end{DoxyCode}
Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classlbann_1_1lbann__callback__summary_a1ff0c4368aee47c294b9c11a5176b9e0_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classlbann_1_1lbann__callback__summary_a1ff0c4368aee47c294b9c11a5176b9e0_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classlbann_1_1lbann__callback__summary_a4e2c3d2fcb09c5dc00035be86441ad53}\label{classlbann_1_1lbann__callback__summary_a4e2c3d2fcb09c5dc00035be86441ad53}} 
\index{lbann\+::lbann\+\_\+callback\+\_\+summary@{lbann\+::lbann\+\_\+callback\+\_\+summary}!operator=@{operator=}}
\index{operator=@{operator=}!lbann\+::lbann\+\_\+callback\+\_\+summary@{lbann\+::lbann\+\_\+callback\+\_\+summary}}
\subsubsection{\texorpdfstring{operator=()}{operator=()}}
{\footnotesize\ttfamily \hyperlink{classlbann_1_1lbann__callback__summary}{lbann\+\_\+callback\+\_\+summary}\& lbann\+::lbann\+\_\+callback\+\_\+summary\+::operator= (\begin{DoxyParamCaption}\item[{const \hyperlink{classlbann_1_1lbann__callback__summary}{lbann\+\_\+callback\+\_\+summary} \&}]{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [default]}}

\mbox{\Hypertarget{classlbann_1_1lbann__callback__summary_a72a46c51527a02516584ce1e49e5cd29}\label{classlbann_1_1lbann__callback__summary_a72a46c51527a02516584ce1e49e5cd29}} 
\index{lbann\+::lbann\+\_\+callback\+\_\+summary@{lbann\+::lbann\+\_\+callback\+\_\+summary}!save\+\_\+histograms@{save\+\_\+histograms}}
\index{save\+\_\+histograms@{save\+\_\+histograms}!lbann\+::lbann\+\_\+callback\+\_\+summary@{lbann\+::lbann\+\_\+callback\+\_\+summary}}
\subsubsection{\texorpdfstring{save\+\_\+histograms()}{save\_histograms()}}
{\footnotesize\ttfamily void lbann\+::lbann\+\_\+callback\+\_\+summary\+::save\+\_\+histograms (\begin{DoxyParamCaption}\item[{\hyperlink{classlbann_1_1model}{model} $\ast$}]{m }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}}

Write out histograms from the model\textquotesingle{}s layers. 

Definition at line 102 of file callback\+\_\+summary.\+cpp.


\begin{DoxyCode}
102                                                      \{
103   \textcolor{keywordflow}{for} (\textcolor{keyword}{const} \textcolor{keyword}{auto}& layer : m->get\_layers()) \{
104     \textcolor{keyword}{const} std::string prefix = layer->get\_name() + \textcolor{stringliteral}{"/"};
105     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < layer->get\_num\_children(); ++i) \{
106       \hyperlink{classlbann_1_1lbann__callback_a277d46138184f85f161a8263b8322c76}{m\_summarizer}->\hyperlink{classlbann_1_1lbann__summary_a6303fa270a3b7179f361b47418f812ef}{reduce\_histogram}(prefix + \textcolor{stringliteral}{"activations"} + std::to\_string(i)
      ,
107                                      layer->get\_activations(i),
108                                      m->get\_cur\_step());
109     \}
110   \}
111   \textcolor{keywordflow}{for} (\textcolor{keyword}{const} \textcolor{keyword}{auto}& w : m->get\_weights()) \{
112     \textcolor{keyword}{const} std::string prefix = w->get\_name() + \textcolor{stringliteral}{"/"};
113     \hyperlink{classlbann_1_1lbann__callback_a277d46138184f85f161a8263b8322c76}{m\_summarizer}->\hyperlink{classlbann_1_1lbann__summary_a6303fa270a3b7179f361b47418f812ef}{reduce\_histogram}(prefix + \textcolor{stringliteral}{"weights"},
114                                    w->get\_values(),
115                                    m->get\_cur\_step());
116     optimizer *opt = w->get\_optimizer();
117     \textcolor{keywordflow}{if} (opt != \textcolor{keyword}{nullptr}) \{
118       \hyperlink{classlbann_1_1lbann__callback_a277d46138184f85f161a8263b8322c76}{m\_summarizer}->\hyperlink{classlbann_1_1lbann__summary_a6303fa270a3b7179f361b47418f812ef}{reduce\_histogram}(prefix + \textcolor{stringliteral}{"weights\_gradient"},
119                                      opt->get\_gradient(),
120                                      m->get\_cur\_step());
121     \}
122   \}
123 \}
\end{DoxyCode}
Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classlbann_1_1lbann__callback__summary_a72a46c51527a02516584ce1e49e5cd29_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classlbann_1_1lbann__callback__summary_a72a46c51527a02516584ce1e49e5cd29_icgraph}
\end{center}
\end{figure}


\subsection{Member Data Documentation}
\mbox{\Hypertarget{classlbann_1_1lbann__callback__summary_ad123c5383ce6fe1212e25021579d6e3d}\label{classlbann_1_1lbann__callback__summary_ad123c5383ce6fe1212e25021579d6e3d}} 
\index{lbann\+::lbann\+\_\+callback\+\_\+summary@{lbann\+::lbann\+\_\+callback\+\_\+summary}!m\+\_\+mat\+\_\+interval@{m\+\_\+mat\+\_\+interval}}
\index{m\+\_\+mat\+\_\+interval@{m\+\_\+mat\+\_\+interval}!lbann\+::lbann\+\_\+callback\+\_\+summary@{lbann\+::lbann\+\_\+callback\+\_\+summary}}
\subsubsection{\texorpdfstring{m\+\_\+mat\+\_\+interval}{m\_mat\_interval}}
{\footnotesize\ttfamily int lbann\+::lbann\+\_\+callback\+\_\+summary\+::m\+\_\+mat\+\_\+interval\hspace{0.3cm}{\ttfamily [protected]}}

Interval for doing matrix summarization. 

Definition at line 63 of file callback\+\_\+summary.\+hpp.



The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
/\+Users/mckinney27/doxy-\/testbed/lbann/include/lbann/callbacks/\hyperlink{callback__summary_8hpp}{callback\+\_\+summary.\+hpp}\item 
/\+Users/mckinney27/doxy-\/testbed/lbann/src/callbacks/\hyperlink{callback__summary_8cpp}{callback\+\_\+summary.\+cpp}\end{DoxyCompactItemize}
