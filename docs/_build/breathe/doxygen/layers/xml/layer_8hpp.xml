<?xml version='1.0' encoding='UTF-8' standalone='no'?>
<doxygen xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="compound.xsd" version="1.8.13">
  <compounddef id="layer_8hpp" kind="file" language="C++">
    <compoundname>layer.hpp</compoundname>
    <includes local="yes">lbann/base.hpp</includes>
    <includes local="yes">lbann/comm.hpp</includes>
    <includes local="yes">lbann/utils/summary.hpp</includes>
    <includes local="yes">lbann/optimizers/optimizer.hpp</includes>
    <includes local="yes">lbann/utils/exception.hpp</includes>
    <includes local="yes">lbann/utils/cudnn_wrapper.hpp</includes>
    <includes local="yes">lbann/utils/timer.hpp</includes>
    <includes local="yes">lbann/io/persist.hpp</includes>
    <includes local="no">lbann.pb.h</includes>
    <includes local="no">string</includes>
    <includes local="no">vector</includes>
    <incdepgraph>
      <node id="8">
        <label>lbann/io/persist.hpp</label>
      </node>
      <node id="10">
        <label>string</label>
      </node>
      <node id="6">
        <label>lbann/utils/cudnn_wrapper.hpp</label>
      </node>
      <node id="3">
        <label>lbann/utils/summary.hpp</label>
      </node>
      <node id="5">
        <label>lbann/utils/exception.hpp</label>
      </node>
      <node id="7">
        <label>lbann/utils/timer.hpp</label>
      </node>
      <node id="11">
        <label>vector</label>
      </node>
      <node id="4">
        <label>lbann/optimizers/optimizer.hpp</label>
      </node>
      <node id="2">
        <label>lbann/comm.hpp</label>
      </node>
      <node id="9">
        <label>lbann.pb.h</label>
      </node>
      <node id="0">
        <label>/Users/mckinney27/doxy-testbed/lbann/include/lbann/layers/layer.hpp</label>
        <link refid="layer_8hpp"/>
        <childnode refid="1" relation="include">
        </childnode>
        <childnode refid="2" relation="include">
        </childnode>
        <childnode refid="3" relation="include">
        </childnode>
        <childnode refid="4" relation="include">
        </childnode>
        <childnode refid="5" relation="include">
        </childnode>
        <childnode refid="6" relation="include">
        </childnode>
        <childnode refid="7" relation="include">
        </childnode>
        <childnode refid="8" relation="include">
        </childnode>
        <childnode refid="9" relation="include">
        </childnode>
        <childnode refid="10" relation="include">
        </childnode>
        <childnode refid="11" relation="include">
        </childnode>
      </node>
      <node id="1">
        <label>lbann/base.hpp</label>
      </node>
    </incdepgraph>
    <innerclass refid="classlbann_1_1_layer" prot="public">lbann::Layer</innerclass>
    <innernamespace refid="namespacelbann">lbann</innernamespace>
    <briefdescription>
    </briefdescription>
    <detaileddescription>
    </detaileddescription>
    <programlisting>
<codeline lineno="1"><highlight class="comment">//<sp/>Copyright<sp/>(c)<sp/>2014-2016,<sp/>Lawrence<sp/>Livermore<sp/>National<sp/>Security,<sp/>LLC.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3"><highlight class="normal"></highlight><highlight class="comment">//<sp/>Produced<sp/>at<sp/>the<sp/>Lawrence<sp/>Livermore<sp/>National<sp/>Laboratory.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="4"><highlight class="normal"></highlight><highlight class="comment">//<sp/>Written<sp/>by<sp/>the<sp/>LBANN<sp/>Research<sp/>Team<sp/>(B.<sp/>Van<sp/>Essen,<sp/>et<sp/>al.)<sp/>listed<sp/>in</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="5"><highlight class="normal"></highlight><highlight class="comment">//<sp/>the<sp/>CONTRIBUTORS<sp/>file.<sp/>&lt;lbann-dev@llnl.gov&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="6"><highlight class="normal"></highlight><highlight class="comment">//</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="7"><highlight class="normal"></highlight><highlight class="comment">//<sp/>LLNL-CODE-697807.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="8"><highlight class="normal"></highlight><highlight class="comment">//<sp/>All<sp/>rights<sp/>reserved.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="9"><highlight class="normal"></highlight><highlight class="comment">//</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="10"><highlight class="normal"></highlight><highlight class="comment">//<sp/>This<sp/>file<sp/>is<sp/>part<sp/>of<sp/>LBANN:<sp/>Livermore<sp/>Big<sp/>Artificial<sp/>Neural<sp/>Network</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="11"><highlight class="normal"></highlight><highlight class="comment">//<sp/>Toolkit.<sp/>For<sp/>details,<sp/>see<sp/>http://software.llnl.gov/LBANN<sp/>or</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="12"><highlight class="normal"></highlight><highlight class="comment">//<sp/>https://github.com/LLNL/LBANN.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="13"><highlight class="normal"></highlight><highlight class="comment">//</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="14"><highlight class="normal"></highlight><highlight class="comment">//<sp/>Licensed<sp/>under<sp/>the<sp/>Apache<sp/>License,<sp/>Version<sp/>2.0<sp/>(the<sp/>&quot;Licensee&quot;);<sp/>you</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="15"><highlight class="normal"></highlight><highlight class="comment">//<sp/>may<sp/>not<sp/>use<sp/>this<sp/>file<sp/>except<sp/>in<sp/>compliance<sp/>with<sp/>the<sp/>License.<sp/><sp/>You<sp/>may</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="16"><highlight class="normal"></highlight><highlight class="comment">//<sp/>obtain<sp/>a<sp/>copy<sp/>of<sp/>the<sp/>License<sp/>at:</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="17"><highlight class="normal"></highlight><highlight class="comment">//</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="18"><highlight class="normal"></highlight><highlight class="comment">//<sp/>http://www.apache.org/licenses/LICENSE-2.0</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="19"><highlight class="normal"></highlight><highlight class="comment">//</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="20"><highlight class="normal"></highlight><highlight class="comment">//<sp/>Unless<sp/>required<sp/>by<sp/>applicable<sp/>law<sp/>or<sp/>agreed<sp/>to<sp/>in<sp/>writing,<sp/>software</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="21"><highlight class="normal"></highlight><highlight class="comment">//<sp/>distributed<sp/>under<sp/>the<sp/>License<sp/>is<sp/>distributed<sp/>on<sp/>an<sp/>&quot;AS<sp/>IS&quot;<sp/>BASIS,</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="22"><highlight class="normal"></highlight><highlight class="comment">//<sp/>WITHOUT<sp/>WARRANTIES<sp/>OR<sp/>CONDITIONS<sp/>OF<sp/>ANY<sp/>KIND,<sp/>either<sp/>express<sp/>or</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="23"><highlight class="normal"></highlight><highlight class="comment">//<sp/>implied.<sp/>See<sp/>the<sp/>License<sp/>for<sp/>the<sp/>specific<sp/>language<sp/>governing</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="24"><highlight class="normal"></highlight><highlight class="comment">//<sp/>permissions<sp/>and<sp/>limitations<sp/>under<sp/>the<sp/>license.</highlight></codeline>
<codeline lineno="26"><highlight class="comment"></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="27"><highlight class="normal"></highlight><highlight class="preprocessor">#ifndef<sp/>LBANN_LAYER_HPP_INCLUDED</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="28"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>LBANN_LAYER_HPP_INCLUDED</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="29"><highlight class="normal"></highlight></codeline>
<codeline lineno="30"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;lbann/base.hpp&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="31"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;lbann/comm.hpp&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="32"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;lbann/utils/summary.hpp&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="33"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;lbann/optimizers/optimizer.hpp&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="34"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;lbann/utils/exception.hpp&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="35"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;lbann/utils/cudnn_wrapper.hpp&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="36"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;lbann/utils/timer.hpp&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="37"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;lbann/io/persist.hpp&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="38"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;lbann.pb.h&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="39"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;string&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="40"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;vector&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="41"><highlight class="normal"></highlight></codeline>
<codeline lineno="42"><highlight class="normal"></highlight><highlight class="keyword">namespace<sp/></highlight><highlight class="normal"><ref refid="namespacelbann" kindref="compound">lbann</ref><sp/>{</highlight></codeline>
<codeline lineno="43"><highlight class="normal"></highlight></codeline>
<codeline lineno="44"><highlight class="normal"></highlight><highlight class="comment">//<sp/>Forward<sp/>declaration</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="45"><highlight class="normal"></highlight><highlight class="keyword">class<sp/></highlight><highlight class="normal">model;</highlight></codeline>
<codeline lineno="46"><highlight class="normal"></highlight></codeline>
<codeline lineno="62" refid="classlbann_1_1_layer" refkind="compound"><highlight class="keyword">class<sp/></highlight><highlight class="normal"><ref refid="classlbann_1_1_layer" kindref="compound">Layer</ref><sp/>{</highlight></codeline>
<codeline lineno="63"><highlight class="normal"><sp/></highlight><highlight class="keyword">public</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="64"><highlight class="normal"><sp/><sp/><ref refid="classlbann_1_1_layer" kindref="compound">Layer</ref>(lbann_comm<sp/>*comm);</highlight></codeline>
<codeline lineno="65"><highlight class="normal"><sp/><sp/><ref refid="classlbann_1_1_layer" kindref="compound">Layer</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="classlbann_1_1_layer" kindref="compound">Layer</ref>&amp;<sp/>other);</highlight></codeline>
<codeline lineno="66"><highlight class="normal"><sp/><sp/><ref refid="classlbann_1_1_layer" kindref="compound">Layer</ref>&amp;<sp/>operator=(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="classlbann_1_1_layer" kindref="compound">Layer</ref>&amp;<sp/>other);</highlight></codeline>
<codeline lineno="67"><highlight class="normal"><sp/><sp/></highlight><highlight class="keyword">virtual</highlight><highlight class="normal"><sp/>~<ref refid="classlbann_1_1_layer" kindref="compound">Layer</ref>();</highlight></codeline>
<codeline lineno="68"><highlight class="normal"></highlight></codeline>
<codeline lineno="74"><highlight class="normal"><sp/><sp/></highlight><highlight class="keyword">virtual</highlight><highlight class="normal"><sp/><ref refid="classlbann_1_1_layer" kindref="compound">Layer</ref>*<sp/><ref refid="classlbann_1_1_layer_1af420f22bbac801c85483ade84588a23f" kindref="member">copy</ref>()<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="75"><highlight class="normal"></highlight></codeline>
<codeline lineno="80"><highlight class="normal"><sp/><sp/></highlight><highlight class="keyword">virtual</highlight><highlight class="normal"><sp/>std::string<sp/><ref refid="classlbann_1_1_layer_1a0fa0ea9160b490c151c0a17fde4f7239" kindref="member">get_type</ref>()<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="85" refid="classlbann_1_1_layer_1a80027550202fa7dbb1dd55fa8a66c84b" refkind="member"><highlight class="normal"><sp/><sp/></highlight><highlight class="keyword">inline</highlight><highlight class="normal"><sp/>std::string<sp/><ref refid="classlbann_1_1_layer_1a80027550202fa7dbb1dd55fa8a66c84b" kindref="member">get_name</ref>()</highlight><highlight class="keyword"><sp/>const<sp/></highlight><highlight class="normal">{<sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="classlbann_1_1_layer_1aa47109ad09b399142fa92f9d3702189f" kindref="member">m_name</ref>;<sp/>}</highlight></codeline>
<codeline lineno="90" refid="classlbann_1_1_layer_1a82d8a038861b0af0d54fbf44ce715839" refkind="member"><highlight class="normal"><sp/><sp/></highlight><highlight class="keyword">inline</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="classlbann_1_1_layer_1a82d8a038861b0af0d54fbf44ce715839" kindref="member">set_name</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>std::string<sp/>name)<sp/>{<sp/><ref refid="classlbann_1_1_layer_1aa47109ad09b399142fa92f9d3702189f" kindref="member">m_name</ref><sp/>=<sp/>name;<sp/>}</highlight></codeline>
<codeline lineno="91"><highlight class="normal"></highlight></codeline>
<codeline lineno="93"><highlight class="normal"><sp/><sp/></highlight><highlight class="keyword">virtual</highlight><highlight class="normal"><sp/>std::string<sp/><ref refid="classlbann_1_1_layer_1a703a3d43978c8e596bfba0b70948505a" kindref="member">get_description</ref>()<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="101"><highlight class="normal"><sp/><sp/></highlight><highlight class="keyword">virtual</highlight><highlight class="normal"><sp/>std::string<sp/><ref refid="classlbann_1_1_layer_1aa3000ef00ed77ecf0fc732e0a9b601ac" kindref="member">get_topo_description</ref>()<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="102"><highlight class="normal"></highlight></codeline>
<codeline lineno="107"><highlight class="normal"><sp/><sp/></highlight><highlight class="keyword">virtual</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="classlbann_1_1_layer_1a8713a4fdbf3f5927ce95ed6e842fd3d8" kindref="member">forward_prop</ref>();</highlight></codeline>
<codeline lineno="119"><highlight class="normal"><sp/><sp/></highlight><highlight class="keyword">virtual</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="classlbann_1_1_layer_1a9bffae62bcbfa3d3c6dc2d99f6e514e3" kindref="member">back_prop</ref>();</highlight></codeline>
<codeline lineno="124"><highlight class="normal"><sp/><sp/></highlight><highlight class="keyword">virtual</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/><ref refid="classlbann_1_1_layer_1a0fbb376cebdaa4692fdc92df34bb366c" kindref="member">update</ref>();</highlight></codeline>
<codeline lineno="125"><highlight class="normal"></highlight></codeline>
<codeline lineno="129"><highlight class="normal"><sp/><sp/></highlight><highlight class="keyword">virtual</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="classlbann_1_1_layer_1a11ed3c01c552e7309277470b3fc053b9" kindref="member">clear_error_signals</ref>(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>mini_batch_size);</highlight></codeline>
<codeline lineno="130"><highlight class="normal"></highlight></codeline>
<codeline lineno="131"><highlight class="normal"><sp/><sp/></highlight><highlight class="keyword">virtual</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>summarize_stats(lbann_summary&amp;<sp/>summarizer,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>step);</highlight></codeline>
<codeline lineno="132"><highlight class="normal"><sp/><sp/></highlight><highlight class="keyword">virtual</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>summarize_matrices(lbann_summary&amp;<sp/>summarizer,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>step);</highlight></codeline>
<codeline lineno="133"><highlight class="normal"></highlight></codeline>
<codeline lineno="146"><highlight class="normal"><sp/><sp/></highlight><highlight class="keyword">virtual</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="classlbann_1_1_layer_1aee795848cd9668ad42726b0d374e7c84" kindref="member">setup</ref>();</highlight></codeline>
<codeline lineno="148"><highlight class="normal"><sp/><sp/></highlight><highlight class="keyword">virtual</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="classlbann_1_1_layer_1abf5196ae4a2787ed16577302429d2bec" kindref="member">check_setup</ref>();</highlight></codeline>
<codeline lineno="149"><highlight class="normal"></highlight></codeline>
<codeline lineno="156"><highlight class="normal"><sp/><sp/></highlight><highlight class="keyword">virtual</highlight><highlight class="normal"><sp/>data_layout<sp/><ref refid="classlbann_1_1_layer_1a5dfb66e81fc085997402a5e2241316bd" kindref="member">get_data_layout</ref>()<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="158"><highlight class="normal"><sp/><sp/>std::string<sp/><ref refid="classlbann_1_1_layer_1ae3f4a5602df821f4221614b1e3782dc1" kindref="member">get_data_layout_string</ref>(data_layout<sp/>d)<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="159"><highlight class="normal"></highlight></codeline>
<codeline lineno="161" refid="classlbann_1_1_layer_1a1acc0fa44acdeffbac158fdac3467973" refkind="member"><highlight class="normal"><sp/><sp/></highlight><highlight class="keyword">virtual</highlight><highlight class="normal"><sp/>std::vector&lt;int&gt;<sp/><ref refid="classlbann_1_1_layer_1a1acc0fa44acdeffbac158fdac3467973" kindref="member">get_prev_neuron_dims</ref>(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>parent_index<sp/>=<sp/>0)</highlight><highlight class="keyword"><sp/>const<sp/></highlight><highlight class="normal">{</highlight></codeline>
<codeline lineno="162"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="classlbann_1_1_layer_1ae204d1a2a79606eaa117273857ff62a3" kindref="member">m_prev_neuron_dims</ref>;</highlight></codeline>
<codeline lineno="163"><highlight class="normal"><sp/><sp/>}</highlight></codeline>
<codeline lineno="165" refid="classlbann_1_1_layer_1a27112eb70bbfbd7f3c3e749960400dec" refkind="member"><highlight class="normal"><sp/><sp/></highlight><highlight class="keyword">virtual</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="classlbann_1_1_layer_1a27112eb70bbfbd7f3c3e749960400dec" kindref="member">get_num_prev_neurons</ref>(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>parent_index<sp/>=<sp/>0)</highlight><highlight class="keyword"><sp/>const<sp/></highlight><highlight class="normal">{</highlight></codeline>
<codeline lineno="166"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="classlbann_1_1_layer_1ac7b30f4e28d58204bfcbb76886f9136d" kindref="member">m_num_prev_neurons</ref>;</highlight></codeline>
<codeline lineno="167"><highlight class="normal"><sp/><sp/>}</highlight></codeline>
<codeline lineno="169" refid="classlbann_1_1_layer_1ace32c7df942a8d97d7a25cb8ff8ce71d" refkind="member"><highlight class="normal"><sp/><sp/></highlight><highlight class="keyword">virtual</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="classlbann_1_1_layer_1ace32c7df942a8d97d7a25cb8ff8ce71d" kindref="member">get_num_prev_neuron_dims</ref>(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>parent_index<sp/>=<sp/>0)</highlight><highlight class="keyword"><sp/>const<sp/></highlight><highlight class="normal">{</highlight></codeline>
<codeline lineno="170"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="classlbann_1_1_layer_1adc052afb38f170e839db00d3c8151d1e" kindref="member">m_num_prev_neuron_dims</ref>;</highlight></codeline>
<codeline lineno="171"><highlight class="normal"><sp/><sp/>}</highlight></codeline>
<codeline lineno="173" refid="classlbann_1_1_layer_1a54f53393fadbfdc73b4e72489c868433" refkind="member"><highlight class="normal"><sp/><sp/></highlight><highlight class="keyword">virtual</highlight><highlight class="normal"><sp/>std::vector&lt;int&gt;<sp/><ref refid="classlbann_1_1_layer_1a54f53393fadbfdc73b4e72489c868433" kindref="member">get_neuron_dims</ref>(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>child_index<sp/>=<sp/>0)</highlight><highlight class="keyword"><sp/>const<sp/></highlight><highlight class="normal">{</highlight></codeline>
<codeline lineno="174"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="classlbann_1_1_layer_1abb34bb8031f57a483e2e327a5f229f48" kindref="member">m_neuron_dims</ref>;</highlight></codeline>
<codeline lineno="175"><highlight class="normal"><sp/><sp/>}</highlight></codeline>
<codeline lineno="177" refid="classlbann_1_1_layer_1aa4de686cc6c2dd38166f42faf874f227" refkind="member"><highlight class="normal"><sp/><sp/></highlight><highlight class="keyword">virtual</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="classlbann_1_1_layer_1aa4de686cc6c2dd38166f42faf874f227" kindref="member">get_num_neurons</ref>(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>child_index<sp/>=<sp/>0)</highlight><highlight class="keyword"><sp/>const<sp/></highlight><highlight class="normal">{</highlight></codeline>
<codeline lineno="178"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="classlbann_1_1_layer_1a6b5ebc8a7d9329d8a773ed787e7b41d8" kindref="member">m_num_neurons</ref>;</highlight></codeline>
<codeline lineno="179"><highlight class="normal"><sp/><sp/>}</highlight></codeline>
<codeline lineno="181" refid="classlbann_1_1_layer_1aa35561e662de84deae26045ccb53d862" refkind="member"><highlight class="normal"><sp/><sp/></highlight><highlight class="keyword">virtual</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="classlbann_1_1_layer_1aa35561e662de84deae26045ccb53d862" kindref="member">get_num_neuron_dims</ref>(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>child_index<sp/>=<sp/>0)</highlight><highlight class="keyword"><sp/>const<sp/></highlight><highlight class="normal">{</highlight></codeline>
<codeline lineno="182"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="classlbann_1_1_layer_1adfd6178d21498c9095cd947ae1eb2d6a" kindref="member">m_num_neuron_dims</ref>;</highlight></codeline>
<codeline lineno="183"><highlight class="normal"><sp/><sp/>}</highlight></codeline>
<codeline lineno="184"><highlight class="normal"></highlight></codeline>
<codeline lineno="186"><highlight class="normal"><sp/><sp/></highlight><highlight class="keyword">virtual</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="classlbann_1_1_layer_1a0a0f8e32e2b17953f87652f855ccfbf9" kindref="member">reset_counters</ref>();</highlight></codeline>
<codeline lineno="187"><highlight class="normal"></highlight></codeline>
<codeline lineno="189" refid="classlbann_1_1_layer_1a6a75532bdaa2ca3879034f2a76085a06" refkind="member"><highlight class="normal"><sp/><sp/></highlight><highlight class="keyword">inline</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/><ref refid="classlbann_1_1_layer_1a6a75532bdaa2ca3879034f2a76085a06" kindref="member">using_gpus</ref>()</highlight><highlight class="keyword"><sp/>const<sp/></highlight><highlight class="normal">{<sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="classlbann_1_1_layer_1af7881cb5eff5207c15fa835d65462e8f" kindref="member">m_using_gpus</ref>;<sp/>}</highlight></codeline>
<codeline lineno="190"><highlight class="normal"></highlight></codeline>
<codeline lineno="194" refid="classlbann_1_1_layer_1aa30dbf20929aaa58b5be98b98217ca88" refkind="member"><highlight class="normal"><sp/><sp/></highlight><highlight class="keyword">inline</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="classlbann_1_1_layer_1aa30dbf20929aaa58b5be98b98217ca88" kindref="member">get_expected_num_parent_layers</ref>()</highlight><highlight class="keyword"><sp/>const<sp/></highlight><highlight class="normal">{<sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="classlbann_1_1_layer_1a841b96b25555247f52921c7f13ae1dfa" kindref="member">m_expected_num_parent_layers</ref>;<sp/>}</highlight></codeline>
<codeline lineno="198" refid="classlbann_1_1_layer_1aaeef8c7631204fc415a94dcdfbcfe93d" refkind="member"><highlight class="normal"><sp/><sp/></highlight><highlight class="keyword">inline</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="classlbann_1_1_layer_1aaeef8c7631204fc415a94dcdfbcfe93d" kindref="member">get_expected_num_child_layers</ref>()</highlight><highlight class="keyword"><sp/>const<sp/></highlight><highlight class="normal">{<sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="classlbann_1_1_layer_1ac08f133dddd150319650e220ab9a523a" kindref="member">m_expected_num_child_layers</ref>;<sp/>}</highlight></codeline>
<codeline lineno="199"><highlight class="normal"></highlight></codeline>
<codeline lineno="201" refid="classlbann_1_1_layer_1afcfb6f55d12c728a59d107fe2d2fff0d" refkind="member"><highlight class="normal"><sp/><sp/></highlight><highlight class="keyword">inline</highlight><highlight class="normal"><sp/>model*<sp/><ref refid="classlbann_1_1_layer_1afcfb6f55d12c728a59d107fe2d2fff0d" kindref="member">get_model</ref>()</highlight><highlight class="keyword"><sp/>const<sp/></highlight><highlight class="normal">{<sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="classlbann_1_1_layer_1a3d9315e99574166f2f33e37b572021d2" kindref="member">m_model</ref>;<sp/>}</highlight></codeline>
<codeline lineno="203" refid="classlbann_1_1_layer_1a8eed87b25ea902b223c6b7a23abf78b3" refkind="member"><highlight class="normal"><sp/><sp/></highlight><highlight class="keyword">inline</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="classlbann_1_1_layer_1a8eed87b25ea902b223c6b7a23abf78b3" kindref="member">set_model</ref>(model*<sp/>m)<sp/>{<sp/><ref refid="classlbann_1_1_layer_1a3d9315e99574166f2f33e37b572021d2" kindref="member">m_model</ref><sp/>=<sp/>m;<sp/>}</highlight></codeline>
<codeline lineno="204"><highlight class="normal"></highlight></codeline>
<codeline lineno="205"><highlight class="normal"><sp/><sp/></highlight><highlight class="keyword">virtual</highlight><highlight class="normal"><sp/>El::Matrix&lt;El::Int&gt;*<sp/>get_sample_indices_per_mb()<sp/>{<sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">nullptr</highlight><highlight class="normal">;<sp/>};</highlight></codeline>
<codeline lineno="206"><highlight class="normal"></highlight></codeline>
<codeline lineno="207"><highlight class="normal"><sp/><sp/></highlight><highlight class="keyword">virtual</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>saveToFile(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>fd,<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/>*filename)</highlight><highlight class="keyword"><sp/>const<sp/></highlight><highlight class="normal">{<sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">true</highlight><highlight class="normal">;<sp/>};</highlight></codeline>
<codeline lineno="208"><highlight class="normal"><sp/><sp/></highlight><highlight class="keyword">virtual</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>loadFromFile(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>fd,<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/>*filename)<sp/>{<sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">true</highlight><highlight class="normal">;<sp/>};</highlight></codeline>
<codeline lineno="209"><highlight class="normal"></highlight></codeline>
<codeline lineno="210"><highlight class="normal"><sp/><sp/></highlight><highlight class="keyword">virtual</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>saveToCheckpoint(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>fd,<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/>*filename,<sp/></highlight><highlight class="keywordtype">size_t</highlight><highlight class="normal"><sp/>*bytes)<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="211"><highlight class="normal"><sp/><sp/></highlight><highlight class="keyword">virtual</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>loadFromCheckpoint(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>fd,<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/>*filename,<sp/></highlight><highlight class="keywordtype">size_t</highlight><highlight class="normal"><sp/>*bytes);</highlight></codeline>
<codeline lineno="212"><highlight class="normal"></highlight></codeline>
<codeline lineno="213"><highlight class="normal"><sp/><sp/></highlight><highlight class="keyword">virtual</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>save_to_checkpoint_shared(persist&amp;<sp/>p,</highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>val_end)<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="214"><highlight class="normal"><sp/><sp/></highlight><highlight class="keyword">virtual</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>load_from_checkpoint_shared(persist&amp;<sp/>p);</highlight></codeline>
<codeline lineno="215"><highlight class="normal"><sp/><sp/></highlight></codeline>
<codeline lineno="217"><highlight class="normal"><sp/><sp/></highlight><highlight class="keyword">virtual</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="classlbann_1_1_layer_1a91682736d7689bbe4fb2355579be982d" kindref="member">write_proto</ref>(lbann_data::Layer*<sp/>proto)<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="218"><highlight class="normal"></highlight></codeline>
<codeline lineno="223"><highlight class="normal"><sp/><sp/></highlight><highlight class="keyword">virtual</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="classlbann_1_1_layer_1a09e9e16843467b5a89739f06c6c8f027" kindref="member">get_fp_output</ref>(AbsDistMat&amp;<sp/>fp_output,<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="classlbann_1_1_layer" kindref="compound">Layer</ref>*<sp/>child)<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="228"><highlight class="normal"><sp/><sp/></highlight><highlight class="keyword">virtual</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="classlbann_1_1_layer_1ac9d620c9ca0a14e7c16a6719c4fd35b8" kindref="member">get_bp_output</ref>(AbsDistMat&amp;<sp/>bp_output,<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="classlbann_1_1_layer" kindref="compound">Layer</ref>*<sp/>parent)<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="229"><highlight class="normal"></highlight><highlight class="preprocessor">#ifdef<sp/>LBANN_HAS_CUDNN</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="230"><highlight class="normal"></highlight></codeline>
<codeline lineno="235"><highlight class="normal"><sp/><sp/></highlight><highlight class="keyword">virtual</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>get_gpu_fp_output(cudnn::matrix&amp;<sp/>fp_output_d,</highlight></codeline>
<codeline lineno="236"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>AbsDistMat&amp;<sp/>workspace,</highlight></codeline>
<codeline lineno="237"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="classlbann_1_1_layer" kindref="compound">Layer</ref>*<sp/>child)<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="243"><highlight class="normal"><sp/><sp/></highlight><highlight class="keyword">virtual</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>get_gpu_bp_output(cudnn::matrix&amp;<sp/>bp_output_d,</highlight></codeline>
<codeline lineno="244"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>AbsDistMat&amp;<sp/>workspace,</highlight></codeline>
<codeline lineno="245"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="classlbann_1_1_layer" kindref="compound">Layer</ref>*<sp/>parent)<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="246"><highlight class="normal"></highlight><highlight class="preprocessor">#endif<sp/>//<sp/>LBANN_HAS_CUDNN</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="247"><highlight class="normal"></highlight></codeline>
<codeline lineno="250" refid="classlbann_1_1_layer_1a22d31298912405660ebb210c0d7c5373" refkind="member"><highlight class="normal"><sp/><sp/></highlight><highlight class="keyword">virtual</highlight><highlight class="normal"><sp/>std::vector&lt;int&gt;<sp/><ref refid="classlbann_1_1_layer_1a22d31298912405660ebb210c0d7c5373" kindref="member">fp_output_dims</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="classlbann_1_1_layer" kindref="compound">Layer</ref>*<sp/>child<sp/>=<sp/></highlight><highlight class="keyword">nullptr</highlight><highlight class="normal">)</highlight><highlight class="keyword"><sp/>const<sp/></highlight><highlight class="normal">{<sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="classlbann_1_1_layer_1abb34bb8031f57a483e2e327a5f229f48" kindref="member">m_neuron_dims</ref>;<sp/>}</highlight></codeline>
<codeline lineno="251"><highlight class="normal"></highlight></codeline>
<codeline lineno="253" refid="classlbann_1_1_layer_1a8d942eb2cd37c346edc5ff473e0494a2" refkind="member"><highlight class="normal"><sp/><sp/></highlight><highlight class="keyword">virtual</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="classlbann_1_1_layer_1a8d942eb2cd37c346edc5ff473e0494a2" kindref="member">add_to_error_signal</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>AbsDistMat&amp;<sp/>error_signals,</highlight></codeline>
<codeline lineno="254"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>DataType<sp/>scale<sp/>=<sp/>DataType(1),</highlight></codeline>
<codeline lineno="255"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>parent_index<sp/>=<sp/>0)<sp/>{</highlight></codeline>
<codeline lineno="256"><highlight class="normal"><sp/><sp/><sp/><sp/>El::Axpy(scale,<sp/>error_signals,<sp/>*<ref refid="classlbann_1_1_layer_1a452e22ac81c1a799f0614b3e942ea726" kindref="member">m_error_signals</ref>[parent_index]);</highlight></codeline>
<codeline lineno="257"><highlight class="normal"><sp/><sp/>}</highlight></codeline>
<codeline lineno="258"><highlight class="normal"></highlight></codeline>
<codeline lineno="260" refid="classlbann_1_1_layer_1a898e72b93752abf52d35b06459cd360e" refkind="member"><highlight class="normal"><sp/><sp/></highlight><highlight class="keyword">inline</highlight><highlight class="normal"><sp/>std::vector&lt;const<sp/>Layer*&gt;&amp;<sp/><ref refid="classlbann_1_1_layer_1a898e72b93752abf52d35b06459cd360e" kindref="member">get_parent_layers</ref>()<sp/>{<sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="classlbann_1_1_layer_1a3fa7c6cf1a22bb14ab0e85e3dc6027c5" kindref="member">m_parent_layers</ref>;<sp/>}</highlight></codeline>
<codeline lineno="262" refid="classlbann_1_1_layer_1a233ceaf4e6c6b5c24dd097ffff511579" refkind="member"><highlight class="normal"><sp/><sp/></highlight><highlight class="keyword">inline</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>std::vector&lt;const<sp/>Layer*&gt;&amp;<sp/><ref refid="classlbann_1_1_layer_1a233ceaf4e6c6b5c24dd097ffff511579" kindref="member">get_parent_layers</ref>()</highlight><highlight class="keyword"><sp/>const<sp/></highlight><highlight class="normal">{<sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="classlbann_1_1_layer_1a3fa7c6cf1a22bb14ab0e85e3dc6027c5" kindref="member">m_parent_layers</ref>;<sp/>}</highlight></codeline>
<codeline lineno="264" refid="classlbann_1_1_layer_1aa0058c8ec4913efc3e4de5d6f61eb8db" refkind="member"><highlight class="normal"><sp/><sp/></highlight><highlight class="keyword">inline</highlight><highlight class="normal"><sp/>std::vector&lt;const<sp/>Layer*&gt;&amp;<sp/><ref refid="classlbann_1_1_layer_1aa0058c8ec4913efc3e4de5d6f61eb8db" kindref="member">get_child_layers</ref>()<sp/>{<sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="classlbann_1_1_layer_1ae348c0d2b4d05f74d809d09debb633c0" kindref="member">m_child_layers</ref>;<sp/>}</highlight></codeline>
<codeline lineno="266" refid="classlbann_1_1_layer_1a0ad6c5253a4545a7322766d586a4bd33" refkind="member"><highlight class="normal"><sp/><sp/></highlight><highlight class="keyword">inline</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>std::vector&lt;const<sp/>Layer*&gt;&amp;<sp/><ref refid="classlbann_1_1_layer_1a0ad6c5253a4545a7322766d586a4bd33" kindref="member">get_child_layers</ref>()</highlight><highlight class="keyword"><sp/>const<sp/></highlight><highlight class="normal">{<sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="classlbann_1_1_layer_1ae348c0d2b4d05f74d809d09debb633c0" kindref="member">m_child_layers</ref>;<sp/>}</highlight></codeline>
<codeline lineno="267"><highlight class="normal"></highlight></codeline>
<codeline lineno="269" refid="classlbann_1_1_layer_1ac9290d4a6453ccda5f6b4d8b57b49ba3" refkind="member"><highlight class="normal"><sp/><sp/></highlight><highlight class="keyword">inline</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="classlbann_1_1_layer_1ac9290d4a6453ccda5f6b4d8b57b49ba3" kindref="member">get_num_parents</ref>()</highlight><highlight class="keyword"><sp/>const<sp/></highlight><highlight class="normal">{<sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="classlbann_1_1_layer_1a898e72b93752abf52d35b06459cd360e" kindref="member">get_parent_layers</ref>().size();<sp/>}</highlight></codeline>
<codeline lineno="271" refid="classlbann_1_1_layer_1a1409a117c31a7ea4f2c7a4d22a3e86c3" refkind="member"><highlight class="normal"><sp/><sp/></highlight><highlight class="keyword">inline</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="classlbann_1_1_layer_1a1409a117c31a7ea4f2c7a4d22a3e86c3" kindref="member">get_num_children</ref>()</highlight><highlight class="keyword"><sp/>const<sp/></highlight><highlight class="normal">{<sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="classlbann_1_1_layer_1aa0058c8ec4913efc3e4de5d6f61eb8db" kindref="member">get_child_layers</ref>().size();<sp/>}</highlight></codeline>
<codeline lineno="272"><highlight class="normal"></highlight></codeline>
<codeline lineno="274"><highlight class="normal"><sp/><sp/></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/>std::string<sp/><ref refid="classlbann_1_1_layer_1ab00780b81a50f0b404d348ae4b4a86dc" kindref="member">get_layer_names</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>std::vector&lt;const<sp/>Layer*&gt;&amp;<sp/>list);</highlight></codeline>
<codeline lineno="275"><highlight class="normal"><sp/><sp/>std::string<sp/>get_child_names()</highlight><highlight class="keyword"><sp/>const<sp/></highlight><highlight class="normal">{<sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="classlbann_1_1_layer_1ab00780b81a50f0b404d348ae4b4a86dc" kindref="member">get_layer_names</ref>(<ref refid="classlbann_1_1_layer_1ae348c0d2b4d05f74d809d09debb633c0" kindref="member">m_child_layers</ref>);<sp/>}</highlight></codeline>
<codeline lineno="276"><highlight class="normal"><sp/><sp/>std::string<sp/>get_parent_names()</highlight><highlight class="keyword"><sp/>const<sp/></highlight><highlight class="normal">{<sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="classlbann_1_1_layer_1ab00780b81a50f0b404d348ae4b4a86dc" kindref="member">get_layer_names</ref>(<ref refid="classlbann_1_1_layer_1a3fa7c6cf1a22bb14ab0e85e3dc6027c5" kindref="member">m_parent_layers</ref>);<sp/>}</highlight></codeline>
<codeline lineno="277"><highlight class="normal"></highlight></codeline>
<codeline lineno="282"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="classlbann_1_1_layer_1a326668ce624a9bcc719a463820b2e3a4" kindref="member">add_parent_layer</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="classlbann_1_1_layer" kindref="compound">Layer</ref>*<sp/>parent);</highlight></codeline>
<codeline lineno="287"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="classlbann_1_1_layer_1ace0346ac56fd7ce7b6b44f27f224f35e" kindref="member">add_child_layer</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="classlbann_1_1_layer" kindref="compound">Layer</ref>*<sp/>child);</highlight></codeline>
<codeline lineno="288"><highlight class="normal"></highlight></codeline>
<codeline lineno="292" refid="classlbann_1_1_layer_1a7336909c78e438ba5332c6c1bddeadd2" refkind="member"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="classlbann_1_1_layer_1a7336909c78e438ba5332c6c1bddeadd2" kindref="member">clear_parent_layers</ref>()<sp/>{<sp/><ref refid="classlbann_1_1_layer_1a898e72b93752abf52d35b06459cd360e" kindref="member">get_parent_layers</ref>().clear();<sp/>}</highlight></codeline>
<codeline lineno="296" refid="classlbann_1_1_layer_1a040bf53e261b1ef796739c09b3362a3a" refkind="member"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="classlbann_1_1_layer_1a040bf53e261b1ef796739c09b3362a3a" kindref="member">clear_child_layers</ref>()<sp/>{<sp/><ref refid="classlbann_1_1_layer_1aa0058c8ec4913efc3e4de5d6f61eb8db" kindref="member">get_child_layers</ref>().clear();<sp/>}</highlight></codeline>
<codeline lineno="297"><highlight class="normal"></highlight></codeline>
<codeline lineno="299"><highlight class="normal"><sp/><sp/></highlight><highlight class="keyword">virtual</highlight><highlight class="normal"><sp/>std::vector&lt;Layer*&gt;<sp/><ref refid="classlbann_1_1_layer_1a85ec84f2b2581550aab97d50734233e5" kindref="member">get_layer_pointers</ref>();</highlight></codeline>
<codeline lineno="301"><highlight class="normal"><sp/><sp/></highlight><highlight class="keyword">virtual</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="classlbann_1_1_layer_1aa8779721c2fb17770f27a7db5924ba18" kindref="member">set_layer_pointers</ref>(std::vector&lt;Layer*&gt;<sp/>layers);</highlight></codeline>
<codeline lineno="302"><highlight class="normal"></highlight></codeline>
<codeline lineno="304" refid="classlbann_1_1_layer_1a4ee78d42284421519dd18d27b4da0957" refkind="member"><highlight class="normal"><sp/><sp/></highlight><highlight class="keyword">inline</highlight><highlight class="normal"><sp/>std::vector&lt;weights*&gt;&amp;<sp/><ref refid="classlbann_1_1_layer_1a4ee78d42284421519dd18d27b4da0957" kindref="member">get_weights</ref>()<sp/>{<sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="classlbann_1_1_layer_1a7954e30fbf9100a6ba4b56d02767a469" kindref="member">m_weights</ref>;<sp/>}</highlight></codeline>
<codeline lineno="306" refid="classlbann_1_1_layer_1ab9fe05ad8d21ba5d6dd4d22ee2e0dca0" refkind="member"><highlight class="normal"><sp/><sp/></highlight><highlight class="keyword">inline</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>std::vector&lt;weights*&gt;&amp;<sp/><ref refid="classlbann_1_1_layer_1ab9fe05ad8d21ba5d6dd4d22ee2e0dca0" kindref="member">get_weights</ref>()</highlight><highlight class="keyword"><sp/>const<sp/></highlight><highlight class="normal">{<sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="classlbann_1_1_layer_1a7954e30fbf9100a6ba4b56d02767a469" kindref="member">m_weights</ref>;<sp/>}</highlight></codeline>
<codeline lineno="308" refid="classlbann_1_1_layer_1a524a78dc6a812ae92834a9e1aa83434b" refkind="member"><highlight class="normal"><sp/><sp/></highlight><highlight class="keyword">inline</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="classlbann_1_1_layer_1a524a78dc6a812ae92834a9e1aa83434b" kindref="member">set_weights</ref>(std::vector&lt;weights*&gt;<sp/>w)<sp/>{<sp/><ref refid="classlbann_1_1_layer_1a4ee78d42284421519dd18d27b4da0957" kindref="member">get_weights</ref>()<sp/>=<sp/>w;<sp/>}</highlight></codeline>
<codeline lineno="310"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="classlbann_1_1_layer_1ae9df4e0b0fe7c276c79575f9e11c53af" kindref="member">replace_weights</ref>(<ref refid="classlbann_1_1_layer" kindref="compound">Layer</ref>*<sp/>other_layer);</highlight></codeline>
<codeline lineno="311"><highlight class="normal"></highlight></codeline>
<codeline lineno="313"><highlight class="normal"><sp/><sp/>AbsDistMat&amp;<sp/><ref refid="classlbann_1_1_layer_1a174d419739aaa76efa1bae14973662de" kindref="member">get_prev_activations</ref>(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>parent_index<sp/>=<sp/>0);</highlight></codeline>
<codeline lineno="315"><highlight class="normal"><sp/><sp/>AbsDistMat&amp;<sp/><ref refid="classlbann_1_1_layer_1ab727ffb6cac5cd58cda8f610461246a4" kindref="member">get_activations</ref>(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>child_index<sp/>=<sp/>0);</highlight></codeline>
<codeline lineno="317"><highlight class="normal"><sp/><sp/>AbsDistMat&amp;<sp/><ref refid="classlbann_1_1_layer_1ad0c955adcaad15087727352eb24e70b6" kindref="member">get_prev_error_signals</ref>(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>child_index<sp/>=<sp/>0);</highlight></codeline>
<codeline lineno="319"><highlight class="normal"><sp/><sp/>AbsDistMat&amp;<sp/><ref refid="classlbann_1_1_layer_1a8cfd7eda38d6228ee0a37377addf558a" kindref="member">get_error_signals</ref>(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>parent_index<sp/>=<sp/>0);</highlight></codeline>
<codeline lineno="321"><highlight class="normal"><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>AbsDistMat&amp;<sp/><ref refid="classlbann_1_1_layer_1a174d419739aaa76efa1bae14973662de" kindref="member">get_prev_activations</ref>(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>parent_index<sp/>=<sp/>0)<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="323"><highlight class="normal"><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>AbsDistMat&amp;<sp/><ref refid="classlbann_1_1_layer_1ab727ffb6cac5cd58cda8f610461246a4" kindref="member">get_activations</ref>(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>child_index<sp/>=<sp/>0)<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="325"><highlight class="normal"><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>AbsDistMat&amp;<sp/><ref refid="classlbann_1_1_layer_1ad0c955adcaad15087727352eb24e70b6" kindref="member">get_prev_error_signals</ref>(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>child_index<sp/>=<sp/>0)<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="327"><highlight class="normal"><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>AbsDistMat&amp;<sp/><ref refid="classlbann_1_1_layer_1a8cfd7eda38d6228ee0a37377addf558a" kindref="member">get_error_signals</ref>(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>parent_index<sp/>=<sp/>0)<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="329"><highlight class="normal"><sp/><sp/>Mat&amp;<sp/><ref refid="classlbann_1_1_layer_1a185f48a1e0c4f0290178d7b14dad488a" kindref="member">get_local_prev_activations</ref>(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>parent_index<sp/>=<sp/>0);</highlight></codeline>
<codeline lineno="331"><highlight class="normal"><sp/><sp/>Mat&amp;<sp/><ref refid="classlbann_1_1_layer_1a5d9df9409574260963b25231ca1ff4f7" kindref="member">get_local_activations</ref>(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>child_index<sp/>=<sp/>0);</highlight></codeline>
<codeline lineno="333"><highlight class="normal"><sp/><sp/>Mat&amp;<sp/><ref refid="classlbann_1_1_layer_1a4e97915dd63ae4ac28a4538c1fc3b716" kindref="member">get_local_prev_error_signals</ref>(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>child_index<sp/>=<sp/>0);</highlight></codeline>
<codeline lineno="335"><highlight class="normal"><sp/><sp/>Mat&amp;<sp/><ref refid="classlbann_1_1_layer_1a4f56e4d1349a4b5d91dceca344910c1e" kindref="member">get_local_error_signals</ref>(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>parent_index<sp/>=<sp/>0);</highlight></codeline>
<codeline lineno="337"><highlight class="normal"><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>Mat&amp;<sp/><ref refid="classlbann_1_1_layer_1a185f48a1e0c4f0290178d7b14dad488a" kindref="member">get_local_prev_activations</ref>(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>parent_index<sp/>=<sp/>0)<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="339"><highlight class="normal"><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>Mat&amp;<sp/><ref refid="classlbann_1_1_layer_1a5d9df9409574260963b25231ca1ff4f7" kindref="member">get_local_activations</ref>(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>child_index<sp/>=<sp/>0)<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="341"><highlight class="normal"><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>Mat&amp;<sp/><ref refid="classlbann_1_1_layer_1a4e97915dd63ae4ac28a4538c1fc3b716" kindref="member">get_local_prev_error_signals</ref>(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>child_index<sp/>=<sp/>0)<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="343"><highlight class="normal"><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>Mat&amp;<sp/><ref refid="classlbann_1_1_layer_1a4f56e4d1349a4b5d91dceca344910c1e" kindref="member">get_local_error_signals</ref>(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>parent_index<sp/>=<sp/>0)<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="344"><highlight class="normal"></highlight></codeline>
<codeline lineno="346" refid="classlbann_1_1_layer_1a1b528e5872357a82176ee487596b363c" refkind="member"><highlight class="normal"><sp/><sp/>lbann_comm*<sp/><ref refid="classlbann_1_1_layer_1a1b528e5872357a82176ee487596b363c" kindref="member">get_comm</ref>()</highlight><highlight class="keyword"><sp/>const<sp/></highlight><highlight class="normal">{<sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="classlbann_1_1_layer_1a5de05c52f22e0bbd7c703bec3ad4dbf2" kindref="member">m_comm</ref>;<sp/>}</highlight></codeline>
<codeline lineno="348" refid="classlbann_1_1_layer_1a63c694744d9360208642a35412a4e8ee" refkind="member"><highlight class="normal"><sp/><sp/>cudnn::cudnn_manager*<sp/><ref refid="classlbann_1_1_layer_1a63c694744d9360208642a35412a4e8ee" kindref="member">get_cudnn_manager</ref>()</highlight><highlight class="keyword"><sp/>const<sp/></highlight><highlight class="normal">{<sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="classlbann_1_1_layer_1a08dbb94239e3b8c96329786c57c72e21" kindref="member">m_cudnn</ref>;<sp/>}</highlight></codeline>
<codeline lineno="349"><highlight class="normal"></highlight></codeline>
<codeline lineno="350"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>freeze();</highlight></codeline>
<codeline lineno="351"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>unfreeze();</highlight></codeline>
<codeline lineno="352"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>is_frozen()<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="353"><highlight class="normal"></highlight></codeline>
<codeline lineno="354"><highlight class="normal"><sp/></highlight><highlight class="keyword">protected</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="355"><highlight class="normal"></highlight></codeline>
<codeline lineno="357" refid="classlbann_1_1_layer_1a5de05c52f22e0bbd7c703bec3ad4dbf2" refkind="member"><highlight class="normal"><sp/><sp/>lbann_comm<sp/>*<ref refid="classlbann_1_1_layer_1a5de05c52f22e0bbd7c703bec3ad4dbf2" kindref="member">m_comm</ref>;</highlight></codeline>
<codeline lineno="358"><highlight class="normal"></highlight></codeline>
<codeline lineno="363" refid="classlbann_1_1_layer_1abb34bb8031f57a483e2e327a5f229f48" refkind="member"><highlight class="normal"><sp/><sp/>std::vector&lt;int&gt;<sp/><ref refid="classlbann_1_1_layer_1abb34bb8031f57a483e2e327a5f229f48" kindref="member">m_neuron_dims</ref>;</highlight></codeline>
<codeline lineno="365" refid="classlbann_1_1_layer_1a6b5ebc8a7d9329d8a773ed787e7b41d8" refkind="member"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="classlbann_1_1_layer_1a6b5ebc8a7d9329d8a773ed787e7b41d8" kindref="member">m_num_neurons</ref>;</highlight></codeline>
<codeline lineno="367" refid="classlbann_1_1_layer_1adfd6178d21498c9095cd947ae1eb2d6a" refkind="member"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="classlbann_1_1_layer_1adfd6178d21498c9095cd947ae1eb2d6a" kindref="member">m_num_neuron_dims</ref>;</highlight></codeline>
<codeline lineno="372" refid="classlbann_1_1_layer_1ae204d1a2a79606eaa117273857ff62a3" refkind="member"><highlight class="normal"><sp/><sp/>std::vector&lt;int&gt;<sp/><ref refid="classlbann_1_1_layer_1ae204d1a2a79606eaa117273857ff62a3" kindref="member">m_prev_neuron_dims</ref>;</highlight></codeline>
<codeline lineno="374" refid="classlbann_1_1_layer_1ac7b30f4e28d58204bfcbb76886f9136d" refkind="member"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="classlbann_1_1_layer_1ac7b30f4e28d58204bfcbb76886f9136d" kindref="member">m_num_prev_neurons</ref>;</highlight></codeline>
<codeline lineno="376" refid="classlbann_1_1_layer_1adc052afb38f170e839db00d3c8151d1e" refkind="member"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="classlbann_1_1_layer_1adc052afb38f170e839db00d3c8151d1e" kindref="member">m_num_prev_neuron_dims</ref>;</highlight></codeline>
<codeline lineno="377"><highlight class="normal"></highlight></codeline>
<codeline lineno="384" refid="classlbann_1_1_layer_1a52314601c3458268f56e017dc2ade357" refkind="member"><highlight class="normal"><sp/><sp/>std::vector&lt;AbsDistMat*&gt;<sp/><ref refid="classlbann_1_1_layer_1a52314601c3458268f56e017dc2ade357" kindref="member">m_prev_activations</ref>;</highlight></codeline>
<codeline lineno="391" refid="classlbann_1_1_layer_1a7caf08e938141d1584e6939cefa4baed" refkind="member"><highlight class="normal"><sp/><sp/>std::vector&lt;AbsDistMat*&gt;<sp/><ref refid="classlbann_1_1_layer_1a7caf08e938141d1584e6939cefa4baed" kindref="member">m_activations</ref>;</highlight></codeline>
<codeline lineno="398" refid="classlbann_1_1_layer_1a6fdcbf884150d0b20cffe678fefd7caa" refkind="member"><highlight class="normal"><sp/><sp/>std::vector&lt;AbsDistMat*&gt;<sp/><ref refid="classlbann_1_1_layer_1a6fdcbf884150d0b20cffe678fefd7caa" kindref="member">m_prev_error_signals</ref>;</highlight></codeline>
<codeline lineno="405" refid="classlbann_1_1_layer_1a452e22ac81c1a799f0614b3e942ea726" refkind="member"><highlight class="normal"><sp/><sp/>std::vector&lt;AbsDistMat*&gt;<sp/><ref refid="classlbann_1_1_layer_1a452e22ac81c1a799f0614b3e942ea726" kindref="member">m_error_signals</ref>;</highlight></codeline>
<codeline lineno="406"><highlight class="normal"></highlight></codeline>
<codeline lineno="408" refid="classlbann_1_1_layer_1a7954e30fbf9100a6ba4b56d02767a469" refkind="member"><highlight class="normal"><sp/><sp/>std::vector&lt;weights*&gt;<sp/><ref refid="classlbann_1_1_layer_1a7954e30fbf9100a6ba4b56d02767a469" kindref="member">m_weights</ref>;</highlight></codeline>
<codeline lineno="409"><highlight class="normal"></highlight></codeline>
<codeline lineno="411" refid="classlbann_1_1_layer_1a3fa7c6cf1a22bb14ab0e85e3dc6027c5" refkind="member"><highlight class="normal"><sp/><sp/>std::vector&lt;const<sp/>Layer*&gt;<sp/><ref refid="classlbann_1_1_layer_1a3fa7c6cf1a22bb14ab0e85e3dc6027c5" kindref="member">m_parent_layers</ref>;</highlight></codeline>
<codeline lineno="413" refid="classlbann_1_1_layer_1ae348c0d2b4d05f74d809d09debb633c0" refkind="member"><highlight class="normal"><sp/><sp/>std::vector&lt;const<sp/>Layer*&gt;<sp/><ref refid="classlbann_1_1_layer_1ae348c0d2b4d05f74d809d09debb633c0" kindref="member">m_child_layers</ref>;</highlight></codeline>
<codeline lineno="414"><highlight class="normal"></highlight></codeline>
<codeline lineno="418" refid="classlbann_1_1_layer_1a841b96b25555247f52921c7f13ae1dfa" refkind="member"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="classlbann_1_1_layer_1a841b96b25555247f52921c7f13ae1dfa" kindref="member">m_expected_num_parent_layers</ref><sp/>=<sp/>1;</highlight></codeline>
<codeline lineno="422" refid="classlbann_1_1_layer_1ac08f133dddd150319650e220ab9a523a" refkind="member"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="classlbann_1_1_layer_1ac08f133dddd150319650e220ab9a523a" kindref="member">m_expected_num_child_layers</ref><sp/>=<sp/>1;</highlight></codeline>
<codeline lineno="423"><highlight class="normal"></highlight></codeline>
<codeline lineno="425" refid="classlbann_1_1_layer_1a3d9315e99574166f2f33e37b572021d2" refkind="member"><highlight class="normal"><sp/><sp/>model<sp/>*<ref refid="classlbann_1_1_layer_1a3d9315e99574166f2f33e37b572021d2" kindref="member">m_model</ref><sp/>=<sp/></highlight><highlight class="keyword">nullptr</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="426"><highlight class="normal"></highlight></codeline>
<codeline lineno="431"><highlight class="normal"><sp/><sp/></highlight><highlight class="keyword">virtual</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="classlbann_1_1_layer_1a3940d00d4aa789de92453d8a4a5a860b" kindref="member">fp_setup_data</ref>(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>mini_batch_size);</highlight></codeline>
<codeline lineno="437"><highlight class="normal"><sp/><sp/></highlight><highlight class="keyword">virtual</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="classlbann_1_1_layer_1aab9d2de8aca20f6674c6f089b1fffd87" kindref="member">bp_setup_data</ref>(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>mini_batch_size);</highlight></codeline>
<codeline lineno="438"><highlight class="normal"></highlight><highlight class="preprocessor">#ifdef<sp/>LBANN_HAS_CUDNN</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="439"><highlight class="normal"></highlight></codeline>
<codeline lineno="440"><highlight class="normal"><sp/><sp/></highlight><highlight class="keyword">virtual</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>pin_data();</highlight></codeline>
<codeline lineno="441"><highlight class="normal"></highlight><highlight class="preprocessor">#endif<sp/>//<sp/>LBANN_HAS_CUDNN</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="442"><highlight class="normal"></highlight></codeline>
<codeline lineno="448"><highlight class="normal"><sp/><sp/></highlight><highlight class="keyword">virtual</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="classlbann_1_1_layer_1a66baf6b96d3c7de0ebbb326d123e7973" kindref="member">setup_pointers</ref>();</highlight></codeline>
<codeline lineno="454"><highlight class="normal"><sp/><sp/></highlight><highlight class="keyword">virtual</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="classlbann_1_1_layer_1a701c553c00dc310ccdc8f7bf5453abcc" kindref="member">setup_dims</ref>();</highlight></codeline>
<codeline lineno="460"><highlight class="normal"><sp/><sp/></highlight><highlight class="keyword">virtual</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="classlbann_1_1_layer_1a175ee47076dd3c80e201f705f2c751db" kindref="member">setup_matrices</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>El::Grid&amp;<sp/>grid);</highlight></codeline>
<codeline lineno="467"><highlight class="normal"><sp/><sp/></highlight><highlight class="keyword">virtual</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="classlbann_1_1_layer_1a6333bc7c2e0471afb91a5c7c2470b794" kindref="member">setup_data</ref>();</highlight></codeline>
<codeline lineno="474"><highlight class="normal"><sp/><sp/></highlight><highlight class="keyword">virtual</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="classlbann_1_1_layer_1afb36e044c33677718466ea146ec7a290" kindref="member">setup_gpu</ref>();</highlight></codeline>
<codeline lineno="475"><highlight class="normal"></highlight></codeline>
<codeline lineno="477"><highlight class="normal"><sp/><sp/></highlight><highlight class="keyword">virtual</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="classlbann_1_1_layer_1a523319dd1bd87a0612afa1912bb5aad7" kindref="member">fp_compute</ref>()<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="479"><highlight class="normal"><sp/><sp/></highlight><highlight class="keyword">virtual</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="classlbann_1_1_layer_1a7442e01f9ee1294df2de811efcf5171e" kindref="member">bp_compute</ref>()<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="483" refid="classlbann_1_1_layer_1a70e08fc96a612f67ade6ba3809536d85" refkind="member"><highlight class="normal"><sp/><sp/></highlight><highlight class="keyword">virtual</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/><ref refid="classlbann_1_1_layer_1a70e08fc96a612f67ade6ba3809536d85" kindref="member">update_compute</ref>()<sp/>{<sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">true</highlight><highlight class="normal">;<sp/>}</highlight></codeline>
<codeline lineno="484"><highlight class="normal"></highlight></codeline>
<codeline lineno="486" refid="classlbann_1_1_layer_1af7881cb5eff5207c15fa835d65462e8f" refkind="member"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/><ref refid="classlbann_1_1_layer_1af7881cb5eff5207c15fa835d65462e8f" kindref="member">m_using_gpus</ref>;</highlight></codeline>
<codeline lineno="487"><highlight class="normal"></highlight></codeline>
<codeline lineno="489" refid="classlbann_1_1_layer_1a08dbb94239e3b8c96329786c57c72e21" refkind="member"><highlight class="normal"><sp/><sp/>cudnn::cudnn_manager<sp/>*<ref refid="classlbann_1_1_layer_1a08dbb94239e3b8c96329786c57c72e21" kindref="member">m_cudnn</ref>;</highlight></codeline>
<codeline lineno="490"><highlight class="normal"></highlight></codeline>
<codeline lineno="492" refid="classlbann_1_1_layer_1afdc60df9731a3ecdeeeb8175fa483676" refkind="member"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/><ref refid="classlbann_1_1_layer_1afdc60df9731a3ecdeeeb8175fa483676" kindref="member">m_frozen</ref>;</highlight></codeline>
<codeline lineno="493"><highlight class="normal"></highlight></codeline>
<codeline lineno="494"><highlight class="normal"></highlight><highlight class="preprocessor">#ifdef<sp/>LBANN_HAS_CUDNN</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="495"><highlight class="normal"></highlight></codeline>
<codeline lineno="497"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>m_mini_batch_size_per_gpu;</highlight></codeline>
<codeline lineno="499"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>m_max_mini_batch_size_per_gpu;</highlight></codeline>
<codeline lineno="500"><highlight class="normal"></highlight></codeline>
<codeline lineno="502"><highlight class="normal"><sp/><sp/>std::vector&lt;cudnn::matrix&gt;<sp/>m_prev_activations_d;</highlight></codeline>
<codeline lineno="504"><highlight class="normal"><sp/><sp/>std::vector&lt;cudnn::matrix&gt;<sp/>m_activations_d;</highlight></codeline>
<codeline lineno="506"><highlight class="normal"><sp/><sp/>std::vector&lt;cudnn::matrix&gt;<sp/>m_prev_error_signals_d;</highlight></codeline>
<codeline lineno="508"><highlight class="normal"><sp/><sp/>std::vector&lt;cudnn::matrix&gt;<sp/>m_error_signals_d;</highlight></codeline>
<codeline lineno="509"><highlight class="normal"></highlight></codeline>
<codeline lineno="511"><highlight class="normal"><sp/><sp/>cudnnTensorDescriptor_t<sp/>m_prev_activations_cudnn_desc;</highlight></codeline>
<codeline lineno="513"><highlight class="normal"><sp/><sp/>cudnnTensorDescriptor_t<sp/>m_activations_cudnn_desc;</highlight></codeline>
<codeline lineno="515"><highlight class="normal"><sp/><sp/>cudnnTensorDescriptor_t<sp/>m_prev_error_signals_cudnn_desc;</highlight></codeline>
<codeline lineno="517"><highlight class="normal"><sp/><sp/>cudnnTensorDescriptor_t<sp/>m_error_signals_cudnn_desc;</highlight></codeline>
<codeline lineno="518"><highlight class="normal"></highlight></codeline>
<codeline lineno="519"><highlight class="normal"></highlight><highlight class="preprocessor">#endif<sp/>//<sp/>LBANN_HAS_CUDNN</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="520"><highlight class="normal"></highlight></codeline>
<codeline lineno="522" refid="classlbann_1_1_layer_1ab1bd9ab0a6f9e554f4dc936d8316028e" refkind="member"><highlight class="normal"><sp/><sp/>EvalType<sp/><ref refid="classlbann_1_1_layer_1ab1bd9ab0a6f9e554f4dc936d8316028e" kindref="member">m_fp_time</ref>;</highlight></codeline>
<codeline lineno="524" refid="classlbann_1_1_layer_1aa4e439c1d6a656e709dc4736c9380476" refkind="member"><highlight class="normal"><sp/><sp/>EvalType<sp/><ref refid="classlbann_1_1_layer_1aa4e439c1d6a656e709dc4736c9380476" kindref="member">m_fp_compute_time</ref>;</highlight></codeline>
<codeline lineno="526" refid="classlbann_1_1_layer_1aa60fc41627bcaa9c345775bf5737bb45" refkind="member"><highlight class="normal"><sp/><sp/>EvalType<sp/><ref refid="classlbann_1_1_layer_1aa60fc41627bcaa9c345775bf5737bb45" kindref="member">m_bp_time</ref>;</highlight></codeline>
<codeline lineno="528" refid="classlbann_1_1_layer_1ae28626457a58943b25e7a2920fc271f0" refkind="member"><highlight class="normal"><sp/><sp/>EvalType<sp/><ref refid="classlbann_1_1_layer_1ae28626457a58943b25e7a2920fc271f0" kindref="member">m_bp_compute_time</ref>;</highlight></codeline>
<codeline lineno="530" refid="classlbann_1_1_layer_1ab7d84533662b02d01ba6685ad6f20935" refkind="member"><highlight class="normal"><sp/><sp/>EvalType<sp/><ref refid="classlbann_1_1_layer_1ab7d84533662b02d01ba6685ad6f20935" kindref="member">m_update_time</ref>;</highlight></codeline>
<codeline lineno="531"><highlight class="normal"></highlight></codeline>
<codeline lineno="536" refid="classlbann_1_1_layer_1aa47109ad09b399142fa92f9d3702189f" refkind="member"><highlight class="normal"><sp/><sp/>std::string<sp/><ref refid="classlbann_1_1_layer_1aa47109ad09b399142fa92f9d3702189f" kindref="member">m_name</ref>;</highlight></codeline>
<codeline lineno="537"><highlight class="normal"></highlight></codeline>
<codeline lineno="538"><highlight class="normal"><sp/></highlight><highlight class="keyword">private</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="539"><highlight class="normal"></highlight></codeline>
<codeline lineno="541"><highlight class="normal"><sp/><sp/></highlight><highlight class="keyword">template</highlight><highlight class="normal"><sp/>&lt;data_layout<sp/>T&gt;</highlight></codeline>
<codeline lineno="542"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>instantiate_matrices(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>El::Grid&amp;<sp/>grid);</highlight></codeline>
<codeline lineno="543"><highlight class="normal"></highlight></codeline>
<codeline lineno="545"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>deallocate_matrices();</highlight></codeline>
<codeline lineno="546"><highlight class="normal"></highlight></codeline>
<codeline lineno="547"><highlight class="normal">};</highlight></codeline>
<codeline lineno="548"><highlight class="normal"></highlight></codeline>
<codeline lineno="549"><highlight class="normal">}<sp/></highlight><highlight class="comment">//<sp/>namespace<sp/>lbann</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="550"><highlight class="normal"></highlight></codeline>
<codeline lineno="551"><highlight class="normal"></highlight><highlight class="preprocessor">#endif<sp/>//<sp/>LBANN_LAYER_HPP_INCLUDED</highlight></codeline>
    </programlisting>
    <location file="/Users/mckinney27/doxy-testbed/lbann/include/lbann/layers/layer.hpp"/>
  </compounddef>
</doxygen>
